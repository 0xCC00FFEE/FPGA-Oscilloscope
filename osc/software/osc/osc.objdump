
osc.elf:     file format elf32-littlenios2
osc.elf
architecture: nios2, flags 0x00000112:
EXEC_P, HAS_SYMS, D_PAGED
start address 0x001501b8

Program Header:
    LOAD off    0x00001000 vaddr 0x00150000 paddr 0x00150000 align 2**12
         filesz 0x00000020 memsz 0x00000020 flags r-x
    LOAD off    0x00001020 vaddr 0x00150020 paddr 0x00150020 align 2**12
         filesz 0x00004e9c memsz 0x00004e9c flags r-x
    LOAD off    0x00005ebc vaddr 0x00154ebc paddr 0x00155fec align 2**12
         filesz 0x00001130 memsz 0x00001130 flags rw-
    LOAD off    0x0000711c vaddr 0x0015711c paddr 0x0015711c align 2**12
         filesz 0x00000000 memsz 0x00000eb8 flags rw-

Sections:
Idx Name          Size      VMA       LMA       File off  Algn
  0 .entry        00000020  00150000  00150000  00001000  2**5
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  1 .exceptions   00000198  00150020  00150020  00001020  2**2
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  2 .text         00004598  001501b8  001501b8  000011b8  2**2
                  CONTENTS, ALLOC, LOAD, READONLY, CODE
  3 .rodata       0000076c  00154750  00154750  00005750  2**2
                  CONTENTS, ALLOC, LOAD, READONLY, DATA
  4 .rwdata       00001130  00154ebc  00155fec  00005ebc  2**4
                  CONTENTS, ALLOC, LOAD, DATA, SMALL_DATA
  5 .bss          00000eb8  0015711c  0015711c  0000711c  2**2
                  ALLOC, SMALL_DATA
  6 .comment      00000023  00000000  00000000  00006fec  2**0
                  CONTENTS, READONLY
  7 .debug_aranges 00000508  00000000  00000000  00007010  2**3
                  CONTENTS, READONLY, DEBUGGING
  8 .debug_info   00005fa6  00000000  00000000  00007518  2**0
                  CONTENTS, READONLY, DEBUGGING
  9 .debug_abbrev 00001dc9  00000000  00000000  0000d4be  2**0
                  CONTENTS, READONLY, DEBUGGING
 10 .debug_line   0000231c  00000000  00000000  0000f287  2**0
                  CONTENTS, READONLY, DEBUGGING
 11 .debug_frame  00000be0  00000000  00000000  000115a4  2**2
                  CONTENTS, READONLY, DEBUGGING
 12 .debug_str    000015ff  00000000  00000000  00012184  2**0
                  CONTENTS, READONLY, DEBUGGING
 13 .debug_loc    000014f4  00000000  00000000  00013783  2**0
                  CONTENTS, READONLY, DEBUGGING
 14 .debug_alt_sim_info 00000020  00000000  00000000  00014c78  2**2
                  CONTENTS, READONLY, DEBUGGING
 15 .debug_ranges 000000d0  00000000  00000000  00014c98  2**3
                  CONTENTS, READONLY, DEBUGGING
 16 .thread_model 00000003  00000000  00000000  00017b09  2**0
                  CONTENTS, READONLY
 17 .cpu          00000004  00000000  00000000  00017b0c  2**0
                  CONTENTS, READONLY
 18 .qsys         00000001  00000000  00000000  00017b10  2**0
                  CONTENTS, READONLY
 19 .simulation_enabled 00000001  00000000  00000000  00017b11  2**0
                  CONTENTS, READONLY
 20 .sysid_hash   00000004  00000000  00000000  00017b12  2**0
                  CONTENTS, READONLY
 21 .sysid_base   00000004  00000000  00000000  00017b16  2**0
                  CONTENTS, READONLY
 22 .sysid_time   00000004  00000000  00000000  00017b1a  2**0
                  CONTENTS, READONLY
 23 .stderr_dev   00000004  00000000  00000000  00017b1e  2**0
                  CONTENTS, READONLY
 24 .stdin_dev    00000004  00000000  00000000  00017b22  2**0
                  CONTENTS, READONLY
 25 .stdout_dev   00000004  00000000  00000000  00017b26  2**0
                  CONTENTS, READONLY
 26 .sopc_system_name 00000004  00000000  00000000  00017b2a  2**0
                  CONTENTS, READONLY
 27 .quartus_project_dir 00000036  00000000  00000000  00017b2e  2**0
                  CONTENTS, READONLY
 28 .sopcinfo     00088c7d  00000000  00000000  00017b64  2**0
                  CONTENTS, READONLY
SYMBOL TABLE:
00150000 l    d  .entry	00000000 .entry
00150020 l    d  .exceptions	00000000 .exceptions
001501b8 l    d  .text	00000000 .text
00154750 l    d  .rodata	00000000 .rodata
00154ebc l    d  .rwdata	00000000 .rwdata
0015711c l    d  .bss	00000000 .bss
00000000 l    d  .comment	00000000 .comment
00000000 l    d  .debug_aranges	00000000 .debug_aranges
00000000 l    d  .debug_info	00000000 .debug_info
00000000 l    d  .debug_abbrev	00000000 .debug_abbrev
00000000 l    d  .debug_line	00000000 .debug_line
00000000 l    d  .debug_frame	00000000 .debug_frame
00000000 l    d  .debug_str	00000000 .debug_str
00000000 l    d  .debug_loc	00000000 .debug_loc
00000000 l    d  .debug_alt_sim_info	00000000 .debug_alt_sim_info
00000000 l    d  .debug_ranges	00000000 .debug_ranges
00000000 l    df *ABS*	00000000 ../osc_bsp//obj/HAL/src/crt0.o
001501f0 l       .text	00000000 alt_after_alt_main
00000000 l    df *ABS*	00000000 alt_exception_entry.o
00150094 l       .exceptions	00000000 alt_exception_unknown
00000000 l    df *ABS*	00000000 alt_irq_handler.c
00000000 l    df *ABS*	00000000 char57.c
00000000 l    df *ABS*	00000000 keyproc.c
00000000 l    df *ABS*	00000000 lcdout.c
00000000 l    df *ABS*	00000000 mainloop.c
00000000 l    df *ABS*	00000000 menu.c
00000000 l    df *ABS*	00000000 menuact.c
00000000 l    df *ABS*	00000000 stubfncs.c
00000000 l    df *ABS*	00000000 testcode.c
00000000 l    df *ABS*	00000000 tracutil.c
00000000 l    df *ABS*	00000000 obj/default/keyint.o
000fffff l       *ABS*	00000000 SWITCH_ALL
00000008 l       *ABS*	00000000 PIO_IRQ_MASK
0000000c l       *ABS*	00000000 PIO_EDGE_CAP
00000010 l       *ABS*	00000000 PIO_OUTSET
00000014 l       *ABS*	00000000 PIO_OUTCLR
00154ed0 l       .rwdata	00000000 adc_speed
00154ed6 l       .rwdata	00000000 trig_level
00154ed4 l       .rwdata	00000000 trig_delay
00152bd8 l     F .text	00000000 key_handler
00152bc0 l       .text	00000000 key_int_installer_done
00154ec0 l       .rwdata	00000000 key_press
00152c1c l       .text	00000000 loop_keys
00152c30 l       .text	00000000 key_lookup
0015310c l       .text	00000000 key_map
00154ec1 l       .rwdata	00000000 key_value
00152d58 l       .text	00000000 inc_speed
00152cbc l       .text	00000000 dec_speed
00152e90 l       .text	00000000 inc_level
00152dfc l       .text	00000000 dec_level
00152fc8 l       .text	00000000 inc_delay
00152f38 l       .text	00000000 dec_delay
00152c7c l       .text	00000000 key_lookup_cont
00152ca4 l       .text	00000000 key_handler_done
00152df0 l       .text	00000000 set_speed_2
00152cdc l       .text	00000000 dec_speed_cont
00152de8 l       .text	00000000 set_speed_1
00152d6c l       .text	00000000 inc_speed_cont
00152f2c l       .text	00000000 set_level_2
00152e14 l       .text	00000000 dec_level_cont
00152f24 l       .text	00000000 set_level_1
00152ea8 l       .text	00000000 inc_level_cont
00153068 l       .text	00000000 set_delay_2
00152f4c l       .text	00000000 dec_delay_cont
0015305c l       .text	00000000 set_delay_1
00152fe0 l       .text	00000000 inc_delay_cont
00153090 l       .text	00000000 key_available_done
001530f4 l       .text	00000000 getkey_done
00000000 l    df *ABS*	00000000 obj/default/testadc.o
000fffff l       *ABS*	00000000 SWITCH_ALL
00000008 l       *ABS*	00000000 PIO_IRQ_MASK
0000000c l       *ABS*	00000000 PIO_EDGE_CAP
00000010 l       *ABS*	00000000 PIO_OUTSET
00000014 l       *ABS*	00000000 PIO_OUTCLR
00153240 l       .text	00000000 adc_int_installer_done
001532b4 l       .text	00000000 adc_int_handler_clear_front
00154ee0 l       .rwdata	00000000 sample_buffer_A
00153334 l       .text	00000000 adc_int_handler_loop
001550c0 l       .rwdata	00000000 sample_buffer_Ao
001552a0 l       .rwdata	00000000 sample_buffer_B
00155480 l       .rwdata	00000000 sample_buffer_Bo
00155660 l       .rwdata	00000000 sample_buffer_L
00155840 l       .rwdata	00000000 sample_buffer_Lo
00154ee0 l       .rwdata	00000000 sample_complete
00153450 l       .text	00000000 adc_int_handler_done
001534a0 l       .text	00000000 draw_trace_loop
001534c8 l       .text	00000000 draw_trace_col_loop
00153538 l       .text	00000000 draw_grid_pt
00153548 l       .text	00000000 draw_trace_pt
001534e8 l       .text	00000000 draw_trace_col_loop_continue
00153508 l       .text	00000000 draw_trace_done
00153590 l       .text	00000000 draw_grid_horiz
0015360c l       .text	00000000 draw_pixel
001535cc l       .text	00000000 draw_grid_vert
001535dc l       .text	00000000 draw_grid_done
0015365c l       .text	00000000 draw_pixel_done
001536a0 l       .text	00000000 clear_display_loop
001536ac l       .text	00000000 clear_display_done
00153714 l       .text	00000000 plot_pixel_done
0015375c l       .text	00000000 set_sample_rate_done
001537b8 l       .text	00000000 set_trigger_slope_pos
001537c8 l       .text	00000000 set_trigger_done
00153800 l       .text	00000000 set_delay_done
001538d8 l       .text	00000000 start_sample_done
00153924 l       .text	00000000 sample_null
00153940 l       .text	00000000 sample_map
00153928 l       .text	00000000 sample_done_done
00000000 l    df *ABS*	00000000 obj/default/testdisp.o
00153968 l       .text	00000000 disp
00153990 l       .text	00000000 draw_top
0015399c l       .text	00000000 draw_bot
00153974 l       .text	00000000 disp_cont
001539d8 l       .text	00000000 draw_border
00153a80 l       .text	00000000 disp_reset
001539a8 l       .text	00000000 draw_red
001539b4 l       .text	00000000 draw_yellow
001539c0 l       .text	00000000 draw_green
001539cc l       .text	00000000 draw_blue
001539e4 l       .text	00000000 draw_border_top
001539f4 l       .text	00000000 dbt_loop
00153a08 l       .text	00000000 draw_border_bot
00153a20 l       .text	00000000 dbb_loop
00153a34 l       .text	00000000 draw_border_left
00153a40 l       .text	00000000 dbl_loop
00153a54 l       .text	00000000 draw_border_right
00153a6c l       .text	00000000 dbr_loop
00153a8c l       .text	00000000 test_disp_done
00000000 l    df *ABS*	00000000 obj/default/testvram.o
00153aec l     F .text	00000000 write_all
00153b18 l     F .text	00000000 read_all
00153acc l       .text	00000000 test_vram_fail
00153ad4 l       .text	00000000 test_vram_done
00153af4 l       .text	00000000 write_all_loop
00153b14 l       .text	00000000 write_all_done
00153b0c l       .text	00000000 write_all_reset_cnt
00153b20 l       .text	00000000 read_all_loop
00153b44 l       .text	00000000 read_all_done
00153b3c l       .text	00000000 read_all_reset_cnt
00000000 l    df *ABS*	00000000 memcpy.c
00000000 l    df *ABS*	00000000 alt_iic.c
00000000 l    df *ABS*	00000000 alt_iic_isr_register.c
00000000 l    df *ABS*	00000000 alt_irq_vars.c
00000000 l    df *ABS*	00000000 alt_load.c
00153f08 l     F .text	0000006c alt_load_section
00000000 l    df *ABS*	00000000 alt_main.c
00000000 l    df *ABS*	00000000 alt_sys_init.c
00000000 l    df *ABS*	00000000 alt_close.c
001540a4 l     F .text	00000050 alt_get_errno
00000000 l    df *ABS*	00000000 alt_dcache_flush_all.c
00000000 l    df *ABS*	00000000 alt_dev.c
001541d8 l     F .text	0000002c alt_dev_null_write
00000000 l    df *ABS*	00000000 alt_do_ctors.c
00000000 l    df *ABS*	00000000 alt_do_dtors.c
00000000 l    df *ABS*	00000000 alt_errno.c
00000000 l    df *ABS*	00000000 alt_icache_flush_all.c
00000000 l    df *ABS*	00000000 alt_release_fd.c
00000000 l    df *ABS*	00000000 altera_nios2_qsys_irq.c
00000000 l    df *ABS*	00000000 alt_icache_flush.c
00000000 l    df *ABS*	00000000 atexit.c
00000000 l    df *ABS*	00000000 exit.c
00000000 l    df *ABS*	00000000 impure.c
00155bc8 l     O .rwdata	00000400 impure_data
00000000 l    df *ABS*	00000000 int_errno.c
00000000 l    df *ABS*	00000000 __atexit.c
00000000 l    df *ABS*	00000000 __call_atexit.c
00000000 l    df *ABS*	00000000 alt_exit.c
00000000 l    df *ABS*	00000000 
00153ff4 g     F .text	0000005c alt_main
00157d44 g     O .bss	00000100 alt_irq
0015169c g     F .text	00000048 trg_delay_down
00155fec g       *ABS*	00000000 __flash_rwdata_start
00151174 g     F .text	00000084 display_scale
0015713c g     O .bss	00000004 cur_scale
00151dd8 g     F .text	00000028 trace_rearm
001538f0 g     F .text	00000000 sample_done
00150f00 g     F .text	00000020 get_trigger_mode
00157170 g     O .bss	000001e0 saved_trace_A
00154b08 g     O .rodata	00000070 menu
00150e74 g     F .text	00000020 no_menu_action
001537e0 g     F .text	00000000 set_delay
00000000  w      *UND*	00000000 __errno
00150000 g     F .entry	0000001c __reset
00150020 g       *ABS*	00000000 __flash_exceptions_start
001501f4 g     F .text	00000024 no_action
0015716c g     O .bss	00000004 errno
00157124 g     O .bss	00000004 trigger_mode
001502f8 g     F .text	00000030 menu_right
001513c4 g     F .text	00000048 set_trg_level
00157164 g     O .bss	00000004 alt_argv
00150940 g     F .text	00000064 init_menu
0015dfc8 g       *ABS*	00000000 _gp
00151d40 g     F .text	00000020 is_sampling
00120000 g       *ABS*	00000000 __alt_mem_RAM_ctrl
001502c8 g     F .text	00000030 menu_left
00155a48 g     O .rwdata	00000180 alt_fd_list
00153b48 g     F .text	000000f8 memcpy
0015145c g     F .text	00000054 trg_level_up
00154750 g       *ABS*	00000000 __DTOR_END__
00150ec0 g     F .text	00000040 set_trigger_mode
001536c4 g     F .text	00000000 plot_pixel
00000000  w      *UND*	00000000 malloc
0015255c g     F .text	00000110 restore_trace
001519e4 g     F .text	00000188 cvt_num_field
00157140 g     O .bss	00000004 trace_status
0015436c g     F .text	0000008c alt_icache_flush
0015249c g     F .text	000000c0 set_save_area
00153818 g     F .text	00000000 start_sample
001510ac g     F .text	00000064 scale_down
00155fdc g     O .rwdata	00000004 alt_max_fd
00153070 g     F .text	00000000 key_available
0015711c g     O .bss	00000004 menu_entry
0015135c g     F .text	00000068 display_sweep
00151e2c g     F .text	000003cc set_display_scale
00153468 g     F .text	00000000 draw_trace
0015266c g     F .text	00000048 do_trace
00155fe4 g     O .rwdata	00000004 _global_impure_ptr
00157fd4 g       *ABS*	00000000 __bss_end
00153e18 g     F .text	000000f0 alt_iic_isr_register
00151ca4 g     F .text	00000064 init_trace
00157350 g     O .bss	000001e0 saved_trace_B
00153dcc g     F .text	0000004c alt_ic_irq_enabled
0015165c g     F .text	00000040 set_trg_delay
00150298 g     F .text	00000030 menu_down
0015715c g     O .bss	00000004 alt_irq_active
00151b6c g     F .text	00000138 get_test_sample
001500ec g     F .exceptions	000000cc alt_irq_handler
00155a20 g     O .rwdata	00000028 alt_dev_null
00150328 g     F .text	000000a8 clear_region
00154750 g     O .rodata	00000380 char_patterns
001541bc g     F .text	0000001c alt_dcache_flush_all
00150b60 g     F .text	0000006c previous_entry
00155fec g       *ABS*	00000000 __ram_rwdata_end
00155fd4 g     O .rwdata	00000008 alt_dev_list
00151d08 g     F .text	00000038 set_mode
00153558 g     F .text	00000000 draw_grid
00130000 g       *ABS*	00000000 __alt_mem_FLASH_ctrl
00150da4 g     F .text	000000d0 display_entry
00154ebc g       *ABS*	00000000 __ram_rodata_end
00157144 g     O .bss	00000004 saved_end_y
00150fe8 g     F .text	00000084 display_mode
00157120 g     O .bss	00000004 menu_display
00157fd4 g       *ABS*	00000000 end
00150e94 g     F .text	0000002c no_display
001514b0 g     F .text	00000098 display_trg_level
001512d8 g     F .text	00000084 sweep_up
00150a94 g     F .text	0000005c reset_menu
001509a4 g     F .text	00000038 clear_menu
001516e4 g     F .text	0000004c trg_delay_up
00154750 g       *ABS*	00000000 __CTOR_LIST__
0015c000 g       *ABS*	00000000 __alt_stack_pointer
00152b40 g     F .text	00000000 key_int_installer
00154574 g     F .text	000001a0 __call_exitprocs
001501b8 g     F .text	0000003c _start
00157128 g     O .bss	00000004 level
00157148 g     O .bss	00000004 saved_pos_y
00151590 g     F .text	00000054 trg_slope_toggle
00154084 g     F .text	00000020 alt_sys_init
00154444 g     F .text	00000130 __register_exitproc
00154ebc g       *ABS*	00000000 __ram_rwdata_start
00154750 g       *ABS*	00000000 __ram_rodata_start
0015714c g     O .bss	00000004 sample_size
00154c00 g     O .rodata	00000088 sweep_rates
00153674 g     F .text	00000000 clear_display
00157150 g     O .bss	00000004 saved_end_x
00153258 g     F .text	00000000 adc_int_handler
00157fd4 g       *ABS*	00000000 __alt_stack_base
00152398 g     F .text	00000104 restore_menu_trace
00151e00 g     F .text	0000002c set_trace_size
00150690 g     F .text	00000098 plot_string
0015711c g       *ABS*	00000000 __bss_start
00157154 g     O .bss	00000004 saved_pos_x
00150728 g     F .text	0000013c main
00157168 g     O .bss	00000004 alt_envp
00151730 g     F .text	000000b0 adjust_trg_delay
001526b4 g     F .text	0000048c plot_trace
00157e44 g     O .bss	00000190 _atexit0
00151258 g     F .text	00000080 sweep_down
00155fe0 g     O .rwdata	00000004 alt_errno
0015712c g     O .bss	00000004 sweep
00150f20 g     F .text	00000064 mode_down
00153120 g     F .text	00000000 adc_int_installer
0015372c g     F .text	00000000 set_sample_rate
00153774 g     F .text	00000000 set_trigger
00154750 g       *ABS*	00000000 __CTOR_END__
00150000 g       *ABS*	00000000 __alt_mem_ONCHIP_mem
00150a5c g     F .text	00000038 refresh_menu
00154750 g       *ABS*	00000000 __flash_rodata_start
00154750 g       *ABS*	00000000 __DTOR_LIST__
00150268 g     F .text	00000030 menu_up
00150cb8 g     F .text	000000ec menu_entry_right
00157130 g     O .bss	00000004 delay
00154050 g     F .text	00000034 alt_irq_init
001542ec g     F .text	00000060 alt_release_fd
001543f8 g     F .text	00000014 atexit
00151d98 g     F .text	00000040 trace_done
00155fe8 g     O .rwdata	00000004 _impure_ptr
00157160 g     O .bss	00000004 alt_argc
00151548 g     F .text	00000048 set_trg_slope
0015140c g     F .text	00000050 trg_level_down
00154260 g     F .text	0000005c _do_dtors
001530a8 g     F .text	00000000 getkey
00150528 g     F .text	00000168 plot_char
00157530 g     O .bss	000002a0 saved_menu
00150020 g       .exceptions	00000000 alt_irq_entry
00150bcc g     F .text	000000ec menu_entry_left
00155fcc g     O .rwdata	00000008 alt_fs_list
001521f8 g     F .text	000001a0 clear_saved_areas
001503d0 g     F .text	000000ac plot_hline
00150020 g       *ABS*	00000000 __ram_exceptions_start
0015106c g     F .text	00000040 set_scale
00153c40 g     F .text	00000050 alt_ic_isr_register
001577d0 g     O .bss	00000176 saved_axis_y
00153a90 g     F .text	00000000 test_vram
00155fec g       *ABS*	00000000 _edata
00157fd4 g       *ABS*	00000000 _end
00150f84 g     F .text	00000064 mode_up
001501b8 g       *ABS*	00000000 __ram_exceptions_end
00153d2c g     F .text	000000a0 alt_ic_irq_disable
00157946 g     O .bss	0000012c saved_axis_x
0015434c g     F .text	00000020 altera_nios2_qsys_irq_init
0015440c g     F .text	00000038 exit
001517e0 g     F .text	00000204 display_trg_delay
00153958 g     F .text	00000000 test_disp
0015c000 g       *ABS*	00000000 __alt_data_end
00150020 g     F .exceptions	00000000 alt_exception
001515e4 g     F .text	00000078 display_trg_slope
00157a72 g     O .bss	000000f0 saved_area
00157158 g     O .bss	00000004 sampling
00154714 g     F .text	0000003c _exit
00080000 g       *ABS*	00000000 __alt_mem_VRAM_ctrl
00157b62 g     O .bss	000001e0 saved_trace_L
00157134 g     O .bss	00000004 scale
00150864 g     F .text	000000dc key_lookup
001542bc g     F .text	00000030 alt_icache_flush_all
00155fc8 g     O .rwdata	00000004 alt_priority_mask
00153c90 g     F .text	0000009c alt_ic_irq_enable
0015047c g     F .text	000000ac plot_vline
001509dc g     F .text	00000080 display_menu
00154204 g     F .text	0000005c _do_ctors
00150af0 g     F .text	00000070 next_entry
001540f4 g     F .text	000000c8 close
00151d60 g     F .text	00000038 trace_rdy
00157138 g     O .bss	00000004 slope
00153f74 g     F .text	00000080 alt_load
001511f8 g     F .text	00000060 set_sweep
00151110 g     F .text	00000064 scale_up
00150218 g     F .text	00000050 menu_key
00000000  w      *UND*	00000000 free



Disassembly of section .entry:

00150000 <__reset>:
#if NIOS2_ICACHE_SIZE > 0 && defined(ALT_ALLOW_CODE_AT_RESET) && !defined(ALT_SIM_OPTIMIZE)
    /* Assume the instruction cache size is always a power of two. */
#if NIOS2_ICACHE_SIZE > 0x8000
    movhi r2, %hi(NIOS2_ICACHE_SIZE)
#else
    movui r2, NIOS2_ICACHE_SIZE
  150000:	00840014 	movui	r2,4096
#endif

0:
    initi r2
  150004:	1001483a 	initi	r2
    addi r2, r2, -NIOS2_ICACHE_LINE_SIZE
  150008:	10bff804 	addi	r2,r2,-32
    bgt r2, zero, 0b
  15000c:	00bffd16 	blt	zero,r2,150004 <__reset+0x4>
 * Jump to the _start entry point in the .text section if reset code
 * is allowed or if optimizing for RTL simulation.
 */
#if defined(ALT_ALLOW_CODE_AT_RESET) || defined(ALT_SIM_OPTIMIZE)
    /* Jump to the _start entry point in the .text section. */
    movhi r1, %hi(_start)
  150010:	00400574 	movhi	at,21
    ori r1, r1, %lo(_start)
  150014:	08406e14 	ori	at,at,440
    jmp r1
  150018:	0800683a 	jmp	at
  15001c:	00000000 	call	0 <PIO_IRQ_MASK-0x8>

Disassembly of section .exceptions:

00150020 <alt_exception>:

#else /* ALT_EXCEPTION_STACK disabled */
        /* 
         * Reserve space on normal stack for registers about to be pushed.
         */
        addi  sp, sp, -76
  150020:	deffed04 	addi	sp,sp,-76
         * documentation for details).
         *
         * Leave a gap in the stack frame at 4(sp) for the muldiv handler to
         * store zero into.
         */
        stw   ra,  0(sp)
  150024:	dfc00015 	stw	ra,0(sp)
        stw   r1,   8(sp)
  150028:	d8400215 	stw	at,8(sp)
        stw   r2,  12(sp)
  15002c:	d8800315 	stw	r2,12(sp)
        stw   r3,  16(sp)
  150030:	d8c00415 	stw	r3,16(sp)
        stw   r4,  20(sp)
  150034:	d9000515 	stw	r4,20(sp)
        stw   r5,  24(sp)
  150038:	d9400615 	stw	r5,24(sp)
        stw   r6,  28(sp)
  15003c:	d9800715 	stw	r6,28(sp)
        stw   r7,  32(sp)
  150040:	d9c00815 	stw	r7,32(sp)
        rdctl r5, estatus   /* Read early to avoid usage stall */
  150044:	000b307a 	rdctl	r5,estatus
        stw   r8,  36(sp)
  150048:	da000915 	stw	r8,36(sp)
        stw   r9,  40(sp)
  15004c:	da400a15 	stw	r9,40(sp)
        stw   r10, 44(sp)
  150050:	da800b15 	stw	r10,44(sp)
        stw   r11, 48(sp)
  150054:	dac00c15 	stw	r11,48(sp)
        stw   r12, 52(sp)
  150058:	db000d15 	stw	r12,52(sp)
        stw   r13, 56(sp)
  15005c:	db400e15 	stw	r13,56(sp)
        stw   r14, 60(sp)
  150060:	db800f15 	stw	r14,60(sp)
        stw   r15, 64(sp)
  150064:	dbc01015 	stw	r15,64(sp)
        /*
         * ea-4 contains the address of the instruction being executed
         * when the exception occured. For interrupt exceptions, we will
         * will be re-issue the isntruction. Store it in 72(sp)
         */
        stw   r5,  68(sp)  /* estatus */
  150068:	d9401115 	stw	r5,68(sp)
        addi  r15, ea, -4  /* instruction that caused exception */
  15006c:	ebffff04 	addi	r15,ea,-4
        stw   r15,  72(sp)
  150070:	dbc01215 	stw	r15,72(sp)
#else
        /*
         * Test to see if the exception was a software exception or caused 
         * by an external interrupt, and vector accordingly.
         */
        rdctl r4, ipending
  150074:	0009313a 	rdctl	r4,ipending
        andi  r2, r5, 1
  150078:	2880004c 	andi	r2,r5,1
        beq   r2, zero, .Lnot_irq
  15007c:	10000326 	beq	r2,zero,15008c <alt_exception+0x6c>
        beq   r4, zero, .Lnot_irq
  150080:	20000226 	beq	r4,zero,15008c <alt_exception+0x6c>
        /*
         * Now that all necessary registers have been preserved, call 
         * alt_irq_handler() to process the interrupts.
         */

        call alt_irq_handler
  150084:	01500ec0 	call	1500ec <alt_irq_handler>

        .section .exceptions.irqreturn, "xa"

        br    .Lexception_exit
  150088:	00000306 	br	150098 <alt_exception_unknown+0x4>
         * upon completion, so we write ea (address of instruction *after*
         * the one where the exception occured) into 72(sp). The actual
         * instruction that caused the exception is written in r2, which these
         * handlers will utilize.
         */
        stw   ea,  72(sp)  /* Don't re-issue */
  15008c:	df401215 	stw	ea,72(sp)
        ldw   r2, -4(ea)   /* Instruction that caused exception */
  150090:	e8bfff17 	ldw	r2,-4(ea)

00150094 <alt_exception_unknown>:
#ifdef NIOS2_HAS_DEBUG_STUB
       /*
        *  Either tell the user now (if there is a debugger attached) or go into
        *  the debug monitor which will loop until a debugger is attached.
        */
        break
  150094:	003da03a 	break	0
        /* 
         * Restore the saved registers, so that all general purpose registers 
         * have been restored to their state at the time the interrupt occured.
         */

        ldw   r5,  68(sp)
  150098:	d9401117 	ldw	r5,68(sp)
        ldw   ea,  72(sp)  /* This becomes the PC once eret is executed */
  15009c:	df401217 	ldw	ea,72(sp)
        ldw   ra,   0(sp)
  1500a0:	dfc00017 	ldw	ra,0(sp)

        wrctl estatus, r5
  1500a4:	2801707a 	wrctl	estatus,r5

        ldw   r1,   8(sp)
  1500a8:	d8400217 	ldw	at,8(sp)
        ldw   r2,  12(sp)
  1500ac:	d8800317 	ldw	r2,12(sp)
        ldw   r3,  16(sp)
  1500b0:	d8c00417 	ldw	r3,16(sp)
        ldw   r4,  20(sp)
  1500b4:	d9000517 	ldw	r4,20(sp)
        ldw   r5,  24(sp)
  1500b8:	d9400617 	ldw	r5,24(sp)
        ldw   r6,  28(sp)
  1500bc:	d9800717 	ldw	r6,28(sp)
        ldw   r7,  32(sp)
  1500c0:	d9c00817 	ldw	r7,32(sp)

#if defined(ALT_EXCEPTION_STACK) && defined(ALT_STACK_CHECK)
        ldw   et, %gprel(alt_exception_old_stack_limit)(gp)
#endif

        ldw   r8,  36(sp)
  1500c4:	da000917 	ldw	r8,36(sp)
        ldw   r9,  40(sp)
  1500c8:	da400a17 	ldw	r9,40(sp)
        ldw   r10, 44(sp)
  1500cc:	da800b17 	ldw	r10,44(sp)
        ldw   r11, 48(sp)
  1500d0:	dac00c17 	ldw	r11,48(sp)
        ldw   r12, 52(sp)
  1500d4:	db000d17 	ldw	r12,52(sp)
        ldw   r13, 56(sp)
  1500d8:	db400e17 	ldw	r13,56(sp)
        ldw   r14, 60(sp)
  1500dc:	db800f17 	ldw	r14,60(sp)
        ldw   r15, 64(sp)
  1500e0:	dbc01017 	ldw	r15,64(sp)
        stw   et, %gprel(alt_stack_limit_value)(gp)
        stw   zero, %gprel(alt_exception_old_stack_limit)(gp)
#endif /* ALT_STACK_CHECK */
        ldw   sp,  76(sp)
#else /* ALT_EXCEPTION_STACK disabled */
        addi  sp, sp, 76
  1500e4:	dec01304 	addi	sp,sp,76

        /*
         * Return to the interrupted instruction.
         */

        eret
  1500e8:	ef80083a 	eret

001500ec <alt_irq_handler>:
 * instruction is present if the macro ALT_CI_INTERRUPT_VECTOR defined.
 */

void alt_irq_handler (void) __attribute__ ((section (".exceptions")));
void alt_irq_handler (void)
{
  1500ec:	defff904 	addi	sp,sp,-28
  1500f0:	dfc00615 	stw	ra,24(sp)
  1500f4:	df000515 	stw	fp,20(sp)
  1500f8:	df000504 	addi	fp,sp,20
  
  /*
   * Notify the operating system that we are at interrupt level.
   */ 
  
  ALT_OS_INT_ENTER();
  1500fc:	0001883a 	nop
#ifndef NIOS2_EIC_PRESENT
static ALT_INLINE alt_u32 ALT_ALWAYS_INLINE alt_irq_pending (void)
{
  alt_u32 active;

  NIOS2_READ_IPENDING (active);
  150100:	0005313a 	rdctl	r2,ipending
  150104:	e0bffe15 	stw	r2,-8(fp)

  return active;
  150108:	e0bffe17 	ldw	r2,-8(fp)
   * Consider the case where the high priority interupt is asserted during
   * the interrupt entry sequence for a lower priority interrupt to see why
   * this is the case.
   */

  active = alt_irq_pending ();
  15010c:	e0bffb15 	stw	r2,-20(fp)

  do
  {
    i = 0;
  150110:	e03ffd15 	stw	zero,-12(fp)
    mask = 1;
  150114:	00800044 	movi	r2,1
  150118:	e0bffc15 	stw	r2,-16(fp)
     * called to clear the interrupt condition.
     */

    do
    {
      if (active & mask)
  15011c:	e0fffb17 	ldw	r3,-20(fp)
  150120:	e0bffc17 	ldw	r2,-16(fp)
  150124:	1884703a 	and	r2,r3,r2
  150128:	10001726 	beq	r2,zero,150188 <alt_irq_handler+0x9c>
      { 
#ifdef ALT_ENHANCED_INTERRUPT_API_PRESENT
        alt_irq[i].handler(alt_irq[i].context); 
  15012c:	00c00574 	movhi	r3,21
  150130:	18df5104 	addi	r3,r3,32068
  150134:	e0bffd17 	ldw	r2,-12(fp)
  150138:	100490fa 	slli	r2,r2,3
  15013c:	1885883a 	add	r2,r3,r2
  150140:	10c00017 	ldw	r3,0(r2)
  150144:	01000574 	movhi	r4,21
  150148:	211f5104 	addi	r4,r4,32068
  15014c:	e0bffd17 	ldw	r2,-12(fp)
  150150:	100490fa 	slli	r2,r2,3
  150154:	2085883a 	add	r2,r4,r2
  150158:	10800104 	addi	r2,r2,4
  15015c:	10800017 	ldw	r2,0(r2)
  150160:	1009883a 	mov	r4,r2
  150164:	183ee83a 	callr	r3
#else
        alt_irq[i].handler(alt_irq[i].context, i); 
#endif
        break;
  150168:	0001883a 	nop
#ifndef NIOS2_EIC_PRESENT
static ALT_INLINE alt_u32 ALT_ALWAYS_INLINE alt_irq_pending (void)
{
  alt_u32 active;

  NIOS2_READ_IPENDING (active);
  15016c:	0005313a 	rdctl	r2,ipending
  150170:	e0bfff15 	stw	r2,-4(fp)

  return active;
  150174:	e0bfff17 	ldw	r2,-4(fp)
      mask <<= 1;
      i++;

    } while (1);

    active = alt_irq_pending ();
  150178:	e0bffb15 	stw	r2,-20(fp)
    
  } while (active);
  15017c:	e0bffb17 	ldw	r2,-20(fp)
  150180:	103fe31e 	bne	r2,zero,150110 <alt_irq_handler+0x24>

  /*
   * Notify the operating system that interrupt processing is complete.
   */ 

  ALT_OS_INT_EXIT();
  150184:	00000706 	br	1501a4 <alt_irq_handler+0xb8>
#else
        alt_irq[i].handler(alt_irq[i].context, i); 
#endif
        break;
      }
      mask <<= 1;
  150188:	e0bffc17 	ldw	r2,-16(fp)
  15018c:	1085883a 	add	r2,r2,r2
  150190:	e0bffc15 	stw	r2,-16(fp)
      i++;
  150194:	e0bffd17 	ldw	r2,-12(fp)
  150198:	10800044 	addi	r2,r2,1
  15019c:	e0bffd15 	stw	r2,-12(fp)

    } while (1);
  1501a0:	003fde06 	br	15011c <alt_irq_handler+0x30>
  /*
   * Notify the operating system that interrupt processing is complete.
   */ 

  ALT_OS_INT_EXIT();
}
  1501a4:	e037883a 	mov	sp,fp
  1501a8:	dfc00117 	ldw	ra,4(sp)
  1501ac:	df000017 	ldw	fp,0(sp)
  1501b0:	dec00204 	addi	sp,sp,8
  1501b4:	f800283a 	ret

Disassembly of section .text:

001501b8 <_start>:

    /*
     * Now that the caches are initialized, set up the stack pointer and global pointer.
     * The values provided by the linker are assumed to be correctly aligned.
     */
    movhi sp, %hi(__alt_stack_pointer)
  1501b8:	06c00574 	movhi	sp,21
    ori sp, sp, %lo(__alt_stack_pointer)
  1501bc:	def00014 	ori	sp,sp,49152
    movhi gp, %hi(_gp)
  1501c0:	06800574 	movhi	gp,21
    ori gp, gp, %lo(_gp)
  1501c4:	d6b7f214 	ori	gp,gp,57288
 */
#ifndef ALT_SIM_OPTIMIZE
    /* Log that the BSS is about to be cleared. */
    ALT_LOG_PUTS(alt_log_msg_bss)

    movhi r2, %hi(__bss_start)
  1501c8:	00800574 	movhi	r2,21
    ori r2, r2, %lo(__bss_start)
  1501cc:	109c4714 	ori	r2,r2,28956

    movhi r3, %hi(__bss_end)
  1501d0:	00c00574 	movhi	r3,21
    ori r3, r3, %lo(__bss_end)
  1501d4:	18dff514 	ori	r3,r3,32724

    beq r2, r3, 1f
  1501d8:	10c00326 	beq	r2,r3,1501e8 <_start+0x30>

0:
    stw zero, (r2)
  1501dc:	10000015 	stw	zero,0(r2)
    addi r2, r2, 4
  1501e0:	10800104 	addi	r2,r2,4
    bltu r2, r3, 0b
  1501e4:	10fffd36 	bltu	r2,r3,1501dc <_start+0x24>
     * section aren't defined until alt_load() has been called).
     */
    mov   et, zero
#endif

    call alt_load
  1501e8:	0153f740 	call	153f74 <alt_load>

    /* Log that alt_main is about to be called. */
    ALT_LOG_PUTS(alt_log_msg_alt_main)

    /* Call the C entry point. It should never return. */
    call alt_main
  1501ec:	0153ff40 	call	153ff4 <alt_main>

001501f0 <alt_after_alt_main>:

    /* Wait in infinite loop in case alt_main does return. */
alt_after_alt_main:
    br alt_after_alt_main
  1501f0:	003fff06 	br	1501f0 <alt_after_alt_main>

001501f4 <no_action>:
   Last Modified:    Mar. 8, 1994

*/

enum status  no_action(enum status cur_state)
{
  1501f4:	defffe04 	addi	sp,sp,-8
  1501f8:	df000115 	stw	fp,4(sp)
  1501fc:	df000104 	addi	fp,sp,4
  150200:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* return the current state */
    return  cur_state;
  150204:	e0bfff17 	ldw	r2,-4(fp)

}
  150208:	e037883a 	mov	sp,fp
  15020c:	df000017 	ldw	fp,0(sp)
  150210:	dec00104 	addi	sp,sp,4
  150214:	f800283a 	ret

00150218 <menu_key>:
   Last Modified:    Mar. 8, 1994

*/

enum status  menu_key(enum status cur_state)
{
  150218:	defffd04 	addi	sp,sp,-12
  15021c:	dfc00215 	stw	ra,8(sp)
  150220:	df000115 	stw	fp,4(sp)
  150224:	df000104 	addi	fp,sp,4
  150228:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* check if need to turn the menu on or off */
    if (cur_state == MENU_ON)
  15022c:	e0bfff17 	ldw	r2,-4(fp)
  150230:	1000021e 	bne	r2,zero,15023c <menu_key+0x24>
        /* currently the menu is on, turn it off */
	clear_menu();
  150234:	01509a40 	call	1509a4 <clear_menu>
  150238:	00000106 	br	150240 <menu_key+0x28>
    else
        /* currently the menu is off, turn it on */
	display_menu();
  15023c:	01509dc0 	call	1509dc <display_menu>


    /* all done, return the "opposite" of the current state */
    if (cur_state == MENU_ON)
  150240:	e0bfff17 	ldw	r2,-4(fp)
  150244:	1000021e 	bne	r2,zero,150250 <menu_key+0x38>
        /* state was MENU_ON, change it to MENU_OFF */
        return  MENU_OFF;
  150248:	00800044 	movi	r2,1
  15024c:	00000106 	br	150254 <menu_key+0x3c>
    else
        /* state was MENU_OFF, change it to MENU_ON */
        return  MENU_ON;
  150250:	0005883a 	mov	r2,zero

}
  150254:	e037883a 	mov	sp,fp
  150258:	dfc00117 	ldw	ra,4(sp)
  15025c:	df000017 	ldw	fp,0(sp)
  150260:	dec00204 	addi	sp,sp,8
  150264:	f800283a 	ret

00150268 <menu_up>:
   Last Modified:    Mar. 8, 1994

*/

enum status  menu_up(enum status cur_state)
{
  150268:	defffd04 	addi	sp,sp,-12
  15026c:	dfc00215 	stw	ra,8(sp)
  150270:	df000115 	stw	fp,4(sp)
  150274:	df000104 	addi	fp,sp,4
  150278:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* go to the previous menu entry */
    previous_entry();
  15027c:	0150b600 	call	150b60 <previous_entry>


    /* return the current state */
    return  cur_state;
  150280:	e0bfff17 	ldw	r2,-4(fp)

}
  150284:	e037883a 	mov	sp,fp
  150288:	dfc00117 	ldw	ra,4(sp)
  15028c:	df000017 	ldw	fp,0(sp)
  150290:	dec00204 	addi	sp,sp,8
  150294:	f800283a 	ret

00150298 <menu_down>:
   Last Modified:    Mar. 8, 1994

*/

enum status  menu_down(enum status cur_state)
{
  150298:	defffd04 	addi	sp,sp,-12
  15029c:	dfc00215 	stw	ra,8(sp)
  1502a0:	df000115 	stw	fp,4(sp)
  1502a4:	df000104 	addi	fp,sp,4
  1502a8:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* go to the next menu entry */
    next_entry();
  1502ac:	0150af00 	call	150af0 <next_entry>


    /* return the current state */
    return  cur_state;
  1502b0:	e0bfff17 	ldw	r2,-4(fp)

}
  1502b4:	e037883a 	mov	sp,fp
  1502b8:	dfc00117 	ldw	ra,4(sp)
  1502bc:	df000017 	ldw	fp,0(sp)
  1502c0:	dec00204 	addi	sp,sp,8
  1502c4:	f800283a 	ret

001502c8 <menu_left>:
   Last Modified:    Mar. 8, 1994

*/

enum status  menu_left(enum status cur_state)
{
  1502c8:	defffd04 	addi	sp,sp,-12
  1502cc:	dfc00215 	stw	ra,8(sp)
  1502d0:	df000115 	stw	fp,4(sp)
  1502d4:	df000104 	addi	fp,sp,4
  1502d8:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* invoke the <Left> key function for the current menu entry */
    menu_entry_left();
  1502dc:	0150bcc0 	call	150bcc <menu_entry_left>


    /* return the current state */
    return  cur_state;
  1502e0:	e0bfff17 	ldw	r2,-4(fp)

}
  1502e4:	e037883a 	mov	sp,fp
  1502e8:	dfc00117 	ldw	ra,4(sp)
  1502ec:	df000017 	ldw	fp,0(sp)
  1502f0:	dec00204 	addi	sp,sp,8
  1502f4:	f800283a 	ret

001502f8 <menu_right>:
   Last Modified:    Mar. 8, 1994

*/

enum status  menu_right(enum status cur_state)
{
  1502f8:	defffd04 	addi	sp,sp,-12
  1502fc:	dfc00215 	stw	ra,8(sp)
  150300:	df000115 	stw	fp,4(sp)
  150304:	df000104 	addi	fp,sp,4
  150308:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* invoke the <Right> key function for the current menu entry */
    menu_entry_right();
  15030c:	0150cb80 	call	150cb8 <menu_entry_right>


    /* return the current state */
    return  cur_state;
  150310:	e0bfff17 	ldw	r2,-4(fp)

}
  150314:	e037883a 	mov	sp,fp
  150318:	dfc00117 	ldw	ra,4(sp)
  15031c:	df000017 	ldw	fp,0(sp)
  150320:	dec00204 	addi	sp,sp,8
  150324:	f800283a 	ret

00150328 <clear_region>:
   Last Modified:    Mar. 8, 1994

*/

void  clear_region(int x_ul, int y_ul, int x_size, int y_size)
{
  150328:	defff804 	addi	sp,sp,-32
  15032c:	dfc00715 	stw	ra,28(sp)
  150330:	df000615 	stw	fp,24(sp)
  150334:	df000604 	addi	fp,sp,24
  150338:	e13ffc15 	stw	r4,-16(fp)
  15033c:	e17ffd15 	stw	r5,-12(fp)
  150340:	e1bffe15 	stw	r6,-8(fp)
  150344:	e1ffff15 	stw	r7,-4(fp)
    int  y;		/* y coordinate to clear */



    /* loop, clearing the display */
    for (x = x_ul; x < (x_ul + x_size); x++)  {
  150348:	e0bffc17 	ldw	r2,-16(fp)
  15034c:	e0bffa15 	stw	r2,-24(fp)
  150350:	00001406 	br	1503a4 <clear_region+0x7c>
        for (y = y_ul; y < (y_ul + y_size); y++)  {
  150354:	e0bffd17 	ldw	r2,-12(fp)
  150358:	e0bffb15 	stw	r2,-20(fp)
  15035c:	00000906 	br	150384 <clear_region+0x5c>

	    /* clear this pixel */
	    plot_pixel(x, y, PIXEL_BLUE);
  150360:	e0fffa17 	ldw	r3,-24(fp)
  150364:	e0bffb17 	ldw	r2,-20(fp)
  150368:	1809883a 	mov	r4,r3
  15036c:	100b883a 	mov	r5,r2
  150370:	01801f04 	movi	r6,124
  150374:	01536c40 	call	1536c4 <plot_pixel>



    /* loop, clearing the display */
    for (x = x_ul; x < (x_ul + x_size); x++)  {
        for (y = y_ul; y < (y_ul + y_size); y++)  {
  150378:	e0bffb17 	ldw	r2,-20(fp)
  15037c:	10800044 	addi	r2,r2,1
  150380:	e0bffb15 	stw	r2,-20(fp)
  150384:	e0fffd17 	ldw	r3,-12(fp)
  150388:	e0bfff17 	ldw	r2,-4(fp)
  15038c:	1885883a 	add	r2,r3,r2
  150390:	e0fffb17 	ldw	r3,-20(fp)
  150394:	18bff216 	blt	r3,r2,150360 <clear_region+0x38>
    int  y;		/* y coordinate to clear */



    /* loop, clearing the display */
    for (x = x_ul; x < (x_ul + x_size); x++)  {
  150398:	e0bffa17 	ldw	r2,-24(fp)
  15039c:	10800044 	addi	r2,r2,1
  1503a0:	e0bffa15 	stw	r2,-24(fp)
  1503a4:	e0fffc17 	ldw	r3,-16(fp)
  1503a8:	e0bffe17 	ldw	r2,-8(fp)
  1503ac:	1885883a 	add	r2,r3,r2
  1503b0:	e0fffa17 	ldw	r3,-24(fp)
  1503b4:	18bfe716 	blt	r3,r2,150354 <clear_region+0x2c>
        }
    }


    /* done clearing the display region - return */
    return;
  1503b8:	0001883a 	nop

}
  1503bc:	e037883a 	mov	sp,fp
  1503c0:	dfc00117 	ldw	ra,4(sp)
  1503c4:	df000017 	ldw	fp,0(sp)
  1503c8:	dec00204 	addi	sp,sp,8
  1503cc:	f800283a 	ret

001503d0 <plot_hline>:
   Last Modified:    Mar. 7, 1994

*/

void  plot_hline(int start_x, int start_y, int length)
{
  1503d0:	defff804 	addi	sp,sp,-32
  1503d4:	dfc00715 	stw	ra,28(sp)
  1503d8:	df000615 	stw	fp,24(sp)
  1503dc:	df000604 	addi	fp,sp,24
  1503e0:	e13ffd15 	stw	r4,-12(fp)
  1503e4:	e17ffe15 	stw	r5,-8(fp)
  1503e8:	e1bfff15 	stw	r6,-4(fp)
    int  end_x;		/* ending x position to plot */



    /* check if a line to the "right" or "left" */
    if (length > 0)  {
  1503ec:	e0bfff17 	ldw	r2,-4(fp)
  1503f0:	0080070e 	bge	zero,r2,150410 <plot_hline+0x40>

        /* line to the "right" - start at start_x, end at start_x + length */
	init_x = start_x;
  1503f4:	e0bffd17 	ldw	r2,-12(fp)
  1503f8:	e0bffb15 	stw	r2,-20(fp)
	end_x = start_x + length;
  1503fc:	e0fffd17 	ldw	r3,-12(fp)
  150400:	e0bfff17 	ldw	r2,-4(fp)
  150404:	1885883a 	add	r2,r3,r2
  150408:	e0bffc15 	stw	r2,-16(fp)
  15040c:	00000606 	br	150428 <plot_hline+0x58>
    }
    else  {

        /* line to the "left" - start at start_x + length, end at start_x */
	init_x = start_x + length;
  150410:	e0fffd17 	ldw	r3,-12(fp)
  150414:	e0bfff17 	ldw	r2,-4(fp)
  150418:	1885883a 	add	r2,r3,r2
  15041c:	e0bffb15 	stw	r2,-20(fp)
	end_x = start_x;
  150420:	e0bffd17 	ldw	r2,-12(fp)
  150424:	e0bffc15 	stw	r2,-16(fp)
    }


    /* loop, outputting points for the line (always draw to the "right") */
    for (x = init_x; x < end_x; x++)
  150428:	e0bffb17 	ldw	r2,-20(fp)
  15042c:	e0bffa15 	stw	r2,-24(fp)
  150430:	00000906 	br	150458 <plot_hline+0x88>
        /* plot a point of the line */
	plot_pixel(x, start_y, PIXEL_RED);
  150434:	e0fffa17 	ldw	r3,-24(fp)
  150438:	e0bffe17 	ldw	r2,-8(fp)
  15043c:	1809883a 	mov	r4,r3
  150440:	100b883a 	mov	r5,r2
  150444:	0187c004 	movi	r6,7936
  150448:	01536c40 	call	1536c4 <plot_pixel>
	end_x = start_x;
    }


    /* loop, outputting points for the line (always draw to the "right") */
    for (x = init_x; x < end_x; x++)
  15044c:	e0bffa17 	ldw	r2,-24(fp)
  150450:	10800044 	addi	r2,r2,1
  150454:	e0bffa15 	stw	r2,-24(fp)
  150458:	e0fffa17 	ldw	r3,-24(fp)
  15045c:	e0bffc17 	ldw	r2,-16(fp)
  150460:	18bff416 	blt	r3,r2,150434 <plot_hline+0x64>
        /* plot a point of the line */
	plot_pixel(x, start_y, PIXEL_RED);


    /* done plotting the line - return */
    return;
  150464:	0001883a 	nop

}
  150468:	e037883a 	mov	sp,fp
  15046c:	dfc00117 	ldw	ra,4(sp)
  150470:	df000017 	ldw	fp,0(sp)
  150474:	dec00204 	addi	sp,sp,8
  150478:	f800283a 	ret

0015047c <plot_vline>:
   Last Modified:    Mar. 7, 1994

*/

void  plot_vline(int start_x, int start_y, int length)
{
  15047c:	defff804 	addi	sp,sp,-32
  150480:	dfc00715 	stw	ra,28(sp)
  150484:	df000615 	stw	fp,24(sp)
  150488:	df000604 	addi	fp,sp,24
  15048c:	e13ffd15 	stw	r4,-12(fp)
  150490:	e17ffe15 	stw	r5,-8(fp)
  150494:	e1bfff15 	stw	r6,-4(fp)
    int  end_y;		/* ending y position to plot */



    /* check if an "up" or "down" line */
    if (length > 0)  {
  150498:	e0bfff17 	ldw	r2,-4(fp)
  15049c:	0080070e 	bge	zero,r2,1504bc <plot_vline+0x40>

        /* line going "down" - start at start_y, end at start_y + length */
	init_y = start_y;
  1504a0:	e0bffe17 	ldw	r2,-8(fp)
  1504a4:	e0bffb15 	stw	r2,-20(fp)
	end_y = start_y + length;
  1504a8:	e0fffe17 	ldw	r3,-8(fp)
  1504ac:	e0bfff17 	ldw	r2,-4(fp)
  1504b0:	1885883a 	add	r2,r3,r2
  1504b4:	e0bffc15 	stw	r2,-16(fp)
  1504b8:	00000606 	br	1504d4 <plot_vline+0x58>
    }
    else  {

        /* line going "up" - start at start_y + length, end at start_y */
	init_y = start_y + length;
  1504bc:	e0fffe17 	ldw	r3,-8(fp)
  1504c0:	e0bfff17 	ldw	r2,-4(fp)
  1504c4:	1885883a 	add	r2,r3,r2
  1504c8:	e0bffb15 	stw	r2,-20(fp)
	end_y = start_y;
  1504cc:	e0bffe17 	ldw	r2,-8(fp)
  1504d0:	e0bffc15 	stw	r2,-16(fp)
    }


    /* loop, outputting points for the line (always draw "down") */
    for (y = init_y; y < end_y; y++)
  1504d4:	e0bffb17 	ldw	r2,-20(fp)
  1504d8:	e0bffa15 	stw	r2,-24(fp)
  1504dc:	00000906 	br	150504 <plot_vline+0x88>
        /* plot a point of the line */
	plot_pixel(start_x, y, PIXEL_RED);
  1504e0:	e0fffd17 	ldw	r3,-12(fp)
  1504e4:	e0bffa17 	ldw	r2,-24(fp)
  1504e8:	1809883a 	mov	r4,r3
  1504ec:	100b883a 	mov	r5,r2
  1504f0:	0187c004 	movi	r6,7936
  1504f4:	01536c40 	call	1536c4 <plot_pixel>
	end_y = start_y;
    }


    /* loop, outputting points for the line (always draw "down") */
    for (y = init_y; y < end_y; y++)
  1504f8:	e0bffa17 	ldw	r2,-24(fp)
  1504fc:	10800044 	addi	r2,r2,1
  150500:	e0bffa15 	stw	r2,-24(fp)
  150504:	e0fffa17 	ldw	r3,-24(fp)
  150508:	e0bffc17 	ldw	r2,-16(fp)
  15050c:	18bff416 	blt	r3,r2,1504e0 <plot_vline+0x64>
        /* plot a point of the line */
	plot_pixel(start_x, y, PIXEL_RED);


    /* done plotting the line - return */
    return;
  150510:	0001883a 	nop

}
  150514:	e037883a 	mov	sp,fp
  150518:	dfc00117 	ldw	ra,4(sp)
  15051c:	df000017 	ldw	fp,0(sp)
  150520:	dec00204 	addi	sp,sp,8
  150524:	f800283a 	ret

00150528 <plot_char>:
   Last Modified:    May 27, 2008

*/

void  plot_char(int pos_x, int pos_y, char c, enum char_style style)
{
  150528:	defff504 	addi	sp,sp,-44
  15052c:	dfc00a15 	stw	ra,40(sp)
  150530:	df000915 	stw	fp,36(sp)
  150534:	df000904 	addi	fp,sp,36
  150538:	e13ffc15 	stw	r4,-16(fp)
  15053c:	e17ffd15 	stw	r5,-12(fp)
  150540:	3005883a 	mov	r2,r6
  150544:	e1ffff15 	stw	r7,-4(fp)
  150548:	e0bffe05 	stb	r2,-8(fp)
    int  y;		/* y pixel position for the character */



    /* setup the pixel positions for the character */
    x = pos_x * HORIZ_SIZE;
  15054c:	e0bffc17 	ldw	r2,-16(fp)
  150550:	108001a4 	muli	r2,r2,6
  150554:	e0bffb15 	stw	r2,-20(fp)
    y = pos_y * VERT_SIZE;
  150558:	e0bffd17 	ldw	r2,-12(fp)
  15055c:	100490fa 	slli	r2,r2,3
  150560:	e0bffa15 	stw	r2,-24(fp)


    /* loop outputting the bits to the screen */
    for (row = 0; row < VERT_SIZE; row++)  {
  150564:	e03ff915 	stw	zero,-28(fp)
  150568:	00004006 	br	15066c <plot_char+0x144>

        /* get the character bits for this row from the character table */
	if (row == (VERT_SIZE - 1))
  15056c:	e0bff917 	ldw	r2,-28(fp)
  150570:	108001d8 	cmpnei	r2,r2,7
  150574:	1000021e 	bne	r2,zero,150580 <plot_char+0x58>
	    /* last row - blank it */
	    bits = 0;
  150578:	e03ff715 	stw	zero,-36(fp)
  15057c:	00000a06 	br	1505a8 <plot_char+0x80>
	else
	    /* in middle of character, get the row from the bit patterns */
            bits = char_patterns[(c * (VERT_SIZE - 1)) + row];
  150580:	e0bffe07 	ldb	r2,-8(fp)
  150584:	10c001e4 	muli	r3,r2,7
  150588:	e0bff917 	ldw	r2,-28(fp)
  15058c:	1885883a 	add	r2,r3,r2
  150590:	00c00574 	movhi	r3,21
  150594:	18d1d404 	addi	r3,r3,18256
  150598:	1885883a 	add	r2,r3,r2
  15059c:	10800003 	ldbu	r2,0(r2)
  1505a0:	10803fcc 	andi	r2,r2,255
  1505a4:	e0bff715 	stw	r2,-36(fp)

	/* take care of "normal/reverse video" */
	if (style == REVERSE)
  1505a8:	e0bfff17 	ldw	r2,-4(fp)
  1505ac:	10800058 	cmpnei	r2,r2,1
  1505b0:	1000031e 	bne	r2,zero,1505c0 <plot_char+0x98>
	    /* invert the bits for "reverse video" */
	    bits = ~bits;
  1505b4:	e0bff717 	ldw	r2,-36(fp)
  1505b8:	0084303a 	nor	r2,zero,r2
  1505bc:	e0bff715 	stw	r2,-36(fp)

        /* get the bits "in position" (high bit is output first */
	bits <<= (8 - HORIZ_SIZE);
  1505c0:	e0bff717 	ldw	r2,-36(fp)
  1505c4:	1085883a 	add	r2,r2,r2
  1505c8:	1085883a 	add	r2,r2,r2
  1505cc:	e0bff715 	stw	r2,-36(fp)


	/* now output the row of the character, pixel by pixel */
	for (col = 0; col < HORIZ_SIZE; col++)  {
  1505d0:	e03ff815 	stw	zero,-32(fp)
  1505d4:	00001c06 	br	150648 <plot_char+0x120>

            /* output this pixel in the appropriate color */
	    if ((bits & 0x80) == 0)
  1505d8:	e0bff717 	ldw	r2,-36(fp)
  1505dc:	1080200c 	andi	r2,r2,128
  1505e0:	10000a1e 	bne	r2,zero,15060c <plot_char+0xe4>
	        /* blank pixel - output in PIXEL_WHITE */
		plot_pixel(x + col, y, PIXEL_BLACK);
  1505e4:	e0fffb17 	ldw	r3,-20(fp)
  1505e8:	e0bff817 	ldw	r2,-32(fp)
  1505ec:	1885883a 	add	r2,r3,r2
  1505f0:	1007883a 	mov	r3,r2
  1505f4:	e0bffa17 	ldw	r2,-24(fp)
  1505f8:	1809883a 	mov	r4,r3
  1505fc:	100b883a 	mov	r5,r2
  150600:	000d883a 	mov	r6,zero
  150604:	01536c40 	call	1536c4 <plot_pixel>
  150608:	00000906 	br	150630 <plot_char+0x108>
	    else
	        /* black pixel - output in PIXEL_BLACK */
		plot_pixel(x + col, y, PIXEL_GREEN);
  15060c:	e0fffb17 	ldw	r3,-20(fp)
  150610:	e0bff817 	ldw	r2,-32(fp)
  150614:	1885883a 	add	r2,r3,r2
  150618:	1007883a 	mov	r3,r2
  15061c:	e0bffa17 	ldw	r2,-24(fp)
  150620:	1809883a 	mov	r4,r3
  150624:	100b883a 	mov	r5,r2
  150628:	01b800d4 	movui	r6,57347
  15062c:	01536c40 	call	1536c4 <plot_pixel>

	    /* shift the next bit into position */
	    bits <<= 1;
  150630:	e0bff717 	ldw	r2,-36(fp)
  150634:	1085883a 	add	r2,r2,r2
  150638:	e0bff715 	stw	r2,-36(fp)
        /* get the bits "in position" (high bit is output first */
	bits <<= (8 - HORIZ_SIZE);


	/* now output the row of the character, pixel by pixel */
	for (col = 0; col < HORIZ_SIZE; col++)  {
  15063c:	e0bff817 	ldw	r2,-32(fp)
  150640:	10800044 	addi	r2,r2,1
  150644:	e0bff815 	stw	r2,-32(fp)
  150648:	e0bff817 	ldw	r2,-32(fp)
  15064c:	10800190 	cmplti	r2,r2,6
  150650:	103fe11e 	bne	r2,zero,1505d8 <plot_char+0xb0>
	    bits <<= 1;
        }


	/* next row - update the y position */
	y++;
  150654:	e0bffa17 	ldw	r2,-24(fp)
  150658:	10800044 	addi	r2,r2,1
  15065c:	e0bffa15 	stw	r2,-24(fp)
    x = pos_x * HORIZ_SIZE;
    y = pos_y * VERT_SIZE;


    /* loop outputting the bits to the screen */
    for (row = 0; row < VERT_SIZE; row++)  {
  150660:	e0bff917 	ldw	r2,-28(fp)
  150664:	10800044 	addi	r2,r2,1
  150668:	e0bff915 	stw	r2,-28(fp)
  15066c:	e0bff917 	ldw	r2,-28(fp)
  150670:	10800210 	cmplti	r2,r2,8
  150674:	103fbd1e 	bne	r2,zero,15056c <plot_char+0x44>
	y++;
    }


    /* all done, return */
    return;
  150678:	0001883a 	nop

}
  15067c:	e037883a 	mov	sp,fp
  150680:	dfc00117 	ldw	ra,4(sp)
  150684:	df000017 	ldw	fp,0(sp)
  150688:	dec00204 	addi	sp,sp,8
  15068c:	f800283a 	ret

00150690 <plot_string>:
   Last Modified:    Mar. 17, 1997

*/

void  plot_string(int pos_x, int pos_y, const char *s, enum char_style style)
{
  150690:	defffa04 	addi	sp,sp,-24
  150694:	dfc00515 	stw	ra,20(sp)
  150698:	df000415 	stw	fp,16(sp)
  15069c:	df000404 	addi	fp,sp,16
  1506a0:	e13ffc15 	stw	r4,-16(fp)
  1506a4:	e17ffd15 	stw	r5,-12(fp)
  1506a8:	e1bffe15 	stw	r6,-8(fp)
  1506ac:	e1ffff15 	stw	r7,-4(fp)
      /* none */



    /* loop, outputting characters from string s */
    while (*s != '\0')
  1506b0:	00001106 	br	1506f8 <plot_string+0x68>

        /* output this character and move to the next character and screen position */
	plot_char(pos_x++, pos_y, *s++, style);
  1506b4:	e0fffc17 	ldw	r3,-16(fp)
  1506b8:	e0bffc17 	ldw	r2,-16(fp)
  1506bc:	10800044 	addi	r2,r2,1
  1506c0:	e0bffc15 	stw	r2,-16(fp)
  1506c4:	e0bffe17 	ldw	r2,-8(fp)
  1506c8:	10800003 	ldbu	r2,0(r2)
  1506cc:	10803fcc 	andi	r2,r2,255
  1506d0:	1080201c 	xori	r2,r2,128
  1506d4:	10bfe004 	addi	r2,r2,-128
  1506d8:	e13ffe17 	ldw	r4,-8(fp)
  1506dc:	21000044 	addi	r4,r4,1
  1506e0:	e13ffe15 	stw	r4,-8(fp)
  1506e4:	1809883a 	mov	r4,r3
  1506e8:	e17ffd17 	ldw	r5,-12(fp)
  1506ec:	100d883a 	mov	r6,r2
  1506f0:	e1ffff17 	ldw	r7,-4(fp)
  1506f4:	01505280 	call	150528 <plot_char>
      /* none */



    /* loop, outputting characters from string s */
    while (*s != '\0')
  1506f8:	e0bffe17 	ldw	r2,-8(fp)
  1506fc:	10800003 	ldbu	r2,0(r2)
  150700:	10803fcc 	andi	r2,r2,255
  150704:	1080201c 	xori	r2,r2,128
  150708:	10bfe004 	addi	r2,r2,-128
  15070c:	103fe91e 	bne	r2,zero,1506b4 <plot_string+0x24>
        /* output this character and move to the next character and screen position */
	plot_char(pos_x++, pos_y, *s++, style);


    /* all done, return */
    return;
  150710:	0001883a 	nop

}
  150714:	e037883a 	mov	sp,fp
  150718:	dfc00117 	ldw	ra,4(sp)
  15071c:	df000017 	ldw	fp,0(sp)
  150720:	dec00204 	addi	sp,sp,8
  150724:	f800283a 	ret

00150728 <main>:

   Author:           Glen George
   Last Modified:    May 27, 2008
*/

int  main() {
  150728:	deffef04 	addi	sp,sp,-68
  15072c:	dfc01015 	stw	ra,64(sp)
  150730:	df000f15 	stw	fp,60(sp)
  150734:	df000f04 	addi	fp,sp,60
    	srampt++;
    	c++;
    	if(c >= 100) c = 0;
    }*/

	key_int_installer();
  150738:	0152b400 	call	152b40 <key_int_installer>
	adc_int_installer();
  15073c:	01531200 	call	153120 <adc_int_installer>
	}*/

	/* variables */
    enum keycode        key;		    /* an input key */

    enum status         state = MENU_ON;    /* current program state */
  150740:	e03ff115 	stw	zero,-60(fp)

    unsigned char      *sample;		    /* a captured trace */

    /* key processing functions (one for each system state type and key) */
    enum status  (* const process_key[NUM_KEYCODES][NUM_STATES])(enum status) =
  150744:	00800574 	movhi	r2,21
  150748:	10808604 	addi	r2,r2,536
  15074c:	e0bff415 	stw	r2,-48(fp)
  150750:	00800574 	movhi	r2,21
  150754:	10808604 	addi	r2,r2,536
  150758:	e0bff515 	stw	r2,-44(fp)
  15075c:	00800574 	movhi	r2,21
  150760:	10809a04 	addi	r2,r2,616
  150764:	e0bff615 	stw	r2,-40(fp)
  150768:	00800574 	movhi	r2,21
  15076c:	10807d04 	addi	r2,r2,500
  150770:	e0bff715 	stw	r2,-36(fp)
  150774:	00800574 	movhi	r2,21
  150778:	1080a604 	addi	r2,r2,664
  15077c:	e0bff815 	stw	r2,-32(fp)
  150780:	00800574 	movhi	r2,21
  150784:	10807d04 	addi	r2,r2,500
  150788:	e0bff915 	stw	r2,-28(fp)
  15078c:	00800574 	movhi	r2,21
  150790:	1080b204 	addi	r2,r2,712
  150794:	e0bffa15 	stw	r2,-24(fp)
  150798:	00800574 	movhi	r2,21
  15079c:	10807d04 	addi	r2,r2,500
  1507a0:	e0bffb15 	stw	r2,-20(fp)
  1507a4:	00800574 	movhi	r2,21
  1507a8:	1080be04 	addi	r2,r2,760
  1507ac:	e0bffc15 	stw	r2,-16(fp)
  1507b0:	00800574 	movhi	r2,21
  1507b4:	10807d04 	addi	r2,r2,500
  1507b8:	e0bffd15 	stw	r2,-12(fp)
  1507bc:	00800574 	movhi	r2,21
  1507c0:	10807d04 	addi	r2,r2,500
  1507c4:	e0bffe15 	stw	r2,-8(fp)
  1507c8:	00800574 	movhi	r2,21
  1507cc:	10807d04 	addi	r2,r2,500
  1507d0:	e0bfff15 	stw	r2,-4(fp)
        {  no_action,   no_action   } }; /* illegal key */



    /* first initialize everything */
    clear_display();		/* clear the display */
  1507d4:	01536740 	call	153674 <clear_display>

    init_trace();		/* initialize the trace routines */
  1507d8:	0151ca40 	call	151ca4 <init_trace>
    init_menu();		/* initialize the menu system */
  1507dc:	01509400 	call	150940 <init_menu>
  1507e0:	00000106 	br	1507e8 <main+0xc0>
			key = key_lookup();

			//execute processing routine for that key
			state = process_key[key][state](state);
		}
    }
  1507e4:	0001883a 	nop
    // infinite loop processing input
	//int x = 0;
    while(TRUE)  {
    	//x += 1;
		// if ready to do a trace, do it
		if (trace_rdy()) do_trace();
  1507e8:	0151d600 	call	151d60 <trace_rdy>
  1507ec:	10000126 	beq	r2,zero,1507f4 <main+0xcc>
  1507f0:	015266c0 	call	15266c <do_trace>

		//check if have a trace to display
		if (is_sampling() && ((sample = sample_done()) != NULL))  {
  1507f4:	0151d400 	call	151d40 <is_sampling>
  1507f8:	10000726 	beq	r2,zero,150818 <main+0xf0>
  1507fc:	01538f00 	call	1538f0 <sample_done>
  150800:	e0bff215 	stw	r2,-56(fp)
  150804:	e0bff217 	ldw	r2,-56(fp)
  150808:	10000326 	beq	r2,zero,150818 <main+0xf0>

			//have a trace - output it
			plot_trace(sample);
  15080c:	e13ff217 	ldw	r4,-56(fp)
  150810:	01526b40 	call	1526b4 <plot_trace>
			//done processing this trace
			trace_done();
  150814:	0151d980 	call	151d98 <trace_done>
		}

		//now check for keypad input
		if (key_available())  {
  150818:	01530700 	call	153070 <key_available>
  15081c:	10803fcc 	andi	r2,r2,255
  150820:	103ff026 	beq	r2,zero,1507e4 <main+0xbc>

			//have keypad input - get the key
			key = key_lookup();
  150824:	01508640 	call	150864 <key_lookup>
  150828:	e0bff315 	stw	r2,-52(fp)

			//execute processing routine for that key
			state = process_key[key][state](state);
  15082c:	e0bff317 	ldw	r2,-52(fp)
  150830:	1087883a 	add	r3,r2,r2
  150834:	e0bff117 	ldw	r2,-60(fp)
  150838:	1885883a 	add	r2,r3,r2
  15083c:	1085883a 	add	r2,r2,r2
  150840:	1085883a 	add	r2,r2,r2
  150844:	e0fff104 	addi	r3,fp,-60
  150848:	1885883a 	add	r2,r3,r2
  15084c:	10800304 	addi	r2,r2,12
  150850:	10800017 	ldw	r2,0(r2)
  150854:	e13ff117 	ldw	r4,-60(fp)
  150858:	103ee83a 	callr	r2
  15085c:	e0bff115 	stw	r2,-60(fp)
		}
    }
  150860:	003fe006 	br	1507e4 <main+0xbc>

00150864 <key_lookup>:
   Last Modified:    Mar. 17, 1997

*/

enum keycode  	key_lookup()
{
  150864:	defff104 	addi	sp,sp,-60
  150868:	dfc00e15 	stw	ra,56(sp)
  15086c:	df000d15 	stw	fp,52(sp)
  150870:	df000d04 	addi	fp,sp,52
    /* variables */

    const enum keycode  keycodes[] = /* array of keycodes */
  150874:	e03ff515 	stw	zero,-44(fp)
  150878:	00800044 	movi	r2,1
  15087c:	e0bff615 	stw	r2,-40(fp)
  150880:	00800084 	movi	r2,2
  150884:	e0bff715 	stw	r2,-36(fp)
  150888:	008000c4 	movi	r2,3
  15088c:	e0bff815 	stw	r2,-32(fp)
  150890:	00800104 	movi	r2,4
  150894:	e0bff915 	stw	r2,-28(fp)
  150898:	00800144 	movi	r2,5
  15089c:	e0bffa15 	stw	r2,-24(fp)
           KEYCODE_LEFT,      /* <Left>     */
           KEYCODE_RIGHT,     /* <Right>    */
           KEYCODE_ILLEGAL    /* other keys */
        }; 

    const int  keys[] =   /* array of key values */
  1508a0:	e03ffb15 	stw	zero,-20(fp)
  1508a4:	00800044 	movi	r2,1
  1508a8:	e0bffc15 	stw	r2,-16(fp)
  1508ac:	00800084 	movi	r2,2
  1508b0:	e0bffd15 	stw	r2,-12(fp)
  1508b4:	008000c4 	movi	r2,3
  1508b8:	e0bffe15 	stw	r2,-8(fp)
  1508bc:	00800104 	movi	r2,4
  1508c0:	e0bfff15 	stw	r2,-4(fp)
    int  i;           	/* general loop index */



    /* get a key */
    key = getkey();
  1508c4:	01530a80 	call	1530a8 <getkey>
  1508c8:	e0bff415 	stw	r2,-48(fp)


    /* lookup key in keys array */
    for (i = 0; ((i < (sizeof(keys)/sizeof(int))) && (key != keys[i])); i++);
  1508cc:	e03ff315 	stw	zero,-52(fp)
  1508d0:	00000306 	br	1508e0 <key_lookup+0x7c>
  1508d4:	e0bff317 	ldw	r2,-52(fp)
  1508d8:	10800044 	addi	r2,r2,1
  1508dc:	e0bff315 	stw	r2,-52(fp)
  1508e0:	e0bff317 	ldw	r2,-52(fp)
  1508e4:	10800168 	cmpgeui	r2,r2,5
  1508e8:	1000091e 	bne	r2,zero,150910 <key_lookup+0xac>
  1508ec:	e0bff317 	ldw	r2,-52(fp)
  1508f0:	1085883a 	add	r2,r2,r2
  1508f4:	1085883a 	add	r2,r2,r2
  1508f8:	e0fff304 	addi	r3,fp,-52
  1508fc:	1885883a 	add	r2,r3,r2
  150900:	10800804 	addi	r2,r2,32
  150904:	10c00017 	ldw	r3,0(r2)
  150908:	e0bff417 	ldw	r2,-48(fp)
  15090c:	18bff11e 	bne	r3,r2,1508d4 <key_lookup+0x70>


    /* return the appropriate key type */
    return  keycodes[i];
  150910:	e0bff317 	ldw	r2,-52(fp)
  150914:	1085883a 	add	r2,r2,r2
  150918:	1085883a 	add	r2,r2,r2
  15091c:	e0fff304 	addi	r3,fp,-52
  150920:	1885883a 	add	r2,r3,r2
  150924:	10800204 	addi	r2,r2,8
  150928:	10800017 	ldw	r2,0(r2)

}
  15092c:	e037883a 	mov	sp,fp
  150930:	dfc00117 	ldw	ra,4(sp)
  150934:	df000017 	ldw	fp,0(sp)
  150938:	dec00204 	addi	sp,sp,8
  15093c:	f800283a 	ret

00150940 <init_menu>:
   Last Modified:    Mar. 17, 1997

*/

void  init_menu(void)
{
  150940:	defffe04 	addi	sp,sp,-8
  150944:	dfc00115 	stw	ra,4(sp)
  150948:	df000015 	stw	fp,0(sp)
  15094c:	d839883a 	mov	fp,sp
      /* none */



    /* set the menu parameters */
    menu_entry = 0;		/* first menu entry */
  150950:	d0245515 	stw	zero,-28332(gp)
    menu_display = FALSE;	/* menu is not currently displayed (but it will be shortly) */
  150954:	d0245615 	stw	zero,-28328(gp)


    /* set the scope (option) parameters */
    set_trigger_mode(NORMAL_TRIGGER);	/* normal triggering */
  150958:	0009883a 	mov	r4,zero
  15095c:	0150ec00 	call	150ec0 <set_trigger_mode>
    set_scale(SCALE_AXES);		/* scale is axes */
  150960:	01000044 	movi	r4,1
  150964:	015106c0 	call	15106c <set_scale>
    set_sweep(0);			/* first sweep rate */
  150968:	0009883a 	mov	r4,zero
  15096c:	01511f80 	call	1511f8 <set_sweep>
    set_trg_level((MIN_TRG_LEVEL_SET + MAX_TRG_LEVEL_SET) / 2);	/* middle trigger level */
  150970:	01000fc4 	movi	r4,63
  150974:	01513c40 	call	1513c4 <set_trg_level>
    set_trg_slope(SLOPE_POSITIVE);	/* positive slope */
  150978:	0009883a 	mov	r4,zero
  15097c:	01515480 	call	151548 <set_trg_slope>
    set_trg_delay(MIN_DELAY);		/* minimum delay */
  150980:	0009883a 	mov	r4,zero
  150984:	015165c0 	call	15165c <set_trg_delay>


    /* now display the menu */
    display_menu();
  150988:	01509dc0 	call	1509dc <display_menu>


    /* done initializing, return */
    return;
  15098c:	0001883a 	nop

}
  150990:	e037883a 	mov	sp,fp
  150994:	dfc00117 	ldw	ra,4(sp)
  150998:	df000017 	ldw	fp,0(sp)
  15099c:	dec00204 	addi	sp,sp,8
  1509a0:	f800283a 	ret

001509a4 <clear_menu>:
   Last Modified:    Mar. 13, 1994

*/

void  clear_menu(void)
{
  1509a4:	defffe04 	addi	sp,sp,-8
  1509a8:	dfc00115 	stw	ra,4(sp)
  1509ac:	df000015 	stw	fp,0(sp)
  1509b0:	d839883a 	mov	fp,sp
      /* none */



    /* check if the menu is currently being displayed */
    if (menu_display)  {
  1509b4:	d0a45617 	ldw	r2,-28328(gp)
  1509b8:	10000126 	beq	r2,zero,1509c0 <clear_menu+0x1c>

        /* menu is being displayed - turn it off and restore the trace in that area */
	restore_menu_trace();
  1509bc:	01523980 	call	152398 <restore_menu_trace>
    }


    /* no longer displaying the menu */
    menu_display = FALSE;
  1509c0:	d0245615 	stw	zero,-28328(gp)


    /* all done, return */
    return;
  1509c4:	0001883a 	nop

}
  1509c8:	e037883a 	mov	sp,fp
  1509cc:	dfc00117 	ldw	ra,4(sp)
  1509d0:	df000017 	ldw	fp,0(sp)
  1509d4:	dec00204 	addi	sp,sp,8
  1509d8:	f800283a 	ret

001509dc <display_menu>:
   Last Modified:    Mar. 13, 1994

*/

void  display_menu(void)
{
  1509dc:	defffd04 	addi	sp,sp,-12
  1509e0:	dfc00215 	stw	ra,8(sp)
  1509e4:	df000115 	stw	fp,4(sp)
  1509e8:	df000104 	addi	fp,sp,4
    int  i;		/* loop index */



    /* check if the menu is currently being displayed */
    if (!menu_display)  {
  1509ec:	d0a45617 	ldw	r2,-28328(gp)
  1509f0:	1000121e 	bne	r2,zero,150a3c <display_menu+0x60>

        /* menu is not being displayed - turn it on */
	/* display it entry by entry */
	for (i = 0; i < NO_MENU_ENTRIES; i++)  {
  1509f4:	e03fff15 	stw	zero,-4(fp)
  1509f8:	00000d06 	br	150a30 <display_menu+0x54>

	    /* display this entry - check if it should be highlighted */
	    if (i == menu_entry)
  1509fc:	d0a45517 	ldw	r2,-28332(gp)
  150a00:	e0ffff17 	ldw	r3,-4(fp)
  150a04:	1880041e 	bne	r3,r2,150a18 <display_menu+0x3c>
	        /* currently selected entry - highlight it */
	        display_entry(i, TRUE);
  150a08:	e13fff17 	ldw	r4,-4(fp)
  150a0c:	01400044 	movi	r5,1
  150a10:	0150da40 	call	150da4 <display_entry>
  150a14:	00000306 	br	150a24 <display_menu+0x48>
	    else
	        /* not the currently selected entry - "normal video" */
	        display_entry(i, FALSE);
  150a18:	e13fff17 	ldw	r4,-4(fp)
  150a1c:	000b883a 	mov	r5,zero
  150a20:	0150da40 	call	150da4 <display_entry>
    /* check if the menu is currently being displayed */
    if (!menu_display)  {

        /* menu is not being displayed - turn it on */
	/* display it entry by entry */
	for (i = 0; i < NO_MENU_ENTRIES; i++)  {
  150a24:	e0bfff17 	ldw	r2,-4(fp)
  150a28:	10800044 	addi	r2,r2,1
  150a2c:	e0bfff15 	stw	r2,-4(fp)
  150a30:	e0bfff17 	ldw	r2,-4(fp)
  150a34:	108001f0 	cmpltui	r2,r2,7
  150a38:	103ff01e 	bne	r2,zero,1509fc <display_menu+0x20>
        }
    }


    /* now are displaying the menu */
    menu_display = TRUE;
  150a3c:	00800044 	movi	r2,1
  150a40:	d0a45615 	stw	r2,-28328(gp)


    /* all done, return */
    return;
  150a44:	0001883a 	nop

}
  150a48:	e037883a 	mov	sp,fp
  150a4c:	dfc00117 	ldw	ra,4(sp)
  150a50:	df000017 	ldw	fp,0(sp)
  150a54:	dec00204 	addi	sp,sp,8
  150a58:	f800283a 	ret

00150a5c <refresh_menu>:
   Last Modified:    Mar. 8, 1994

*/

void  refresh_menu(void)
{
  150a5c:	defffe04 	addi	sp,sp,-8
  150a60:	dfc00115 	stw	ra,4(sp)
  150a64:	df000015 	stw	fp,0(sp)
  150a68:	d839883a 	mov	fp,sp
      /* none */



    /* check if the menu is currently being displayed */
    if (menu_display)  {
  150a6c:	d0a45617 	ldw	r2,-28328(gp)
  150a70:	10000226 	beq	r2,zero,150a7c <refresh_menu+0x20>

    	/* menu is currently being displayed - need to refresh it */
	/* do this by turning off the display, then forcing it back on */
	menu_display = FALSE;
  150a74:	d0245615 	stw	zero,-28328(gp)
	display_menu();
  150a78:	01509dc0 	call	1509dc <display_menu>
    }


    /* refreshed the menu if it was displayed, now return */
    return;
  150a7c:	0001883a 	nop

}
  150a80:	e037883a 	mov	sp,fp
  150a84:	dfc00117 	ldw	ra,4(sp)
  150a88:	df000017 	ldw	fp,0(sp)
  150a8c:	dec00204 	addi	sp,sp,8
  150a90:	f800283a 	ret

00150a94 <reset_menu>:
   Last Modified:    Mar. 17, 1997

*/

void  reset_menu(void)
{
  150a94:	defffe04 	addi	sp,sp,-8
  150a98:	dfc00115 	stw	ra,4(sp)
  150a9c:	df000015 	stw	fp,0(sp)
  150aa0:	d839883a 	mov	fp,sp
      /* none */



    /* check if the menu is currently being displayed */
    if (menu_display)  {
  150aa4:	d0a45617 	ldw	r2,-28328(gp)
  150aa8:	10000426 	beq	r2,zero,150abc <reset_menu+0x28>

        /* menu is being displayed */
	/* remove highlight from currently selected entry */
	display_entry(menu_entry, FALSE);
  150aac:	d0a45517 	ldw	r2,-28332(gp)
  150ab0:	1009883a 	mov	r4,r2
  150ab4:	000b883a 	mov	r5,zero
  150ab8:	0150da40 	call	150da4 <display_entry>
    }


    /* reset the currently selected entry */
    menu_entry = 0;
  150abc:	d0245515 	stw	zero,-28332(gp)


    /* finally, highlight the first entry if the menu is being displayed */
    if (menu_display)
  150ac0:	d0a45617 	ldw	r2,-28328(gp)
  150ac4:	10000426 	beq	r2,zero,150ad8 <reset_menu+0x44>
	display_entry(menu_entry, TRUE);
  150ac8:	d0a45517 	ldw	r2,-28332(gp)
  150acc:	1009883a 	mov	r4,r2
  150ad0:	01400044 	movi	r5,1
  150ad4:	0150da40 	call	150da4 <display_entry>



    /* all done, return */
    return;
  150ad8:	0001883a 	nop

}
  150adc:	e037883a 	mov	sp,fp
  150ae0:	dfc00117 	ldw	ra,4(sp)
  150ae4:	df000017 	ldw	fp,0(sp)
  150ae8:	dec00204 	addi	sp,sp,8
  150aec:	f800283a 	ret

00150af0 <next_entry>:
   Last Modified:    Mar. 13, 1994

*/

void  next_entry(void)
{
  150af0:	defffe04 	addi	sp,sp,-8
  150af4:	dfc00115 	stw	ra,4(sp)
  150af8:	df000015 	stw	fp,0(sp)
  150afc:	d839883a 	mov	fp,sp
      /* none */



    /* only update if not at end of the menu */
    if (menu_entry < (NO_MENU_ENTRIES - 1))  {
  150b00:	d0a45517 	ldw	r2,-28332(gp)
  150b04:	108001a8 	cmpgeui	r2,r2,6
  150b08:	10000f1e 	bne	r2,zero,150b48 <next_entry+0x58>

        /* not at the end of the menu */

	/* turn off current entry if displaying */
	if (menu_display)
  150b0c:	d0a45617 	ldw	r2,-28328(gp)
  150b10:	10000426 	beq	r2,zero,150b24 <next_entry+0x34>
            /* displaying menu - turn off currently selected entry */
	    display_entry(menu_entry, FALSE);
  150b14:	d0a45517 	ldw	r2,-28332(gp)
  150b18:	1009883a 	mov	r4,r2
  150b1c:	000b883a 	mov	r5,zero
  150b20:	0150da40 	call	150da4 <display_entry>

	/* update the menu entry to the next one */
	menu_entry++;
  150b24:	d0a45517 	ldw	r2,-28332(gp)
  150b28:	10800044 	addi	r2,r2,1
  150b2c:	d0a45515 	stw	r2,-28332(gp)

	/* now highlight this entry if displaying the menu */
	if (menu_display)
  150b30:	d0a45617 	ldw	r2,-28328(gp)
  150b34:	10000426 	beq	r2,zero,150b48 <next_entry+0x58>
            /* displaying menu - highlight newly selected entry */
	    display_entry(menu_entry, TRUE);
  150b38:	d0a45517 	ldw	r2,-28332(gp)
  150b3c:	1009883a 	mov	r4,r2
  150b40:	01400044 	movi	r5,1
  150b44:	0150da40 	call	150da4 <display_entry>
    }


    /* all done, return */
    return;
  150b48:	0001883a 	nop

}
  150b4c:	e037883a 	mov	sp,fp
  150b50:	dfc00117 	ldw	ra,4(sp)
  150b54:	df000017 	ldw	fp,0(sp)
  150b58:	dec00204 	addi	sp,sp,8
  150b5c:	f800283a 	ret

00150b60 <previous_entry>:
   Last Modified:    Mar. 13, 1994

*/

void  previous_entry(void)
{
  150b60:	defffe04 	addi	sp,sp,-8
  150b64:	dfc00115 	stw	ra,4(sp)
  150b68:	df000015 	stw	fp,0(sp)
  150b6c:	d839883a 	mov	fp,sp
      /* none */



    /* only update if not at the start of the menu */
    if (menu_entry > 0)  {
  150b70:	d0a45517 	ldw	r2,-28332(gp)
  150b74:	00800f0e 	bge	zero,r2,150bb4 <previous_entry+0x54>

        /* not at the start of the menu */

	/* turn off current entry if displaying */
	if (menu_display)
  150b78:	d0a45617 	ldw	r2,-28328(gp)
  150b7c:	10000426 	beq	r2,zero,150b90 <previous_entry+0x30>
            /* displaying menu - turn off currently selected entry */
	    display_entry(menu_entry, FALSE);
  150b80:	d0a45517 	ldw	r2,-28332(gp)
  150b84:	1009883a 	mov	r4,r2
  150b88:	000b883a 	mov	r5,zero
  150b8c:	0150da40 	call	150da4 <display_entry>

	/* update the menu entry to the previous one */
	menu_entry--;
  150b90:	d0a45517 	ldw	r2,-28332(gp)
  150b94:	10bfffc4 	addi	r2,r2,-1
  150b98:	d0a45515 	stw	r2,-28332(gp)

	/* now highlight this entry if displaying the menu */
	if (menu_display)
  150b9c:	d0a45617 	ldw	r2,-28328(gp)
  150ba0:	10000426 	beq	r2,zero,150bb4 <previous_entry+0x54>
            /* displaying menu - highlight newly selected entry */
	    display_entry(menu_entry, TRUE);
  150ba4:	d0a45517 	ldw	r2,-28332(gp)
  150ba8:	1009883a 	mov	r4,r2
  150bac:	01400044 	movi	r5,1
  150bb0:	0150da40 	call	150da4 <display_entry>

    }


    /* all done, return */
    return;
  150bb4:	0001883a 	nop

}
  150bb8:	e037883a 	mov	sp,fp
  150bbc:	dfc00117 	ldw	ra,4(sp)
  150bc0:	df000017 	ldw	fp,0(sp)
  150bc4:	dec00204 	addi	sp,sp,8
  150bc8:	f800283a 	ret

00150bcc <menu_entry_left>:
   Last Modified:    May 9, 2006

*/

void  menu_entry_left(void)
{
  150bcc:	defff704 	addi	sp,sp,-36
  150bd0:	dfc00815 	stw	ra,32(sp)
  150bd4:	df000715 	stw	fp,28(sp)
  150bd8:	df000704 	addi	fp,sp,28
    /* variables */

    /* key processing functions */
    void  (* const process[])(void) =
  150bdc:	00800574 	movhi	r2,21
  150be0:	1083c804 	addi	r2,r2,3872
  150be4:	e0bff915 	stw	r2,-28(fp)
  150be8:	00800574 	movhi	r2,21
  150bec:	10842b04 	addi	r2,r2,4268
  150bf0:	e0bffa15 	stw	r2,-24(fp)
  150bf4:	00800574 	movhi	r2,21
  150bf8:	10849604 	addi	r2,r2,4696
  150bfc:	e0bffb15 	stw	r2,-20(fp)
  150c00:	00800574 	movhi	r2,21
  150c04:	10877604 	addi	r2,r2,7640
  150c08:	e0bffc15 	stw	r2,-16(fp)
  150c0c:	00800574 	movhi	r2,21
  150c10:	10850304 	addi	r2,r2,5132
  150c14:	e0bffd15 	stw	r2,-12(fp)
  150c18:	00800574 	movhi	r2,21
  150c1c:	10856404 	addi	r2,r2,5520
  150c20:	e0bffe15 	stw	r2,-8(fp)
  150c24:	00800574 	movhi	r2,21
  150c28:	1085a704 	addi	r2,r2,5788
  150c2c:	e0bfff15 	stw	r2,-4(fp)
       /*  Level           Slope             Delay                        */



    /* invoke the appropriate <Left> key function */
    process[menu_entry]();
  150c30:	d0a45517 	ldw	r2,-28332(gp)
  150c34:	1085883a 	add	r2,r2,r2
  150c38:	1085883a 	add	r2,r2,r2
  150c3c:	e0fff904 	addi	r3,fp,-28
  150c40:	1885883a 	add	r2,r3,r2
  150c44:	10800017 	ldw	r2,0(r2)
  150c48:	103ee83a 	callr	r2

    /* if displaying menu entries, display the new value */
    /* note: since it is being changed - know this option is selected */
    if (menu_display)  {
  150c4c:	d0a45617 	ldw	r2,-28328(gp)
  150c50:	10001426 	beq	r2,zero,150ca4 <menu_entry_left+0xd8>
        menu[menu_entry].display((MENU_X + menu[menu_entry].opt_off),
  150c54:	d0a45517 	ldw	r2,-28332(gp)
  150c58:	00c00574 	movhi	r3,21
  150c5c:	18d2c204 	addi	r3,r3,19208
  150c60:	1004913a 	slli	r2,r2,4
  150c64:	1885883a 	add	r2,r3,r2
  150c68:	10800304 	addi	r2,r2,12
  150c6c:	11c00017 	ldw	r7,0(r2)
  150c70:	d0a45517 	ldw	r2,-28332(gp)
  150c74:	00c00574 	movhi	r3,21
  150c78:	18d2c204 	addi	r3,r3,19208
  150c7c:	1004913a 	slli	r2,r2,4
  150c80:	1885883a 	add	r2,r3,r2
  150c84:	10800204 	addi	r2,r2,8
  150c88:	10800017 	ldw	r2,0(r2)
  150c8c:	10c00fc4 	addi	r3,r2,63
  150c90:	d0a45517 	ldw	r2,-28332(gp)
  150c94:	1809883a 	mov	r4,r3
  150c98:	100b883a 	mov	r5,r2
  150c9c:	000d883a 	mov	r6,zero
  150ca0:	383ee83a 	callr	r7


    /* all done, return */
    return;

}
  150ca4:	e037883a 	mov	sp,fp
  150ca8:	dfc00117 	ldw	ra,4(sp)
  150cac:	df000017 	ldw	fp,0(sp)
  150cb0:	dec00204 	addi	sp,sp,8
  150cb4:	f800283a 	ret

00150cb8 <menu_entry_right>:
   Last Modified:    May 9, 2006

*/

void  menu_entry_right(void)
{
  150cb8:	defff704 	addi	sp,sp,-36
  150cbc:	dfc00815 	stw	ra,32(sp)
  150cc0:	df000715 	stw	fp,28(sp)
  150cc4:	df000704 	addi	fp,sp,28
    /* variables */

    /* key processing functions */
    void  (* const process[])(void) =
  150cc8:	00800574 	movhi	r2,21
  150ccc:	1083e104 	addi	r2,r2,3972
  150cd0:	e0bff915 	stw	r2,-28(fp)
  150cd4:	00800574 	movhi	r2,21
  150cd8:	10844404 	addi	r2,r2,4368
  150cdc:	e0bffa15 	stw	r2,-24(fp)
  150ce0:	00800574 	movhi	r2,21
  150ce4:	1084b604 	addi	r2,r2,4824
  150ce8:	e0bffb15 	stw	r2,-20(fp)
  150cec:	00800574 	movhi	r2,21
  150cf0:	10877604 	addi	r2,r2,7640
  150cf4:	e0bffc15 	stw	r2,-16(fp)
  150cf8:	00800574 	movhi	r2,21
  150cfc:	10851704 	addi	r2,r2,5212
  150d00:	e0bffd15 	stw	r2,-12(fp)
  150d04:	00800574 	movhi	r2,21
  150d08:	10856404 	addi	r2,r2,5520
  150d0c:	e0bffe15 	stw	r2,-8(fp)
  150d10:	00800574 	movhi	r2,21
  150d14:	1085b904 	addi	r2,r2,5860
  150d18:	e0bfff15 	stw	r2,-4(fp)
       /*  Level         Slope             Delay                        */



    /* invoke the appropriate <Right> key function */
    process[menu_entry]();
  150d1c:	d0a45517 	ldw	r2,-28332(gp)
  150d20:	1085883a 	add	r2,r2,r2
  150d24:	1085883a 	add	r2,r2,r2
  150d28:	e0fff904 	addi	r3,fp,-28
  150d2c:	1885883a 	add	r2,r3,r2
  150d30:	10800017 	ldw	r2,0(r2)
  150d34:	103ee83a 	callr	r2

    /* if displaying menu entries, display the new value */
    /* note: since it is being changed - know this option is selected */
    if (menu_display)  {
  150d38:	d0a45617 	ldw	r2,-28328(gp)
  150d3c:	10001426 	beq	r2,zero,150d90 <menu_entry_right+0xd8>
        menu[menu_entry].display((MENU_X + menu[menu_entry].opt_off),
  150d40:	d0a45517 	ldw	r2,-28332(gp)
  150d44:	00c00574 	movhi	r3,21
  150d48:	18d2c204 	addi	r3,r3,19208
  150d4c:	1004913a 	slli	r2,r2,4
  150d50:	1885883a 	add	r2,r3,r2
  150d54:	10800304 	addi	r2,r2,12
  150d58:	11c00017 	ldw	r7,0(r2)
  150d5c:	d0a45517 	ldw	r2,-28332(gp)
  150d60:	00c00574 	movhi	r3,21
  150d64:	18d2c204 	addi	r3,r3,19208
  150d68:	1004913a 	slli	r2,r2,4
  150d6c:	1885883a 	add	r2,r3,r2
  150d70:	10800204 	addi	r2,r2,8
  150d74:	10800017 	ldw	r2,0(r2)
  150d78:	10c00fc4 	addi	r3,r2,63
  150d7c:	d0a45517 	ldw	r2,-28332(gp)
  150d80:	1809883a 	mov	r4,r3
  150d84:	100b883a 	mov	r5,r2
  150d88:	000d883a 	mov	r6,zero
  150d8c:	383ee83a 	callr	r7


    /* all done, return */
    return;

}
  150d90:	e037883a 	mov	sp,fp
  150d94:	dfc00117 	ldw	ra,4(sp)
  150d98:	df000017 	ldw	fp,0(sp)
  150d9c:	dec00204 	addi	sp,sp,8
  150da0:	f800283a 	ret

00150da4 <display_entry>:
   Last Modified:    Aug. 13, 2004

*/

void  display_entry(int entry, int selected)
{
  150da4:	defffc04 	addi	sp,sp,-16
  150da8:	dfc00315 	stw	ra,12(sp)
  150dac:	df000215 	stw	fp,8(sp)
  150db0:	df000204 	addi	fp,sp,8
  150db4:	e13ffe15 	stw	r4,-8(fp)
  150db8:	e17fff15 	stw	r5,-4(fp)
      /* none */



    /* output the menu entry with the appropriate color */
    plot_string((MENU_X + menu[entry].h_off), (MENU_Y + entry), menu[entry].s,
  150dbc:	00c00574 	movhi	r3,21
  150dc0:	18d2c204 	addi	r3,r3,19208
  150dc4:	e0bffe17 	ldw	r2,-8(fp)
  150dc8:	1004913a 	slli	r2,r2,4
  150dcc:	1885883a 	add	r2,r3,r2
  150dd0:	10800104 	addi	r2,r2,4
  150dd4:	10800017 	ldw	r2,0(r2)
  150dd8:	11000fc4 	addi	r4,r2,63
  150ddc:	00c00574 	movhi	r3,21
  150de0:	18d2c204 	addi	r3,r3,19208
  150de4:	e0bffe17 	ldw	r2,-8(fp)
  150de8:	1004913a 	slli	r2,r2,4
  150dec:	1885883a 	add	r2,r3,r2
  150df0:	10c00017 	ldw	r3,0(r2)
  150df4:	e0bfff17 	ldw	r2,-4(fp)
  150df8:	1004c03a 	cmpne	r2,r2,zero
  150dfc:	10803fcc 	andi	r2,r2,255
  150e00:	e17ffe17 	ldw	r5,-8(fp)
  150e04:	180d883a 	mov	r6,r3
  150e08:	100f883a 	mov	r7,r2
  150e0c:	01506900 	call	150690 <plot_string>
    		(selected ? SELECTED : NORMAL));
    /* also output the menu option with the appropriate color */
    menu[entry].display((MENU_X + menu[entry].opt_off), (MENU_Y + entry),
  150e10:	00c00574 	movhi	r3,21
  150e14:	18d2c204 	addi	r3,r3,19208
  150e18:	e0bffe17 	ldw	r2,-8(fp)
  150e1c:	1004913a 	slli	r2,r2,4
  150e20:	1885883a 	add	r2,r3,r2
  150e24:	10800304 	addi	r2,r2,12
  150e28:	10c00017 	ldw	r3,0(r2)
  150e2c:	01000574 	movhi	r4,21
  150e30:	2112c204 	addi	r4,r4,19208
  150e34:	e0bffe17 	ldw	r2,-8(fp)
  150e38:	1004913a 	slli	r2,r2,4
  150e3c:	2085883a 	add	r2,r4,r2
  150e40:	10800204 	addi	r2,r2,8
  150e44:	10800017 	ldw	r2,0(r2)
  150e48:	10800fc4 	addi	r2,r2,63
  150e4c:	1009883a 	mov	r4,r2
  150e50:	e17ffe17 	ldw	r5,-8(fp)
  150e54:	000d883a 	mov	r6,zero
  150e58:	183ee83a 	callr	r3
    			(selected ? OPTION_SELECTED : OPTION_NORMAL));


    /* all done outputting this menu entry - return */
    return;
  150e5c:	0001883a 	nop

}
  150e60:	e037883a 	mov	sp,fp
  150e64:	dfc00117 	ldw	ra,4(sp)
  150e68:	df000017 	ldw	fp,0(sp)
  150e6c:	dec00204 	addi	sp,sp,8
  150e70:	f800283a 	ret

00150e74 <no_menu_action>:
   Last Modified:    Mar. 8, 1994

*/

void  no_menu_action()
{
  150e74:	deffff04 	addi	sp,sp,-4
  150e78:	df000015 	stw	fp,0(sp)
  150e7c:	d839883a 	mov	fp,sp
      /* none */



    /* nothing to do - return */
    return;
  150e80:	0001883a 	nop

}
  150e84:	e037883a 	mov	sp,fp
  150e88:	df000017 	ldw	fp,0(sp)
  150e8c:	dec00104 	addi	sp,sp,4
  150e90:	f800283a 	ret

00150e94 <no_display>:
   Last Modified:    Mar. 8, 1994

*/

void  no_display(int x_pos, int y_pos, int style)
{
  150e94:	defffc04 	addi	sp,sp,-16
  150e98:	df000315 	stw	fp,12(sp)
  150e9c:	df000304 	addi	fp,sp,12
  150ea0:	e13ffd15 	stw	r4,-12(fp)
  150ea4:	e17ffe15 	stw	r5,-8(fp)
  150ea8:	e1bfff15 	stw	r6,-4(fp)
      /* none */



    /* nothing to do - return */
    return;
  150eac:	0001883a 	nop

}
  150eb0:	e037883a 	mov	sp,fp
  150eb4:	df000017 	ldw	fp,0(sp)
  150eb8:	dec00104 	addi	sp,sp,4
  150ebc:	f800283a 	ret

00150ec0 <set_trigger_mode>:
   Last Modified:    Mar. 8, 1994

*/

void  set_trigger_mode(enum trigger_type m)
{
  150ec0:	defffd04 	addi	sp,sp,-12
  150ec4:	dfc00215 	stw	ra,8(sp)
  150ec8:	df000115 	stw	fp,4(sp)
  150ecc:	df000104 	addi	fp,sp,4
  150ed0:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* set the trigger mode */
    trigger_mode = m;
  150ed4:	e0bfff17 	ldw	r2,-4(fp)
  150ed8:	d0a45715 	stw	r2,-28324(gp)

    /* set the new mode */
    set_mode(trigger_mode);
  150edc:	d0a45717 	ldw	r2,-28324(gp)
  150ee0:	1009883a 	mov	r4,r2
  150ee4:	0151d080 	call	151d08 <set_mode>


    /* all done setting the trigger mode - return */
    return;
  150ee8:	0001883a 	nop

}
  150eec:	e037883a 	mov	sp,fp
  150ef0:	dfc00117 	ldw	ra,4(sp)
  150ef4:	df000017 	ldw	fp,0(sp)
  150ef8:	dec00204 	addi	sp,sp,8
  150efc:	f800283a 	ret

00150f00 <get_trigger_mode>:
   Last Modified:    May 9, 2006

*/

enum trigger_type  get_trigger_mode()
{
  150f00:	deffff04 	addi	sp,sp,-4
  150f04:	df000015 	stw	fp,0(sp)
  150f08:	d839883a 	mov	fp,sp
      /* none */



    /* return the current trigger mode */
    return  trigger_mode;
  150f0c:	d0a45717 	ldw	r2,-28324(gp)

}
  150f10:	e037883a 	mov	sp,fp
  150f14:	df000017 	ldw	fp,0(sp)
  150f18:	dec00104 	addi	sp,sp,4
  150f1c:	f800283a 	ret

00150f20 <mode_down>:
   Last Modified:    May 9, 2006

*/

void  mode_down()
{
  150f20:	defffe04 	addi	sp,sp,-8
  150f24:	dfc00115 	stw	ra,4(sp)
  150f28:	df000015 	stw	fp,0(sp)
  150f2c:	d839883a 	mov	fp,sp
      /* none */



    /* move to the "next" triggering mode */
    if (trigger_mode == NORMAL_TRIGGER)
  150f30:	d0a45717 	ldw	r2,-28324(gp)
  150f34:	1000031e 	bne	r2,zero,150f44 <mode_down+0x24>
        trigger_mode = AUTO_TRIGGER;
  150f38:	00800044 	movi	r2,1
  150f3c:	d0a45715 	stw	r2,-28324(gp)
  150f40:	00000706 	br	150f60 <mode_down+0x40>
    else if (trigger_mode == AUTO_TRIGGER)
  150f44:	d0a45717 	ldw	r2,-28324(gp)
  150f48:	10800058 	cmpnei	r2,r2,1
  150f4c:	1000031e 	bne	r2,zero,150f5c <mode_down+0x3c>
        trigger_mode = ONESHOT_TRIGGER;
  150f50:	00800084 	movi	r2,2
  150f54:	d0a45715 	stw	r2,-28324(gp)
  150f58:	00000106 	br	150f60 <mode_down+0x40>
    else
        trigger_mode = NORMAL_TRIGGER;
  150f5c:	d0245715 	stw	zero,-28324(gp)

    /* set the new mode */
    set_mode(trigger_mode);
  150f60:	d0a45717 	ldw	r2,-28324(gp)
  150f64:	1009883a 	mov	r4,r2
  150f68:	0151d080 	call	151d08 <set_mode>


    /* all done with the trigger mode - return */
    return;
  150f6c:	0001883a 	nop

}
  150f70:	e037883a 	mov	sp,fp
  150f74:	dfc00117 	ldw	ra,4(sp)
  150f78:	df000017 	ldw	fp,0(sp)
  150f7c:	dec00204 	addi	sp,sp,8
  150f80:	f800283a 	ret

00150f84 <mode_up>:
   Last Modified:    May 9, 2006

*/

void  mode_up()
{
  150f84:	defffe04 	addi	sp,sp,-8
  150f88:	dfc00115 	stw	ra,4(sp)
  150f8c:	df000015 	stw	fp,0(sp)
  150f90:	d839883a 	mov	fp,sp
      /* none */



    /* move to the "previous" triggering mode */
    if (trigger_mode == NORMAL_TRIGGER)
  150f94:	d0a45717 	ldw	r2,-28324(gp)
  150f98:	1000031e 	bne	r2,zero,150fa8 <mode_up+0x24>
        trigger_mode = ONESHOT_TRIGGER;
  150f9c:	00800084 	movi	r2,2
  150fa0:	d0a45715 	stw	r2,-28324(gp)
  150fa4:	00000706 	br	150fc4 <mode_up+0x40>
    else if (trigger_mode == AUTO_TRIGGER)
  150fa8:	d0a45717 	ldw	r2,-28324(gp)
  150fac:	10800058 	cmpnei	r2,r2,1
  150fb0:	1000021e 	bne	r2,zero,150fbc <mode_up+0x38>
        trigger_mode = NORMAL_TRIGGER;
  150fb4:	d0245715 	stw	zero,-28324(gp)
  150fb8:	00000206 	br	150fc4 <mode_up+0x40>
    else
        trigger_mode = AUTO_TRIGGER;
  150fbc:	00800044 	movi	r2,1
  150fc0:	d0a45715 	stw	r2,-28324(gp)

    /* set the new mode */
    set_mode(trigger_mode);
  150fc4:	d0a45717 	ldw	r2,-28324(gp)
  150fc8:	1009883a 	mov	r4,r2
  150fcc:	0151d080 	call	151d08 <set_mode>


    /* all done with the trigger mode - return */
    return;
  150fd0:	0001883a 	nop

}
  150fd4:	e037883a 	mov	sp,fp
  150fd8:	dfc00117 	ldw	ra,4(sp)
  150fdc:	df000017 	ldw	fp,0(sp)
  150fe0:	dec00204 	addi	sp,sp,8
  150fe4:	f800283a 	ret

00150fe8 <display_mode>:
   Last Modified:    May 9, 2006

*/

void  display_mode(int x_pos, int y_pos, int style)
{
  150fe8:	defff804 	addi	sp,sp,-32
  150fec:	dfc00715 	stw	ra,28(sp)
  150ff0:	df000615 	stw	fp,24(sp)
  150ff4:	df000604 	addi	fp,sp,24
  150ff8:	e13ffd15 	stw	r4,-12(fp)
  150ffc:	e17ffe15 	stw	r5,-8(fp)
  151000:	e1bfff15 	stw	r6,-4(fp)
    /* variables */

    /* the mode strings (must match enumerated type) */
    const char * const  modes[] =  {  " Normal   ",
  151004:	00800574 	movhi	r2,21
  151008:	10932204 	addi	r2,r2,19592
  15100c:	e0bffa15 	stw	r2,-24(fp)
  151010:	00800574 	movhi	r2,21
  151014:	10932504 	addi	r2,r2,19604
  151018:	e0bffb15 	stw	r2,-20(fp)
  15101c:	00800574 	movhi	r2,21
  151020:	10932804 	addi	r2,r2,19616
  151024:	e0bffc15 	stw	r2,-16(fp)
                                             " One-Shot "  };



    /* display the trigger mode */
    plot_string(x_pos, y_pos, modes[trigger_mode], style);
  151028:	d0a45717 	ldw	r2,-28324(gp)
  15102c:	1085883a 	add	r2,r2,r2
  151030:	1085883a 	add	r2,r2,r2
  151034:	e0fffa04 	addi	r3,fp,-24
  151038:	1885883a 	add	r2,r3,r2
  15103c:	10c00017 	ldw	r3,0(r2)
  151040:	e0bfff17 	ldw	r2,-4(fp)
  151044:	e13ffd17 	ldw	r4,-12(fp)
  151048:	e17ffe17 	ldw	r5,-8(fp)
  15104c:	180d883a 	mov	r6,r3
  151050:	100f883a 	mov	r7,r2
  151054:	01506900 	call	150690 <plot_string>


    /* all done displaying the trigger mode - return */
    return;

}
  151058:	e037883a 	mov	sp,fp
  15105c:	dfc00117 	ldw	ra,4(sp)
  151060:	df000017 	ldw	fp,0(sp)
  151064:	dec00204 	addi	sp,sp,8
  151068:	f800283a 	ret

0015106c <set_scale>:
   Last Modified:    Mar. 13, 1994

*/

void  set_scale(enum scale_type s)
{
  15106c:	defffd04 	addi	sp,sp,-12
  151070:	dfc00215 	stw	ra,8(sp)
  151074:	df000115 	stw	fp,4(sp)
  151078:	df000104 	addi	fp,sp,4
  15107c:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* set the scale type */
    scale = s;
  151080:	e0bfff17 	ldw	r2,-4(fp)
  151084:	d0a45b15 	stw	r2,-28308(gp)

    /* output the scale appropriately */
    set_display_scale(scale);
  151088:	d0a45b17 	ldw	r2,-28308(gp)
  15108c:	1009883a 	mov	r4,r2
  151090:	0151e2c0 	call	151e2c <set_display_scale>


    /* all done setting the scale type - return */
    return;
  151094:	0001883a 	nop

}
  151098:	e037883a 	mov	sp,fp
  15109c:	dfc00117 	ldw	ra,4(sp)
  1510a0:	df000017 	ldw	fp,0(sp)
  1510a4:	dec00204 	addi	sp,sp,8
  1510a8:	f800283a 	ret

001510ac <scale_down>:
   Last Modified:    May 9, 2006

*/

void  scale_down()
{
  1510ac:	defffe04 	addi	sp,sp,-8
  1510b0:	dfc00115 	stw	ra,4(sp)
  1510b4:	df000015 	stw	fp,0(sp)
  1510b8:	d839883a 	mov	fp,sp
      /* none */



    /* change to the "next" scale type */
    if (scale == SCALE_NONE)
  1510bc:	d0a45b17 	ldw	r2,-28308(gp)
  1510c0:	1000031e 	bne	r2,zero,1510d0 <scale_down+0x24>
        scale = SCALE_AXES;
  1510c4:	00800044 	movi	r2,1
  1510c8:	d0a45b15 	stw	r2,-28308(gp)
  1510cc:	00000706 	br	1510ec <scale_down+0x40>
    else if (scale == SCALE_AXES)
  1510d0:	d0a45b17 	ldw	r2,-28308(gp)
  1510d4:	10800058 	cmpnei	r2,r2,1
  1510d8:	1000031e 	bne	r2,zero,1510e8 <scale_down+0x3c>
        scale = SCALE_GRID;
  1510dc:	00800084 	movi	r2,2
  1510e0:	d0a45b15 	stw	r2,-28308(gp)
  1510e4:	00000106 	br	1510ec <scale_down+0x40>
    else
        scale = SCALE_NONE;
  1510e8:	d0245b15 	stw	zero,-28308(gp)

    /* set the scale type */
    set_display_scale(scale);
  1510ec:	d0a45b17 	ldw	r2,-28308(gp)
  1510f0:	1009883a 	mov	r4,r2
  1510f4:	0151e2c0 	call	151e2c <set_display_scale>


    /* all done with toggling the scale type - return */
    return;
  1510f8:	0001883a 	nop

}
  1510fc:	e037883a 	mov	sp,fp
  151100:	dfc00117 	ldw	ra,4(sp)
  151104:	df000017 	ldw	fp,0(sp)
  151108:	dec00204 	addi	sp,sp,8
  15110c:	f800283a 	ret

00151110 <scale_up>:
   Last Modified:    May 9, 2006

*/

void  scale_up()
{
  151110:	defffe04 	addi	sp,sp,-8
  151114:	dfc00115 	stw	ra,4(sp)
  151118:	df000015 	stw	fp,0(sp)
  15111c:	d839883a 	mov	fp,sp
      /* none */



    /* change to the "previous" scale type */
    if (scale == SCALE_NONE)
  151120:	d0a45b17 	ldw	r2,-28308(gp)
  151124:	1000031e 	bne	r2,zero,151134 <scale_up+0x24>
        scale = SCALE_GRID;
  151128:	00800084 	movi	r2,2
  15112c:	d0a45b15 	stw	r2,-28308(gp)
  151130:	00000706 	br	151150 <scale_up+0x40>
    else if (scale == SCALE_AXES)
  151134:	d0a45b17 	ldw	r2,-28308(gp)
  151138:	10800058 	cmpnei	r2,r2,1
  15113c:	1000021e 	bne	r2,zero,151148 <scale_up+0x38>
        scale = SCALE_NONE;
  151140:	d0245b15 	stw	zero,-28308(gp)
  151144:	00000206 	br	151150 <scale_up+0x40>
    else
        scale = SCALE_AXES;
  151148:	00800044 	movi	r2,1
  15114c:	d0a45b15 	stw	r2,-28308(gp)

    /* set the scale type */
    set_display_scale(scale);
  151150:	d0a45b17 	ldw	r2,-28308(gp)
  151154:	1009883a 	mov	r4,r2
  151158:	0151e2c0 	call	151e2c <set_display_scale>


    /* all done with toggling the scale type - return */
    return;
  15115c:	0001883a 	nop

}
  151160:	e037883a 	mov	sp,fp
  151164:	dfc00117 	ldw	ra,4(sp)
  151168:	df000017 	ldw	fp,0(sp)
  15116c:	dec00204 	addi	sp,sp,8
  151170:	f800283a 	ret

00151174 <display_scale>:
   Last Modified:    Mar. 13, 1994

*/

void  display_scale(int x_pos, int y_pos, int style)
{
  151174:	defff804 	addi	sp,sp,-32
  151178:	dfc00715 	stw	ra,28(sp)
  15117c:	df000615 	stw	fp,24(sp)
  151180:	df000604 	addi	fp,sp,24
  151184:	e13ffd15 	stw	r4,-12(fp)
  151188:	e17ffe15 	stw	r5,-8(fp)
  15118c:	e1bfff15 	stw	r6,-4(fp)
    /* variables */

    /* the scale type strings (must match enumerated type) */
    const char * const  scale_stat[] =  {  " None",
  151190:	00800574 	movhi	r2,21
  151194:	10932b04 	addi	r2,r2,19628
  151198:	e0bffa15 	stw	r2,-24(fp)
  15119c:	00800574 	movhi	r2,21
  1511a0:	10932d04 	addi	r2,r2,19636
  1511a4:	e0bffb15 	stw	r2,-20(fp)
  1511a8:	00800574 	movhi	r2,21
  1511ac:	10932f04 	addi	r2,r2,19644
  1511b0:	e0bffc15 	stw	r2,-16(fp)
                                                  " Grid"  };



    /* display the scale status */
    plot_string(x_pos, y_pos, scale_stat[scale], style);
  1511b4:	d0a45b17 	ldw	r2,-28308(gp)
  1511b8:	1085883a 	add	r2,r2,r2
  1511bc:	1085883a 	add	r2,r2,r2
  1511c0:	e0fffa04 	addi	r3,fp,-24
  1511c4:	1885883a 	add	r2,r3,r2
  1511c8:	10c00017 	ldw	r3,0(r2)
  1511cc:	e0bfff17 	ldw	r2,-4(fp)
  1511d0:	e13ffd17 	ldw	r4,-12(fp)
  1511d4:	e17ffe17 	ldw	r5,-8(fp)
  1511d8:	180d883a 	mov	r6,r3
  1511dc:	100f883a 	mov	r7,r2
  1511e0:	01506900 	call	150690 <plot_string>


    /* all done displaying the scale status - return */
    return;

}
  1511e4:	e037883a 	mov	sp,fp
  1511e8:	dfc00117 	ldw	ra,4(sp)
  1511ec:	df000017 	ldw	fp,0(sp)
  1511f0:	dec00204 	addi	sp,sp,8
  1511f4:	f800283a 	ret

001511f8 <set_sweep>:
   Last Modified:    Mar. 8, 1994

*/

void  set_sweep(int s)
{
  1511f8:	defffc04 	addi	sp,sp,-16
  1511fc:	dfc00315 	stw	ra,12(sp)
  151200:	df000215 	stw	fp,8(sp)
  151204:	df000204 	addi	fp,sp,8
  151208:	e13fff15 	stw	r4,-4(fp)
    int  sample_size;		/* sample size for this sweep rate */



    /* set the new sweep rate */
    sweep = s;
  15120c:	e0bfff17 	ldw	r2,-4(fp)
  151210:	d0a45915 	stw	r2,-28316(gp)

    /* set the sweep rate for the hardware */
    sample_size = set_sample_rate(sweep_rates[sweep].sample_rate);
  151214:	d0a45917 	ldw	r2,-28316(gp)
  151218:	00c00574 	movhi	r3,21
  15121c:	18d30004 	addi	r3,r3,19456
  151220:	100490fa 	slli	r2,r2,3
  151224:	1885883a 	add	r2,r3,r2
  151228:	10800017 	ldw	r2,0(r2)
  15122c:	1009883a 	mov	r4,r2
  151230:	015372c0 	call	15372c <set_sample_rate>
  151234:	e0bffe15 	stw	r2,-8(fp)
    /* also set the sample size for the trace capture */
    set_trace_size(sample_size);
  151238:	e13ffe17 	ldw	r4,-8(fp)
  15123c:	0151e000 	call	151e00 <set_trace_size>


    /* all done initializing the sweep rate - return */
    return;
  151240:	0001883a 	nop

}
  151244:	e037883a 	mov	sp,fp
  151248:	dfc00117 	ldw	ra,4(sp)
  15124c:	df000017 	ldw	fp,0(sp)
  151250:	dec00204 	addi	sp,sp,8
  151254:	f800283a 	ret

00151258 <sweep_down>:
   Last Modified:    Mar. 8, 1994

*/

void  sweep_down()
{
  151258:	defffd04 	addi	sp,sp,-12
  15125c:	dfc00215 	stw	ra,8(sp)
  151260:	df000115 	stw	fp,4(sp)
  151264:	df000104 	addi	fp,sp,4
    int  sample_size;		/* sample size for the new sweep rate */



    /* decrease the sweep rate, if not already the minimum */
    if (sweep > 0)  {
  151268:	d0a45917 	ldw	r2,-28316(gp)
  15126c:	0080090e 	bge	zero,r2,151294 <sweep_down+0x3c>
        /* not at minimum, adjust delay for new sweep */
	adjust_trg_delay(sweep, (sweep - 1));
  151270:	d0e45917 	ldw	r3,-28316(gp)
  151274:	d0a45917 	ldw	r2,-28316(gp)
  151278:	10bfffc4 	addi	r2,r2,-1
  15127c:	1809883a 	mov	r4,r3
  151280:	100b883a 	mov	r5,r2
  151284:	01517300 	call	151730 <adjust_trg_delay>
	/* now set new sweep rate */
        sweep--;
  151288:	d0a45917 	ldw	r2,-28316(gp)
  15128c:	10bfffc4 	addi	r2,r2,-1
  151290:	d0a45915 	stw	r2,-28316(gp)
    }

    /* set the sweep rate for the hardware */
    sample_size = set_sample_rate(sweep_rates[sweep].sample_rate);
  151294:	d0a45917 	ldw	r2,-28316(gp)
  151298:	00c00574 	movhi	r3,21
  15129c:	18d30004 	addi	r3,r3,19456
  1512a0:	100490fa 	slli	r2,r2,3
  1512a4:	1885883a 	add	r2,r3,r2
  1512a8:	10800017 	ldw	r2,0(r2)
  1512ac:	1009883a 	mov	r4,r2
  1512b0:	015372c0 	call	15372c <set_sample_rate>
  1512b4:	e0bfff15 	stw	r2,-4(fp)
    /* also set the sample size for the trace capture */
    set_trace_size(sample_size);
  1512b8:	e13fff17 	ldw	r4,-4(fp)
  1512bc:	0151e000 	call	151e00 <set_trace_size>


    /* all done with lowering the sweep rate - return */
    return;
  1512c0:	0001883a 	nop

}
  1512c4:	e037883a 	mov	sp,fp
  1512c8:	dfc00117 	ldw	ra,4(sp)
  1512cc:	df000017 	ldw	fp,0(sp)
  1512d0:	dec00204 	addi	sp,sp,8
  1512d4:	f800283a 	ret

001512d8 <sweep_up>:
   Last Modified:    Mar. 8, 1994

*/

void  sweep_up()
{
  1512d8:	defffd04 	addi	sp,sp,-12
  1512dc:	dfc00215 	stw	ra,8(sp)
  1512e0:	df000115 	stw	fp,4(sp)
  1512e4:	df000104 	addi	fp,sp,4
    int  sample_size;		/* sample size for the new sweep rate */



    /* increase the sweep rate, if not already the maximum */
    if (sweep < (NO_SWEEP_RATES - 1))  {
  1512e8:	d0a45917 	ldw	r2,-28316(gp)
  1512ec:	10800428 	cmpgeui	r2,r2,16
  1512f0:	1000091e 	bne	r2,zero,151318 <sweep_up+0x40>
        /* not at maximum, adjust delay for new sweep */
	adjust_trg_delay(sweep, (sweep + 1));
  1512f4:	d0e45917 	ldw	r3,-28316(gp)
  1512f8:	d0a45917 	ldw	r2,-28316(gp)
  1512fc:	10800044 	addi	r2,r2,1
  151300:	1809883a 	mov	r4,r3
  151304:	100b883a 	mov	r5,r2
  151308:	01517300 	call	151730 <adjust_trg_delay>
	/* now set new sweep rate */
        sweep++;
  15130c:	d0a45917 	ldw	r2,-28316(gp)
  151310:	10800044 	addi	r2,r2,1
  151314:	d0a45915 	stw	r2,-28316(gp)
    }

    /* set the sweep rate for the hardware */
    sample_size = set_sample_rate(sweep_rates[sweep].sample_rate);
  151318:	d0a45917 	ldw	r2,-28316(gp)
  15131c:	00c00574 	movhi	r3,21
  151320:	18d30004 	addi	r3,r3,19456
  151324:	100490fa 	slli	r2,r2,3
  151328:	1885883a 	add	r2,r3,r2
  15132c:	10800017 	ldw	r2,0(r2)
  151330:	1009883a 	mov	r4,r2
  151334:	015372c0 	call	15372c <set_sample_rate>
  151338:	e0bfff15 	stw	r2,-4(fp)
    /* also set the sample size for the trace capture */
    set_trace_size(sample_size);
  15133c:	e13fff17 	ldw	r4,-4(fp)
  151340:	0151e000 	call	151e00 <set_trace_size>


    /* all done with raising the sweep rate - return */
    return;
  151344:	0001883a 	nop

}
  151348:	e037883a 	mov	sp,fp
  15134c:	dfc00117 	ldw	ra,4(sp)
  151350:	df000017 	ldw	fp,0(sp)
  151354:	dec00204 	addi	sp,sp,8
  151358:	f800283a 	ret

0015135c <display_sweep>:
   Last Modified:    Mar. 8, 1994

*/

void  display_sweep(int x_pos, int y_pos, int style)
{
  15135c:	defffb04 	addi	sp,sp,-20
  151360:	dfc00415 	stw	ra,16(sp)
  151364:	df000315 	stw	fp,12(sp)
  151368:	df000304 	addi	fp,sp,12
  15136c:	e13ffd15 	stw	r4,-12(fp)
  151370:	e17ffe15 	stw	r5,-8(fp)
  151374:	e1bfff15 	stw	r6,-4(fp)
      /* none */



    /* display the sweep rate */
    plot_string(x_pos, y_pos, sweep_rates[sweep].s, style);
  151378:	d0a45917 	ldw	r2,-28316(gp)
  15137c:	00c00574 	movhi	r3,21
  151380:	18d30004 	addi	r3,r3,19456
  151384:	100490fa 	slli	r2,r2,3
  151388:	1885883a 	add	r2,r3,r2
  15138c:	10800104 	addi	r2,r2,4
  151390:	10c00017 	ldw	r3,0(r2)
  151394:	e0bfff17 	ldw	r2,-4(fp)
  151398:	e13ffd17 	ldw	r4,-12(fp)
  15139c:	e17ffe17 	ldw	r5,-8(fp)
  1513a0:	180d883a 	mov	r6,r3
  1513a4:	100f883a 	mov	r7,r2
  1513a8:	01506900 	call	150690 <plot_string>


    /* all done displaying the sweep rate - return */
    return;
  1513ac:	0001883a 	nop

}
  1513b0:	e037883a 	mov	sp,fp
  1513b4:	dfc00117 	ldw	ra,4(sp)
  1513b8:	df000017 	ldw	fp,0(sp)
  1513bc:	dec00204 	addi	sp,sp,8
  1513c0:	f800283a 	ret

001513c4 <set_trg_level>:
   Last Modified:    Mar. 8, 1994

*/

void  set_trg_level(int l)
{
  1513c4:	defffd04 	addi	sp,sp,-12
  1513c8:	dfc00215 	stw	ra,8(sp)
  1513cc:	df000115 	stw	fp,4(sp)
  1513d0:	df000104 	addi	fp,sp,4
  1513d4:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* set the trigger level */
    level = l;
  1513d8:	e0bfff17 	ldw	r2,-4(fp)
  1513dc:	d0a45815 	stw	r2,-28320(gp)

    /* set the trigger level in hardware too */
    set_trigger(level, slope);
  1513e0:	d0e45817 	ldw	r3,-28320(gp)
  1513e4:	d0a45c17 	ldw	r2,-28304(gp)
  1513e8:	1809883a 	mov	r4,r3
  1513ec:	100b883a 	mov	r5,r2
  1513f0:	01537740 	call	153774 <set_trigger>


    /* all done initializing the trigger level - return */
    return;
  1513f4:	0001883a 	nop

}
  1513f8:	e037883a 	mov	sp,fp
  1513fc:	dfc00117 	ldw	ra,4(sp)
  151400:	df000017 	ldw	fp,0(sp)
  151404:	dec00204 	addi	sp,sp,8
  151408:	f800283a 	ret

0015140c <trg_level_down>:
   Last Modified:    Mar. 8, 1994

*/

void  trg_level_down()
{
  15140c:	defffe04 	addi	sp,sp,-8
  151410:	dfc00115 	stw	ra,4(sp)
  151414:	df000015 	stw	fp,0(sp)
  151418:	d839883a 	mov	fp,sp
      /* none */



    /* decrease the trigger level, if not already the minimum */
    if (level > MIN_TRG_LEVEL_SET)
  15141c:	d0a45817 	ldw	r2,-28320(gp)
  151420:	0080030e 	bge	zero,r2,151430 <trg_level_down+0x24>
        level--;
  151424:	d0a45817 	ldw	r2,-28320(gp)
  151428:	10bfffc4 	addi	r2,r2,-1
  15142c:	d0a45815 	stw	r2,-28320(gp)

    /* set the trigger level for the hardware */
    set_trigger(level, slope);
  151430:	d0e45817 	ldw	r3,-28320(gp)
  151434:	d0a45c17 	ldw	r2,-28304(gp)
  151438:	1809883a 	mov	r4,r3
  15143c:	100b883a 	mov	r5,r2
  151440:	01537740 	call	153774 <set_trigger>


    /* all done with lowering the trigger level - return */
    return;
  151444:	0001883a 	nop

}
  151448:	e037883a 	mov	sp,fp
  15144c:	dfc00117 	ldw	ra,4(sp)
  151450:	df000017 	ldw	fp,0(sp)
  151454:	dec00204 	addi	sp,sp,8
  151458:	f800283a 	ret

0015145c <trg_level_up>:
   Last Modified:    Mar. 8, 1994

*/

void  trg_level_up()
{
  15145c:	defffe04 	addi	sp,sp,-8
  151460:	dfc00115 	stw	ra,4(sp)
  151464:	df000015 	stw	fp,0(sp)
  151468:	d839883a 	mov	fp,sp
      /* none */



    /* increase the trigger level, if not already the maximum */
    if (level < MAX_TRG_LEVEL_SET)
  15146c:	d0a45817 	ldw	r2,-28320(gp)
  151470:	10801fc8 	cmpgei	r2,r2,127
  151474:	1000031e 	bne	r2,zero,151484 <trg_level_up+0x28>
        level++;
  151478:	d0a45817 	ldw	r2,-28320(gp)
  15147c:	10800044 	addi	r2,r2,1
  151480:	d0a45815 	stw	r2,-28320(gp)

    /* tell the hardware the new trigger level */
    set_trigger(level, slope);
  151484:	d0e45817 	ldw	r3,-28320(gp)
  151488:	d0a45c17 	ldw	r2,-28304(gp)
  15148c:	1809883a 	mov	r4,r3
  151490:	100b883a 	mov	r5,r2
  151494:	01537740 	call	153774 <set_trigger>


    /* all done raising the trigger level - return */
    return;
  151498:	0001883a 	nop

}
  15149c:	e037883a 	mov	sp,fp
  1514a0:	dfc00117 	ldw	ra,4(sp)
  1514a4:	df000017 	ldw	fp,0(sp)
  1514a8:	dec00204 	addi	sp,sp,8
  1514ac:	f800283a 	ret

001514b0 <display_trg_level>:
   Last Modified:    Mar. 10, 1995

*/

void  display_trg_level(int x_pos, int y_pos, int style)
{
  1514b0:	defff704 	addi	sp,sp,-36
  1514b4:	dfc00815 	stw	ra,32(sp)
  1514b8:	df000715 	stw	fp,28(sp)
  1514bc:	df000704 	addi	fp,sp,28
  1514c0:	e13ffd15 	stw	r4,-12(fp)
  1514c4:	e17ffe15 	stw	r5,-8(fp)
  1514c8:	e1bfff15 	stw	r6,-4(fp)
    /* variables */
    char      level_str[] = "        "; /* string containing the trigger level */
  1514cc:	00880834 	movhi	r2,8224
  1514d0:	10880804 	addi	r2,r2,8224
  1514d4:	e0bffa15 	stw	r2,-24(fp)
  1514d8:	00880834 	movhi	r2,8224
  1514dc:	10880804 	addi	r2,r2,8224
  1514e0:	e0bffb15 	stw	r2,-20(fp)
  1514e4:	e03ffc05 	stb	zero,-16(fp)
    long int  l;			/* trigger level in mV */



    /* compute the trigger level in millivolts */
    l = ((long int) MAX_LEVEL - MIN_LEVEL) * level / (MAX_TRG_LEVEL_SET - MIN_TRG_LEVEL_SET) + MIN_LEVEL;
  1514e8:	d0a45817 	ldw	r2,-28320(gp)
  1514ec:	10c4e224 	muli	r3,r2,5000
  1514f0:	00801fc4 	movi	r2,127
  1514f4:	1885283a 	div	r2,r3,r2
  1514f8:	e0bff915 	stw	r2,-28(fp)

    /* convert the level to the string (leave first character blank) */
    cvt_num_field(l, &level_str[1]);
  1514fc:	e0bffa04 	addi	r2,fp,-24
  151500:	10800044 	addi	r2,r2,1
  151504:	e13ff917 	ldw	r4,-28(fp)
  151508:	100b883a 	mov	r5,r2
  15150c:	01519e40 	call	1519e4 <cvt_num_field>

    /* add in the units */
    level_str[7] = 'V';
  151510:	00801584 	movi	r2,86
  151514:	e0bffbc5 	stb	r2,-17(fp)


    /* now finally display the trigger level */
    plot_string(x_pos, y_pos, level_str, style);
  151518:	e0bfff17 	ldw	r2,-4(fp)
  15151c:	e0fffa04 	addi	r3,fp,-24
  151520:	e13ffd17 	ldw	r4,-12(fp)
  151524:	e17ffe17 	ldw	r5,-8(fp)
  151528:	180d883a 	mov	r6,r3
  15152c:	100f883a 	mov	r7,r2
  151530:	01506900 	call	150690 <plot_string>


    /* all done displaying the trigger level - return */
    return;

}
  151534:	e037883a 	mov	sp,fp
  151538:	dfc00117 	ldw	ra,4(sp)
  15153c:	df000017 	ldw	fp,0(sp)
  151540:	dec00204 	addi	sp,sp,8
  151544:	f800283a 	ret

00151548 <set_trg_slope>:
   Last Modified:    Mar. 8, 1994

*/

void  set_trg_slope(enum slope_type s)
{
  151548:	defffd04 	addi	sp,sp,-12
  15154c:	dfc00215 	stw	ra,8(sp)
  151550:	df000115 	stw	fp,4(sp)
  151554:	df000104 	addi	fp,sp,4
  151558:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* set the slope type */
    slope = s;
  15155c:	e0bfff17 	ldw	r2,-4(fp)
  151560:	d0a45c15 	stw	r2,-28304(gp)

    /* also tell the hardware what the slope is */
    set_trigger(level, slope);
  151564:	d0e45817 	ldw	r3,-28320(gp)
  151568:	d0a45c17 	ldw	r2,-28304(gp)
  15156c:	1809883a 	mov	r4,r3
  151570:	100b883a 	mov	r5,r2
  151574:	01537740 	call	153774 <set_trigger>


    /* all done setting the trigger slope - return */
    return;
  151578:	0001883a 	nop

}
  15157c:	e037883a 	mov	sp,fp
  151580:	dfc00117 	ldw	ra,4(sp)
  151584:	df000017 	ldw	fp,0(sp)
  151588:	dec00204 	addi	sp,sp,8
  15158c:	f800283a 	ret

00151590 <trg_slope_toggle>:
   Last Modified:    Mar. 8, 1994

*/

void  trg_slope_toggle()
{
  151590:	defffe04 	addi	sp,sp,-8
  151594:	dfc00115 	stw	ra,4(sp)
  151598:	df000015 	stw	fp,0(sp)
  15159c:	d839883a 	mov	fp,sp
      /* none */



    /* toggle the trigger slope */
    if (slope == SLOPE_POSITIVE)
  1515a0:	d0a45c17 	ldw	r2,-28304(gp)
  1515a4:	1000031e 	bne	r2,zero,1515b4 <trg_slope_toggle+0x24>
        slope = SLOPE_NEGATIVE;
  1515a8:	00800044 	movi	r2,1
  1515ac:	d0a45c15 	stw	r2,-28304(gp)
  1515b0:	00000106 	br	1515b8 <trg_slope_toggle+0x28>
    else
        slope = SLOPE_POSITIVE;
  1515b4:	d0245c15 	stw	zero,-28304(gp)

    /* set the new trigger slope */
    set_trigger(level, slope);
  1515b8:	d0e45817 	ldw	r3,-28320(gp)
  1515bc:	d0a45c17 	ldw	r2,-28304(gp)
  1515c0:	1809883a 	mov	r4,r3
  1515c4:	100b883a 	mov	r5,r2
  1515c8:	01537740 	call	153774 <set_trigger>


    /* all done with the trigger slope - return */
    return;
  1515cc:	0001883a 	nop

}
  1515d0:	e037883a 	mov	sp,fp
  1515d4:	dfc00117 	ldw	ra,4(sp)
  1515d8:	df000017 	ldw	fp,0(sp)
  1515dc:	dec00204 	addi	sp,sp,8
  1515e0:	f800283a 	ret

001515e4 <display_trg_slope>:
   Last Modified:    Mar. 13, 1994

*/

void  display_trg_slope(int x_pos, int y_pos, int style)
{
  1515e4:	defff904 	addi	sp,sp,-28
  1515e8:	dfc00615 	stw	ra,24(sp)
  1515ec:	df000515 	stw	fp,20(sp)
  1515f0:	df000504 	addi	fp,sp,20
  1515f4:	e13ffd15 	stw	r4,-12(fp)
  1515f8:	e17ffe15 	stw	r5,-8(fp)
  1515fc:	e1bfff15 	stw	r6,-4(fp)
    /* variables */

    /* the trigger slope strings (must match enumerated type) */
    const char * const  slopes[] =  {  " +", " -"  };
  151600:	00800574 	movhi	r2,21
  151604:	10933104 	addi	r2,r2,19652
  151608:	e0bffb15 	stw	r2,-20(fp)
  15160c:	00800574 	movhi	r2,21
  151610:	10933204 	addi	r2,r2,19656
  151614:	e0bffc15 	stw	r2,-16(fp)



    /* display the trigger slope */
    plot_string(x_pos, y_pos, slopes[slope], style);
  151618:	d0a45c17 	ldw	r2,-28304(gp)
  15161c:	1085883a 	add	r2,r2,r2
  151620:	1085883a 	add	r2,r2,r2
  151624:	e0fffb04 	addi	r3,fp,-20
  151628:	1885883a 	add	r2,r3,r2
  15162c:	10c00017 	ldw	r3,0(r2)
  151630:	e0bfff17 	ldw	r2,-4(fp)
  151634:	e13ffd17 	ldw	r4,-12(fp)
  151638:	e17ffe17 	ldw	r5,-8(fp)
  15163c:	180d883a 	mov	r6,r3
  151640:	100f883a 	mov	r7,r2
  151644:	01506900 	call	150690 <plot_string>


    /* all done displaying the trigger slope - return */
    return;

}
  151648:	e037883a 	mov	sp,fp
  15164c:	dfc00117 	ldw	ra,4(sp)
  151650:	df000017 	ldw	fp,0(sp)
  151654:	dec00204 	addi	sp,sp,8
  151658:	f800283a 	ret

0015165c <set_trg_delay>:
   Last Modified:    Mar. 8, 1994

*/

void  set_trg_delay(long int d)
{
  15165c:	defffd04 	addi	sp,sp,-12
  151660:	dfc00215 	stw	ra,8(sp)
  151664:	df000115 	stw	fp,4(sp)
  151668:	df000104 	addi	fp,sp,4
  15166c:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* set the trigger delay */
    delay = d;
  151670:	e0bfff17 	ldw	r2,-4(fp)
  151674:	d0a45a15 	stw	r2,-28312(gp)

    /* set the trigger delay in hardware too */
    set_delay(delay);
  151678:	d0a45a17 	ldw	r2,-28312(gp)
  15167c:	1009883a 	mov	r4,r2
  151680:	01537e00 	call	1537e0 <set_delay>


    /* all done initializing the trigger delay - return */
    return;
  151684:	0001883a 	nop

}
  151688:	e037883a 	mov	sp,fp
  15168c:	dfc00117 	ldw	ra,4(sp)
  151690:	df000017 	ldw	fp,0(sp)
  151694:	dec00204 	addi	sp,sp,8
  151698:	f800283a 	ret

0015169c <trg_delay_down>:
   Last Modified:    Mar. 8, 1994

*/

void  trg_delay_down()
{
  15169c:	defffe04 	addi	sp,sp,-8
  1516a0:	dfc00115 	stw	ra,4(sp)
  1516a4:	df000015 	stw	fp,0(sp)
  1516a8:	d839883a 	mov	fp,sp
      /* none */



    /* decrease the trigger delay, if not already the minimum */
    if (delay > MIN_DELAY)
  1516ac:	d0a45a17 	ldw	r2,-28312(gp)
  1516b0:	0080030e 	bge	zero,r2,1516c0 <trg_delay_down+0x24>
        delay--;
  1516b4:	d0a45a17 	ldw	r2,-28312(gp)
  1516b8:	10bfffc4 	addi	r2,r2,-1
  1516bc:	d0a45a15 	stw	r2,-28312(gp)

    /* set the trigger delay for the hardware */
    set_delay(delay);
  1516c0:	d0a45a17 	ldw	r2,-28312(gp)
  1516c4:	1009883a 	mov	r4,r2
  1516c8:	01537e00 	call	1537e0 <set_delay>


    /* all done with lowering the trigger delay - return */
    return;
  1516cc:	0001883a 	nop

}
  1516d0:	e037883a 	mov	sp,fp
  1516d4:	dfc00117 	ldw	ra,4(sp)
  1516d8:	df000017 	ldw	fp,0(sp)
  1516dc:	dec00204 	addi	sp,sp,8
  1516e0:	f800283a 	ret

001516e4 <trg_delay_up>:
   Last Modified:    Mar. 8, 1994

*/

void  trg_delay_up()
{
  1516e4:	defffe04 	addi	sp,sp,-8
  1516e8:	dfc00115 	stw	ra,4(sp)
  1516ec:	df000015 	stw	fp,0(sp)
  1516f0:	d839883a 	mov	fp,sp
      /* none */



    /* increase the trigger delay, if not already the maximum */
    if (delay < MAX_DELAY)
  1516f4:	d0a45a17 	ldw	r2,-28312(gp)
  1516f8:	00f0d3d4 	movui	r3,49999
  1516fc:	18800316 	blt	r3,r2,15170c <trg_delay_up+0x28>
        delay++;
  151700:	d0a45a17 	ldw	r2,-28312(gp)
  151704:	10800044 	addi	r2,r2,1
  151708:	d0a45a15 	stw	r2,-28312(gp)

    /* tell the hardware the new trigger delay */
    set_delay(delay);
  15170c:	d0a45a17 	ldw	r2,-28312(gp)
  151710:	1009883a 	mov	r4,r2
  151714:	01537e00 	call	1537e0 <set_delay>


    /* all done raising the trigger delay - return */
    return;
  151718:	0001883a 	nop

}
  15171c:	e037883a 	mov	sp,fp
  151720:	dfc00117 	ldw	ra,4(sp)
  151724:	df000017 	ldw	fp,0(sp)
  151728:	dec00204 	addi	sp,sp,8
  15172c:	f800283a 	ret

00151730 <adjust_trg_delay>:
   Last Modified:    Mar. 8, 1994

*/

void  adjust_trg_delay(int old_sweep, int new_sweep)
{
  151730:	defffc04 	addi	sp,sp,-16
  151734:	dfc00315 	stw	ra,12(sp)
  151738:	df000215 	stw	fp,8(sp)
  15173c:	df000204 	addi	fp,sp,8
  151740:	e13ffe15 	stw	r4,-8(fp)
  151744:	e17fff15 	stw	r5,-4(fp)
      /* none */



    /* multiply by 10 times the ratio of sweep rates */
    delay *= (10 * sweep_rates[new_sweep].sample_rate) / sweep_rates[old_sweep].sample_rate;
  151748:	00c00574 	movhi	r3,21
  15174c:	18d30004 	addi	r3,r3,19456
  151750:	e0bfff17 	ldw	r2,-4(fp)
  151754:	100490fa 	slli	r2,r2,3
  151758:	1885883a 	add	r2,r3,r2
  15175c:	10800017 	ldw	r2,0(r2)
  151760:	10c002a4 	muli	r3,r2,10
  151764:	01000574 	movhi	r4,21
  151768:	21130004 	addi	r4,r4,19456
  15176c:	e0bffe17 	ldw	r2,-8(fp)
  151770:	100490fa 	slli	r2,r2,3
  151774:	2085883a 	add	r2,r4,r2
  151778:	10800017 	ldw	r2,0(r2)
  15177c:	1887283a 	div	r3,r3,r2
  151780:	d0a45a17 	ldw	r2,-28312(gp)
  151784:	1885383a 	mul	r2,r3,r2
  151788:	d0a45a15 	stw	r2,-28312(gp)
    /* now divide the factor of 10 back out */
    delay /= 10;
  15178c:	d0e45a17 	ldw	r3,-28312(gp)
  151790:	00800284 	movi	r2,10
  151794:	1885283a 	div	r2,r3,r2
  151798:	d0a45a15 	stw	r2,-28312(gp)

    /* make sure delay is not out of range */
    if (delay > MAX_DELAY)
  15179c:	d0a45a17 	ldw	r2,-28312(gp)
  1517a0:	00f0d414 	movui	r3,50000
  1517a4:	1880020e 	bge	r3,r2,1517b0 <adjust_trg_delay+0x80>
        /* delay is too large - set to maximum */
        delay = MAX_DELAY;
  1517a8:	00b0d414 	movui	r2,50000
  1517ac:	d0a45a15 	stw	r2,-28312(gp)
    if (delay < MIN_DELAY)
  1517b0:	d0a45a17 	ldw	r2,-28312(gp)
  1517b4:	1000010e 	bge	r2,zero,1517bc <adjust_trg_delay+0x8c>
        /* delay is too small - set to minimum */
	delay = MIN_DELAY;
  1517b8:	d0245a15 	stw	zero,-28312(gp)


    /* tell the hardware the new trigger delay */
    set_delay(delay);
  1517bc:	d0a45a17 	ldw	r2,-28312(gp)
  1517c0:	1009883a 	mov	r4,r2
  1517c4:	01537e00 	call	1537e0 <set_delay>


    /* all done adjusting the trigger delay - return */
    return;
  1517c8:	0001883a 	nop

}
  1517cc:	e037883a 	mov	sp,fp
  1517d0:	dfc00117 	ldw	ra,4(sp)
  1517d4:	df000017 	ldw	fp,0(sp)
  1517d8:	dec00204 	addi	sp,sp,8
  1517dc:	f800283a 	ret

001517e0 <display_trg_delay>:
   Last Modified:    May 3, 2006

*/

void  display_trg_delay(int x_pos, int y_pos, int style)
{
  1517e0:	defff604 	addi	sp,sp,-40
  1517e4:	dfc00915 	stw	ra,36(sp)
  1517e8:	df000815 	stw	fp,32(sp)
  1517ec:	df000804 	addi	fp,sp,32
  1517f0:	e13ffd15 	stw	r4,-12(fp)
  1517f4:	e17ffe15 	stw	r5,-8(fp)
  1517f8:	e1bfff15 	stw	r6,-4(fp)
    /* variables */
    char      delay_str[] = "         "; /* string containing the trigger delay */
  1517fc:	00880834 	movhi	r2,8224
  151800:	10880804 	addi	r2,r2,8224
  151804:	e0bffa15 	stw	r2,-24(fp)
  151808:	00880834 	movhi	r2,8224
  15180c:	10880804 	addi	r2,r2,8224
  151810:	e0bffb15 	stw	r2,-20(fp)
  151814:	00800804 	movi	r2,32
  151818:	e0bffc0d 	sth	r2,-16(fp)
    long int  d;                         /* delay in appropriate units */


    /* compute the delay in the appropriate units */
    /* have to watch out for overflow, so be careful */
    if (sweep_rates[sweep].sample_rate > 1000000L)  {
  15181c:	d0a45917 	ldw	r2,-28316(gp)
  151820:	00c00574 	movhi	r3,21
  151824:	18d30004 	addi	r3,r3,19456
  151828:	100490fa 	slli	r2,r2,3
  15182c:	1885883a 	add	r2,r3,r2
  151830:	10800017 	ldw	r2,0(r2)
  151834:	00c003f4 	movhi	r3,15
  151838:	18d09004 	addi	r3,r3,16960
  15183c:	1880120e 	bge	r3,r2,151888 <display_trg_delay+0xa8>
        /* have a fast sweep rate, could overflow */
        /* first compute in units of 100 ns */
        d = delay * (10000000L / sweep_rates[sweep].sample_rate);
  151840:	d0a45917 	ldw	r2,-28316(gp)
  151844:	00c00574 	movhi	r3,21
  151848:	18d30004 	addi	r3,r3,19456
  15184c:	100490fa 	slli	r2,r2,3
  151850:	1885883a 	add	r2,r3,r2
  151854:	10800017 	ldw	r2,0(r2)
  151858:	00c02674 	movhi	r3,153
  15185c:	18e5a004 	addi	r3,r3,-27008
  151860:	1887283a 	div	r3,r3,r2
  151864:	d0a45a17 	ldw	r2,-28312(gp)
  151868:	1885383a 	mul	r2,r3,r2
  15186c:	e0bff915 	stw	r2,-28(fp)
	/* now convert to nanoseconds */
	d *= 100L;
  151870:	e0bff917 	ldw	r2,-28(fp)
  151874:	10801924 	muli	r2,r2,100
  151878:	e0bff915 	stw	r2,-28(fp)
	/* need to divide by 1000 to get to microseconds */
	units_adj = 1000;
  15187c:	0080fa04 	movi	r2,1000
  151880:	e0bff815 	stw	r2,-32(fp)
  151884:	00000e06 	br	1518c0 <display_trg_delay+0xe0>
    }
    else  {
        /* slow sweep rate, don't have to worry about overflow */
        d = delay * (1000000L / sweep_rates[sweep].sample_rate);
  151888:	d0a45917 	ldw	r2,-28316(gp)
  15188c:	00c00574 	movhi	r3,21
  151890:	18d30004 	addi	r3,r3,19456
  151894:	100490fa 	slli	r2,r2,3
  151898:	1885883a 	add	r2,r3,r2
  15189c:	10800017 	ldw	r2,0(r2)
  1518a0:	00c003f4 	movhi	r3,15
  1518a4:	18d09004 	addi	r3,r3,16960
  1518a8:	1887283a 	div	r3,r3,r2
  1518ac:	d0a45a17 	ldw	r2,-28312(gp)
  1518b0:	1885383a 	mul	r2,r3,r2
  1518b4:	e0bff915 	stw	r2,-28(fp)
	/* already in microseconds, so adjustment is 1 */
	units_adj = 1;
  1518b8:	00800044 	movi	r2,1
  1518bc:	e0bff815 	stw	r2,-32(fp)
    }

    /* convert it to the string (leave first character blank) */
    cvt_num_field(d, &delay_str[1]);
  1518c0:	e0bffa04 	addi	r2,fp,-24
  1518c4:	10800044 	addi	r2,r2,1
  1518c8:	e13ff917 	ldw	r4,-28(fp)
  1518cc:	100b883a 	mov	r5,r2
  1518d0:	01519e40 	call	1519e4 <cvt_num_field>

    /* add in the units */
    if (((d / units_adj) < 1000) && ((d / units_adj) > -1000) && (units_adj == 1000)) {
  1518d4:	e0fff917 	ldw	r3,-28(fp)
  1518d8:	e0bff817 	ldw	r2,-32(fp)
  1518dc:	1885283a 	div	r2,r3,r2
  1518e0:	1080fa08 	cmpgei	r2,r2,1000
  1518e4:	10000d1e 	bne	r2,zero,15191c <display_trg_delay+0x13c>
  1518e8:	e0fff917 	ldw	r3,-28(fp)
  1518ec:	e0bff817 	ldw	r2,-32(fp)
  1518f0:	1885283a 	div	r2,r3,r2
  1518f4:	10bf0650 	cmplti	r2,r2,-999
  1518f8:	1000081e 	bne	r2,zero,15191c <display_trg_delay+0x13c>
  1518fc:	e0bff817 	ldw	r2,-32(fp)
  151900:	1080fa18 	cmpnei	r2,r2,1000
  151904:	1000051e 	bne	r2,zero,15191c <display_trg_delay+0x13c>
        /* delay is in microseconds */
	delay_str[7] = '\004';
  151908:	00800104 	movi	r2,4
  15190c:	e0bffbc5 	stb	r2,-17(fp)
	delay_str[8] = 's';
  151910:	00801cc4 	movi	r2,115
  151914:	e0bffc05 	stb	r2,-16(fp)
  151918:	00002606 	br	1519b4 <display_trg_delay+0x1d4>
    }
    else if (((d / units_adj) < 1000000) && ((d / units_adj) > -1000000)) {
  15191c:	e0fff917 	ldw	r3,-28(fp)
  151920:	e0bff817 	ldw	r2,-32(fp)
  151924:	1885283a 	div	r2,r3,r2
  151928:	00c003f4 	movhi	r3,15
  15192c:	18d08fc4 	addi	r3,r3,16959
  151930:	18800b16 	blt	r3,r2,151960 <display_trg_delay+0x180>
  151934:	e0fff917 	ldw	r3,-28(fp)
  151938:	e0bff817 	ldw	r2,-32(fp)
  15193c:	1887283a 	div	r3,r3,r2
  151940:	00bffc74 	movhi	r2,65521
  151944:	10af7044 	addi	r2,r2,-16959
  151948:	18800516 	blt	r3,r2,151960 <display_trg_delay+0x180>
        /* delay is in milliseconds */
	delay_str[7] = 'm';
  15194c:	00801b44 	movi	r2,109
  151950:	e0bffbc5 	stb	r2,-17(fp)
	delay_str[8] = 's';
  151954:	00801cc4 	movi	r2,115
  151958:	e0bffc05 	stb	r2,-16(fp)
  15195c:	00001506 	br	1519b4 <display_trg_delay+0x1d4>
    }
    else if (((d / units_adj) < 1000000000) && ((d / units_adj) > -1000000000))  {
  151960:	e0fff917 	ldw	r3,-28(fp)
  151964:	e0bff817 	ldw	r2,-32(fp)
  151968:	1885283a 	div	r2,r3,r2
  15196c:	00cee6f4 	movhi	r3,15259
  151970:	18f27fc4 	addi	r3,r3,-13825
  151974:	18800b16 	blt	r3,r2,1519a4 <display_trg_delay+0x1c4>
  151978:	e0fff917 	ldw	r3,-28(fp)
  15197c:	e0bff817 	ldw	r2,-32(fp)
  151980:	1887283a 	div	r3,r3,r2
  151984:	00b11974 	movhi	r2,50277
  151988:	108d8044 	addi	r2,r2,13825
  15198c:	18800516 	blt	r3,r2,1519a4 <display_trg_delay+0x1c4>
        /* delay is in seconds */
	delay_str[7] = 's';
  151990:	00801cc4 	movi	r2,115
  151994:	e0bffbc5 	stb	r2,-17(fp)
	delay_str[8] = ' ';
  151998:	00800804 	movi	r2,32
  15199c:	e0bffc05 	stb	r2,-16(fp)
  1519a0:	00000406 	br	1519b4 <display_trg_delay+0x1d4>
    }
    else  {
        /* delay is in kiloseconds */
	delay_str[7] = 'k';
  1519a4:	00801ac4 	movi	r2,107
  1519a8:	e0bffbc5 	stb	r2,-17(fp)
	delay_str[8] = 's';
  1519ac:	00801cc4 	movi	r2,115
  1519b0:	e0bffc05 	stb	r2,-16(fp)
    }


    /* now actually display the trigger delay */
    plot_string(x_pos, y_pos, delay_str, style);
  1519b4:	e0bfff17 	ldw	r2,-4(fp)
  1519b8:	e0fffa04 	addi	r3,fp,-24
  1519bc:	e13ffd17 	ldw	r4,-12(fp)
  1519c0:	e17ffe17 	ldw	r5,-8(fp)
  1519c4:	180d883a 	mov	r6,r3
  1519c8:	100f883a 	mov	r7,r2
  1519cc:	01506900 	call	150690 <plot_string>


    /* all done displaying the trigger delay - return */
    return;

}
  1519d0:	e037883a 	mov	sp,fp
  1519d4:	dfc00117 	ldw	ra,4(sp)
  1519d8:	df000017 	ldw	fp,0(sp)
  1519dc:	dec00204 	addi	sp,sp,8
  1519e0:	f800283a 	ret

001519e4 <cvt_num_field>:
   Last Modified:    Mar. 8, 1994

*/

void  cvt_num_field(long int n, char *s)
{
  1519e4:	defffa04 	addi	sp,sp,-24
  1519e8:	df000515 	stw	fp,20(sp)
  1519ec:	df000504 	addi	fp,sp,20
  1519f0:	e13ffe15 	stw	r4,-8(fp)
  1519f4:	e17fff15 	stw	r5,-4(fp)
    /* variables */
    int  dp = 3;		/* digits to right of decimal point */
  1519f8:	008000c4 	movi	r2,3
  1519fc:	e0bffb15 	stw	r2,-20(fp)
    int  d;			/* digit weight (power of 10) */

    int  i = 0;			/* string index */
  151a00:	e03ffd15 	stw	zero,-12(fp)



    /* first get the sign (and make n positive for conversion) */
    if (n < 0)  {
  151a04:	e0bffe17 	ldw	r2,-8(fp)
  151a08:	10000c0e 	bge	r2,zero,151a3c <cvt_num_field+0x58>
        /* n is negative, set sign and convert to positive */
	s[i++] = '-';
  151a0c:	e0bffd17 	ldw	r2,-12(fp)
  151a10:	e0ffff17 	ldw	r3,-4(fp)
  151a14:	1885883a 	add	r2,r3,r2
  151a18:	00c00b44 	movi	r3,45
  151a1c:	10c00005 	stb	r3,0(r2)
  151a20:	e0bffd17 	ldw	r2,-12(fp)
  151a24:	10800044 	addi	r2,r2,1
  151a28:	e0bffd15 	stw	r2,-12(fp)
	n = -n;
  151a2c:	e0bffe17 	ldw	r2,-8(fp)
  151a30:	0085c83a 	sub	r2,zero,r2
  151a34:	e0bffe15 	stw	r2,-8(fp)
	s[i++] = '+';
    }


    /* make sure there are no more than 4 significant digits */
    while (n > 9999)  {
  151a38:	00001006 	br	151a7c <cvt_num_field+0x98>
	s[i++] = '-';
	n = -n;
    }
    else  {
        /* n is positive, set sign only */
	s[i++] = '+';
  151a3c:	e0bffd17 	ldw	r2,-12(fp)
  151a40:	e0ffff17 	ldw	r3,-4(fp)
  151a44:	1885883a 	add	r2,r3,r2
  151a48:	00c00ac4 	movi	r3,43
  151a4c:	10c00005 	stb	r3,0(r2)
  151a50:	e0bffd17 	ldw	r2,-12(fp)
  151a54:	10800044 	addi	r2,r2,1
  151a58:	e0bffd15 	stw	r2,-12(fp)
    }


    /* make sure there are no more than 4 significant digits */
    while (n > 9999)  {
  151a5c:	00000706 	br	151a7c <cvt_num_field+0x98>
        /* have more than 4 digits - get rid of one */
	n /= 10;
  151a60:	e0fffe17 	ldw	r3,-8(fp)
  151a64:	00800284 	movi	r2,10
  151a68:	1885283a 	div	r2,r3,r2
  151a6c:	e0bffe15 	stw	r2,-8(fp)
	/* adjust the decimal point */
	dp--;
  151a70:	e0bffb17 	ldw	r2,-20(fp)
  151a74:	10bfffc4 	addi	r2,r2,-1
  151a78:	e0bffb15 	stw	r2,-20(fp)
	s[i++] = '+';
    }


    /* make sure there are no more than 4 significant digits */
    while (n > 9999)  {
  151a7c:	e0bffe17 	ldw	r2,-8(fp)
  151a80:	1089c408 	cmpgei	r2,r2,10000
  151a84:	103ff61e 	bne	r2,zero,151a60 <cvt_num_field+0x7c>
	dp--;
    }

    /* if decimal point is non-positive, make positive */
    /* (assume will take care of adjustment with output units in this case) */
    while (dp <= 0)
  151a88:	00000306 	br	151a98 <cvt_num_field+0xb4>
       dp += 3;
  151a8c:	e0bffb17 	ldw	r2,-20(fp)
  151a90:	108000c4 	addi	r2,r2,3
  151a94:	e0bffb15 	stw	r2,-20(fp)
	dp--;
    }

    /* if decimal point is non-positive, make positive */
    /* (assume will take care of adjustment with output units in this case) */
    while (dp <= 0)
  151a98:	e0bffb17 	ldw	r2,-20(fp)
  151a9c:	00bffb0e 	bge	zero,r2,151a8c <cvt_num_field+0xa8>
       dp += 3;


    /* adjust dp to be digits to the right of the decimal point */
    /* (assuming 4 digits) */
    dp = 4 - dp;
  151aa0:	00c00104 	movi	r3,4
  151aa4:	e0bffb17 	ldw	r2,-20(fp)
  151aa8:	1885c83a 	sub	r2,r3,r2
  151aac:	e0bffb15 	stw	r2,-20(fp)


    /* finally, loop getting and converting digits */
    for (d = 1000; d > 0; d /= 10)  {
  151ab0:	0080fa04 	movi	r2,1000
  151ab4:	e0bffc15 	stw	r2,-16(fp)
  151ab8:	00002506 	br	151b50 <cvt_num_field+0x16c>

        /* check if need decimal the decimal point now */
	if (dp-- == 0)
  151abc:	e0bffb17 	ldw	r2,-20(fp)
  151ac0:	1005003a 	cmpeq	r2,r2,zero
  151ac4:	e0fffb17 	ldw	r3,-20(fp)
  151ac8:	18ffffc4 	addi	r3,r3,-1
  151acc:	e0fffb15 	stw	r3,-20(fp)
  151ad0:	10803fcc 	andi	r2,r2,255
  151ad4:	10000826 	beq	r2,zero,151af8 <cvt_num_field+0x114>
	    /* time for decimal point */
	    s[i++] = '.';
  151ad8:	e0bffd17 	ldw	r2,-12(fp)
  151adc:	e0ffff17 	ldw	r3,-4(fp)
  151ae0:	1885883a 	add	r2,r3,r2
  151ae4:	00c00b84 	movi	r3,46
  151ae8:	10c00005 	stb	r3,0(r2)
  151aec:	e0bffd17 	ldw	r2,-12(fp)
  151af0:	10800044 	addi	r2,r2,1
  151af4:	e0bffd15 	stw	r2,-12(fp)

	/* get and convert this digit */
	s[i++] = (n / d) + '0';
  151af8:	e0bffd17 	ldw	r2,-12(fp)
  151afc:	e0ffff17 	ldw	r3,-4(fp)
  151b00:	1885883a 	add	r2,r3,r2
  151b04:	e13ffe17 	ldw	r4,-8(fp)
  151b08:	e0fffc17 	ldw	r3,-16(fp)
  151b0c:	20c7283a 	div	r3,r4,r3
  151b10:	18c00c04 	addi	r3,r3,48
  151b14:	10c00005 	stb	r3,0(r2)
  151b18:	e0bffd17 	ldw	r2,-12(fp)
  151b1c:	10800044 	addi	r2,r2,1
  151b20:	e0bffd15 	stw	r2,-12(fp)
	/* remove this digit from n */
	n %= d;
  151b24:	e0bffe17 	ldw	r2,-8(fp)
  151b28:	e0fffc17 	ldw	r3,-16(fp)
  151b2c:	10c9283a 	div	r4,r2,r3
  151b30:	e0fffc17 	ldw	r3,-16(fp)
  151b34:	20c7383a 	mul	r3,r4,r3
  151b38:	10c5c83a 	sub	r2,r2,r3
  151b3c:	e0bffe15 	stw	r2,-8(fp)
    /* (assuming 4 digits) */
    dp = 4 - dp;


    /* finally, loop getting and converting digits */
    for (d = 1000; d > 0; d /= 10)  {
  151b40:	e0fffc17 	ldw	r3,-16(fp)
  151b44:	00800284 	movi	r2,10
  151b48:	1885283a 	div	r2,r3,r2
  151b4c:	e0bffc15 	stw	r2,-16(fp)
  151b50:	e0bffc17 	ldw	r2,-16(fp)
  151b54:	00bfd916 	blt	zero,r2,151abc <cvt_num_field+0xd8>
	n %= d;
    }


    /* all done converting the number, return */
    return;
  151b58:	0001883a 	nop

}
  151b5c:	e037883a 	mov	sp,fp
  151b60:	df000017 	ldw	fp,0(sp)
  151b64:	dec00104 	addi	sp,sp,4
  151b68:	f800283a 	ret

00151b6c <get_test_sample>:
   Last Modified:    May 3, 2006

*/

void  get_test_sample(long int sample_rate, int sample_size, unsigned char *sample)
{
  151b6c:	deff8104 	addi	sp,sp,-508
  151b70:	dfc07e15 	stw	ra,504(sp)
  151b74:	df007d15 	stw	fp,500(sp)
  151b78:	df007d04 	addi	fp,sp,500
  151b7c:	e13ffd15 	stw	r4,-12(fp)
  151b80:	e17ffe15 	stw	r5,-8(fp)
  151b84:	e1bfff15 	stw	r6,-4(fp)
    /* variables */

    /* a half-cycle of the ringing square wave */
    const unsigned char  waveform[] =
  151b88:	00800574 	movhi	r2,21
  151b8c:	10933304 	addi	r2,r2,19660
  151b90:	e13f8504 	addi	r4,fp,-492
  151b94:	1007883a 	mov	r3,r2
  151b98:	00807804 	movi	r2,480
  151b9c:	180b883a 	mov	r5,r3
  151ba0:	100d883a 	mov	r6,r2
  151ba4:	0153b480 	call	153b48 <memcpy>
	    63,  63,  63,  63,  63,  63,  63,  63,  63,  63,  63,  63,  63,
	    63,  63,  63,  63,  63,  63,  64,  64,  64,  64,  64,  64,  64,
	    64,  64,  64,  64,  64,  64,  64,  64,  64,  64,  64,  64
	  };

    long int  sample_pt = 0;	/* current sample within the waveform */
  151ba8:	e03f8315 	stw	zero,-500(fp)

    int       sample_sign = 1;	/* sample waveform sign */
  151bac:	00800044 	movi	r2,1
  151bb0:	e0bf8415 	stw	r2,-496(fp)



    /* loop, getting sample points */
    while (sample_size-- > 0)  {
  151bb4:	00002f06 	br	151c74 <get_test_sample+0x108>

        /* get this sample point (value based on sign) */
	if (sample_sign > 0)
  151bb8:	e0bf8417 	ldw	r2,-496(fp)
  151bbc:	00800e0e 	bge	zero,r2,151bf8 <get_test_sample+0x8c>
	    *sample++ = waveform[sample_pt/20] + 127;
  151bc0:	e0ff8317 	ldw	r3,-500(fp)
  151bc4:	00800504 	movi	r2,20
  151bc8:	1885283a 	div	r2,r3,r2
  151bcc:	e0ff8504 	addi	r3,fp,-492
  151bd0:	1885883a 	add	r2,r3,r2
  151bd4:	10800003 	ldbu	r2,0(r2)
  151bd8:	10801fc4 	addi	r2,r2,127
  151bdc:	1007883a 	mov	r3,r2
  151be0:	e0bfff17 	ldw	r2,-4(fp)
  151be4:	10c00005 	stb	r3,0(r2)
  151be8:	e0bfff17 	ldw	r2,-4(fp)
  151bec:	10800044 	addi	r2,r2,1
  151bf0:	e0bfff15 	stw	r2,-4(fp)
  151bf4:	00000e06 	br	151c30 <get_test_sample+0xc4>
	else
	    *sample++ = 128 - waveform[sample_pt/20];
  151bf8:	e0ff8317 	ldw	r3,-500(fp)
  151bfc:	00800504 	movi	r2,20
  151c00:	1885283a 	div	r2,r3,r2
  151c04:	e0ff8504 	addi	r3,fp,-492
  151c08:	1885883a 	add	r2,r3,r2
  151c0c:	10800003 	ldbu	r2,0(r2)
  151c10:	00ffe004 	movi	r3,-128
  151c14:	1885c83a 	sub	r2,r3,r2
  151c18:	1007883a 	mov	r3,r2
  151c1c:	e0bfff17 	ldw	r2,-4(fp)
  151c20:	10c00005 	stb	r3,0(r2)
  151c24:	e0bfff17 	ldw	r2,-4(fp)
  151c28:	10800044 	addi	r2,r2,1
  151c2c:	e0bfff15 	stw	r2,-4(fp)

	/* compute the time for the next sample point */
	sample_pt += (10000000L / sample_rate);
  151c30:	00c02674 	movhi	r3,153
  151c34:	18e5a004 	addi	r3,r3,-27008
  151c38:	e0bffd17 	ldw	r2,-12(fp)
  151c3c:	1885283a 	div	r2,r3,r2
  151c40:	e0ff8317 	ldw	r3,-500(fp)
  151c44:	1885883a 	add	r2,r3,r2
  151c48:	e0bf8315 	stw	r2,-500(fp)
	/* keep sample_pt within the waveform (need to scale it) */
	while (sample_pt >= (20 * NO_TEST_PTS))  {
  151c4c:	00000606 	br	151c68 <get_test_sample+0xfc>
	    /* keep sample_pt within the test waveform */
	    sample_pt -= (20 * NO_TEST_PTS);
  151c50:	e0bf8317 	ldw	r2,-500(fp)
  151c54:	10b6a004 	addi	r2,r2,-9600
  151c58:	e0bf8315 	stw	r2,-500(fp)
	    /* each time through the waveform, invert it */
	    sample_sign = -sample_sign;
  151c5c:	e0bf8417 	ldw	r2,-496(fp)
  151c60:	0085c83a 	sub	r2,zero,r2
  151c64:	e0bf8415 	stw	r2,-496(fp)
	    *sample++ = 128 - waveform[sample_pt/20];

	/* compute the time for the next sample point */
	sample_pt += (10000000L / sample_rate);
	/* keep sample_pt within the waveform (need to scale it) */
	while (sample_pt >= (20 * NO_TEST_PTS))  {
  151c68:	e0bf8317 	ldw	r2,-500(fp)
  151c6c:	10896028 	cmpgeui	r2,r2,9600
  151c70:	103ff71e 	bne	r2,zero,151c50 <get_test_sample+0xe4>
    int       sample_sign = 1;	/* sample waveform sign */



    /* loop, getting sample points */
    while (sample_size-- > 0)  {
  151c74:	e0bffe17 	ldw	r2,-8(fp)
  151c78:	0084803a 	cmplt	r2,zero,r2
  151c7c:	e0fffe17 	ldw	r3,-8(fp)
  151c80:	18ffffc4 	addi	r3,r3,-1
  151c84:	e0fffe15 	stw	r3,-8(fp)
  151c88:	10803fcc 	andi	r2,r2,255
  151c8c:	103fca1e 	bne	r2,zero,151bb8 <get_test_sample+0x4c>


    /* done getting the sample - return */
    return;

}
  151c90:	e037883a 	mov	sp,fp
  151c94:	dfc00117 	ldw	ra,4(sp)
  151c98:	df000017 	ldw	fp,0(sp)
  151c9c:	dec00204 	addi	sp,sp,8
  151ca0:	f800283a 	ret

00151ca4 <init_trace>:
   Last Modified:    May 9, 2006

*/

void  init_trace()
{
  151ca4:	defffe04 	addi	sp,sp,-8
  151ca8:	dfc00115 	stw	ra,4(sp)
  151cac:	df000015 	stw	fp,0(sp)
  151cb0:	d839883a 	mov	fp,sp


    /* initialize system status variables */

    /* ready for a trace */
    trace_status = TRUE;
  151cb4:	00800044 	movi	r2,1
  151cb8:	d0a45e15 	stw	r2,-28296(gp)

    /* not currently sampling data */
    sampling = FALSE;
  151cbc:	d0246415 	stw	zero,-28272(gp)

    /* turn off the displayed scale */
    cur_scale = SCALE_NONE;
  151cc0:	d0245d15 	stw	zero,-28300(gp)

    /* sample size is the screen size */
    sample_size = SIZE_X;
  151cc4:	00807804 	movi	r2,480
  151cc8:	d0a46115 	stw	r2,-28284(gp)


    /* clear save areas */
    clear_saved_areas();
  151ccc:	01521f80 	call	1521f8 <clear_saved_areas>

    /* also clear the general saved area location variables (off-screen) */
    saved_pos_x = SIZE_X + 1;
  151cd0:	00807844 	movi	r2,481
  151cd4:	d0a46315 	stw	r2,-28276(gp)
    saved_pos_y = SIZE_Y + 1;
  151cd8:	00804444 	movi	r2,273
  151cdc:	d0a46015 	stw	r2,-28288(gp)
    saved_end_x = SIZE_X + 1;
  151ce0:	00807844 	movi	r2,481
  151ce4:	d0a46215 	stw	r2,-28280(gp)
    saved_end_y = SIZE_Y + 1;
  151ce8:	00804444 	movi	r2,273
  151cec:	d0a45f15 	stw	r2,-28292(gp)


    /* done initializing, return */
    return;
  151cf0:	0001883a 	nop

}
  151cf4:	e037883a 	mov	sp,fp
  151cf8:	dfc00117 	ldw	ra,4(sp)
  151cfc:	df000017 	ldw	fp,0(sp)
  151d00:	dec00204 	addi	sp,sp,8
  151d04:	f800283a 	ret

00151d08 <set_mode>:
   Last Modified:    May 27, 2008

*/

void  set_mode(enum trigger_type trigger_mode)
{
  151d08:	defffe04 	addi	sp,sp,-8
  151d0c:	df000115 	stw	fp,4(sp)
  151d10:	df000104 	addi	fp,sp,4
  151d14:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* if not one-shot triggering - ready for trace too */
    trace_status = (trigger_mode != ONESHOT_TRIGGER);
  151d18:	e0bfff17 	ldw	r2,-4(fp)
  151d1c:	10800098 	cmpnei	r2,r2,2
  151d20:	10803fcc 	andi	r2,r2,255
  151d24:	d0a45e15 	stw	r2,-28296(gp)


    /* turn off the sampling flag so will start a new sample */
    sampling = FALSE;
  151d28:	d0246415 	stw	zero,-28272(gp)


    /* all done, return */
    return;
  151d2c:	0001883a 	nop

}
  151d30:	e037883a 	mov	sp,fp
  151d34:	df000017 	ldw	fp,0(sp)
  151d38:	dec00104 	addi	sp,sp,4
  151d3c:	f800283a 	ret

00151d40 <is_sampling>:
   Last Modified:    May 27, 2008

*/

int  is_sampling()
{
  151d40:	deffff04 	addi	sp,sp,-4
  151d44:	df000015 	stw	fp,0(sp)
  151d48:	d839883a 	mov	fp,sp
      /* none */



    /* currently sampling if sampling flag is set */
    return  sampling;
  151d4c:	d0a46417 	ldw	r2,-28272(gp)

}
  151d50:	e037883a 	mov	sp,fp
  151d54:	df000017 	ldw	fp,0(sp)
  151d58:	dec00104 	addi	sp,sp,4
  151d5c:	f800283a 	ret

00151d60 <trace_rdy>:
   Last Modified:    Mar. 13, 1994

*/

int  trace_rdy()
{
  151d60:	deffff04 	addi	sp,sp,-4
  151d64:	df000015 	stw	fp,0(sp)
  151d68:	d839883a 	mov	fp,sp
      /* none */



    /* ready for another trace if not sampling and trace is ready */
    return  (!sampling && trace_status);
  151d6c:	d0a46417 	ldw	r2,-28272(gp)
  151d70:	1000041e 	bne	r2,zero,151d84 <trace_rdy+0x24>
  151d74:	d0a45e17 	ldw	r2,-28296(gp)
  151d78:	10000226 	beq	r2,zero,151d84 <trace_rdy+0x24>
  151d7c:	00800044 	movi	r2,1
  151d80:	00000106 	br	151d88 <trace_rdy+0x28>
  151d84:	0005883a 	mov	r2,zero

}
  151d88:	e037883a 	mov	sp,fp
  151d8c:	df000017 	ldw	fp,0(sp)
  151d90:	dec00104 	addi	sp,sp,4
  151d94:	f800283a 	ret

00151d98 <trace_done>:
   Last Modified:    May 9, 2006

*/

void  trace_done()
{
  151d98:	defffe04 	addi	sp,sp,-8
  151d9c:	dfc00115 	stw	ra,4(sp)
  151da0:	df000015 	stw	fp,0(sp)
  151da4:	d839883a 	mov	fp,sp
      /* none */



    /* done with a trace - if retriggering, ready for another one */
    if (get_trigger_mode() != ONESHOT_TRIGGER)
  151da8:	0150f000 	call	150f00 <get_trigger_mode>
  151dac:	108000a0 	cmpeqi	r2,r2,2
  151db0:	1000021e 	bne	r2,zero,151dbc <trace_done+0x24>
        /* in a retriggering mode - set trace_status to TRUE (ready) */
	trace_status = TRUE;
  151db4:	00800044 	movi	r2,1
  151db8:	d0a45e15 	stw	r2,-28296(gp)

    /* no longer sampling data */
    sampling = FALSE;
  151dbc:	d0246415 	stw	zero,-28272(gp)


    /* done so return */
    return;
  151dc0:	0001883a 	nop

}
  151dc4:	e037883a 	mov	sp,fp
  151dc8:	dfc00117 	ldw	ra,4(sp)
  151dcc:	df000017 	ldw	fp,0(sp)
  151dd0:	dec00204 	addi	sp,sp,8
  151dd4:	f800283a 	ret

00151dd8 <trace_rearm>:
   Last Modified:    Mar. 8, 1994

*/

void  trace_rearm()
{
  151dd8:	deffff04 	addi	sp,sp,-4
  151ddc:	df000015 	stw	fp,0(sp)
  151de0:	d839883a 	mov	fp,sp
      /* none */



    /* rearm the trace - set status to ready (TRUE) */
    trace_status = TRUE;
  151de4:	00800044 	movi	r2,1
  151de8:	d0a45e15 	stw	r2,-28296(gp)


    /* all done - return */
    return;
  151dec:	0001883a 	nop

}
  151df0:	e037883a 	mov	sp,fp
  151df4:	df000017 	ldw	fp,0(sp)
  151df8:	dec00104 	addi	sp,sp,4
  151dfc:	f800283a 	ret

00151e00 <set_trace_size>:
   Last Modified:    Mar. 8, 1994

*/

void  set_trace_size(int size)
{
  151e00:	defffe04 	addi	sp,sp,-8
  151e04:	df000115 	stw	fp,4(sp)
  151e08:	df000104 	addi	fp,sp,4
  151e0c:	e13fff15 	stw	r4,-4(fp)
      /* none */



    /* set the locally global sample size */
    sample_size = size;
  151e10:	e0bfff17 	ldw	r2,-4(fp)
  151e14:	d0a46115 	stw	r2,-28284(gp)


    /* all done, return */
    return;
  151e18:	0001883a 	nop

}
  151e1c:	e037883a 	mov	sp,fp
  151e20:	df000017 	ldw	fp,0(sp)
  151e24:	dec00104 	addi	sp,sp,4
  151e28:	f800283a 	ret

00151e2c <set_display_scale>:
   Last Modified:    May 9, 2006

*/

void  set_display_scale(enum scale_type scale)
{
  151e2c:	defffa04 	addi	sp,sp,-24
  151e30:	dfc00515 	stw	ra,20(sp)
  151e34:	df000415 	stw	fp,16(sp)
  151e38:	df000404 	addi	fp,sp,16
  151e3c:	e13fff15 	stw	r4,-4(fp)



    /* whenever change scale type, need to clear out previous scale */
    /* unnecessary if going to SCALE_GRID or from SCALE_NONE or not changing the scale */
    if ((scale != SCALE_GRID) && (cur_scale != SCALE_NONE) && (scale != cur_scale))  {
  151e40:	e0bfff17 	ldw	r2,-4(fp)
  151e44:	108000a0 	cmpeqi	r2,r2,2
  151e48:	10008d1e 	bne	r2,zero,152080 <set_display_scale+0x254>
  151e4c:	d0a45d17 	ldw	r2,-28300(gp)
  151e50:	10008b26 	beq	r2,zero,152080 <set_display_scale+0x254>
  151e54:	d0a45d17 	ldw	r2,-28300(gp)
  151e58:	e0ffff17 	ldw	r3,-4(fp)
  151e5c:	18808826 	beq	r3,r2,152080 <set_display_scale+0x254>

        /* need to restore the trace under the lines (tick, grid, or axis) */

	/* go through all points on horizontal lines */
	for (j = -Y_TICK_CNT; j <= Y_TICK_CNT; j++)  {
  151e60:	00bfff84 	movi	r2,-2
  151e64:	e0bffe15 	stw	r2,-8(fp)
  151e68:	00003e06 	br	151f64 <set_display_scale+0x138>

	    /* get y position of the line */
	    p = X_AXIS_POS + j * Y_TICK_SIZE;
  151e6c:	e0bffe17 	ldw	r2,-8(fp)
  151e70:	10800c24 	muli	r2,r2,48
  151e74:	10802204 	addi	r2,r2,136
  151e78:	e0bffc15 	stw	r2,-16(fp)
	    /* make sure it is in range */
	    if (p >= PLOT_SIZE_Y)
  151e7c:	e0bffc17 	ldw	r2,-16(fp)
  151e80:	10804410 	cmplti	r2,r2,272
  151e84:	1000021e 	bne	r2,zero,151e90 <set_display_scale+0x64>
	        p = PLOT_SIZE_Y - 1;
  151e88:	008043c4 	movi	r2,271
  151e8c:	e0bffc15 	stw	r2,-16(fp)
	    if (p < 0)
  151e90:	e0bffc17 	ldw	r2,-16(fp)
  151e94:	1000010e 	bge	r2,zero,151e9c <set_display_scale+0x70>
	        p = 0;
  151e98:	e03ffc15 	stw	zero,-16(fp)

	    /* look at entire horizontal line */
	    for (i = 0; i < PLOT_SIZE_X; i++)  {
  151e9c:	e03ffd15 	stw	zero,-12(fp)
  151ea0:	00002a06 	br	151f4c <set_display_scale+0x120>
	        /* check if this point is on or off (need to look at bits) */
		if ((saved_axis_x[j + Y_TICK_CNT][i / 8] & (0x80 >> (i % 8))) == 0)
  151ea4:	e0bffe17 	ldw	r2,-8(fp)
  151ea8:	11000084 	addi	r4,r2,2
  151eac:	e0bffd17 	ldw	r2,-12(fp)
  151eb0:	1000010e 	bge	r2,zero,151eb8 <set_display_scale+0x8c>
  151eb4:	108001c4 	addi	r2,r2,7
  151eb8:	1005d0fa 	srai	r2,r2,3
  151ebc:	00c00574 	movhi	r3,21
  151ec0:	18de5184 	addi	r3,r3,31046
  151ec4:	21000f24 	muli	r4,r4,60
  151ec8:	2085883a 	add	r2,r4,r2
  151ecc:	1885883a 	add	r2,r3,r2
  151ed0:	10800003 	ldbu	r2,0(r2)
  151ed4:	10c03fcc 	andi	r3,r2,255
  151ed8:	e13ffd17 	ldw	r4,-12(fp)
  151edc:	00a00034 	movhi	r2,32768
  151ee0:	108001c4 	addi	r2,r2,7
  151ee4:	2084703a 	and	r2,r4,r2
  151ee8:	1000040e 	bge	r2,zero,151efc <set_display_scale+0xd0>
  151eec:	10bfffc4 	addi	r2,r2,-1
  151ef0:	013ffe04 	movi	r4,-8
  151ef4:	1104b03a 	or	r2,r2,r4
  151ef8:	10800044 	addi	r2,r2,1
  151efc:	01002004 	movi	r4,128
  151f00:	2085d83a 	sra	r2,r4,r2
  151f04:	1884703a 	and	r2,r3,r2
  151f08:	1000071e 	bne	r2,zero,151f28 <set_display_scale+0xfc>
		    /* saved pixel is off */
		    plot_pixel(i, p, PIXEL_WHITE);
  151f0c:	e0fffd17 	ldw	r3,-12(fp)
  151f10:	e0bffc17 	ldw	r2,-16(fp)
  151f14:	1809883a 	mov	r4,r3
  151f18:	100b883a 	mov	r5,r2
  151f1c:	01bfdfd4 	movui	r6,65407
  151f20:	01536c40 	call	1536c4 <plot_pixel>
  151f24:	00000606 	br	151f40 <set_display_scale+0x114>
		else
		    /* saved pixel is on */
		    plot_pixel(i, p, PIXEL_BLACK);
  151f28:	e0fffd17 	ldw	r3,-12(fp)
  151f2c:	e0bffc17 	ldw	r2,-16(fp)
  151f30:	1809883a 	mov	r4,r3
  151f34:	100b883a 	mov	r5,r2
  151f38:	000d883a 	mov	r6,zero
  151f3c:	01536c40 	call	1536c4 <plot_pixel>
	        p = PLOT_SIZE_Y - 1;
	    if (p < 0)
	        p = 0;

	    /* look at entire horizontal line */
	    for (i = 0; i < PLOT_SIZE_X; i++)  {
  151f40:	e0bffd17 	ldw	r2,-12(fp)
  151f44:	10800044 	addi	r2,r2,1
  151f48:	e0bffd15 	stw	r2,-12(fp)
  151f4c:	e0bffd17 	ldw	r2,-12(fp)
  151f50:	10807810 	cmplti	r2,r2,480
  151f54:	103fd31e 	bne	r2,zero,151ea4 <set_display_scale+0x78>
    if ((scale != SCALE_GRID) && (cur_scale != SCALE_NONE) && (scale != cur_scale))  {

        /* need to restore the trace under the lines (tick, grid, or axis) */

	/* go through all points on horizontal lines */
	for (j = -Y_TICK_CNT; j <= Y_TICK_CNT; j++)  {
  151f58:	e0bffe17 	ldw	r2,-8(fp)
  151f5c:	10800044 	addi	r2,r2,1
  151f60:	e0bffe15 	stw	r2,-8(fp)
  151f64:	e0bffe17 	ldw	r2,-8(fp)
  151f68:	108000d0 	cmplti	r2,r2,3
  151f6c:	103fbf1e 	bne	r2,zero,151e6c <set_display_scale+0x40>
		    plot_pixel(i, p, PIXEL_BLACK);
	    }
	}

	/* go through all points on vertical lines */
	for (j = -X_TICK_CNT; j <= X_TICK_CNT; j++)  {
  151f70:	00bffec4 	movi	r2,-5
  151f74:	e0bffe15 	stw	r2,-8(fp)
  151f78:	00003e06 	br	152074 <set_display_scale+0x248>

	    /* get x position of the line */
	    p = Y_AXIS_POS + j * X_TICK_SIZE;
  151f7c:	e0bffe17 	ldw	r2,-8(fp)
  151f80:	10800c24 	muli	r2,r2,48
  151f84:	10803c04 	addi	r2,r2,240
  151f88:	e0bffc15 	stw	r2,-16(fp)
	    /* make sure it is in range */
	    if (p >= PLOT_SIZE_X)
  151f8c:	e0bffc17 	ldw	r2,-16(fp)
  151f90:	10807810 	cmplti	r2,r2,480
  151f94:	1000021e 	bne	r2,zero,151fa0 <set_display_scale+0x174>
	        p = PLOT_SIZE_X - 1;
  151f98:	008077c4 	movi	r2,479
  151f9c:	e0bffc15 	stw	r2,-16(fp)
	    if (p < 0)
  151fa0:	e0bffc17 	ldw	r2,-16(fp)
  151fa4:	1000010e 	bge	r2,zero,151fac <set_display_scale+0x180>
	        p = 0;
  151fa8:	e03ffc15 	stw	zero,-16(fp)

	    /* look at entire vertical line */
	    for (i = 0; i < PLOT_SIZE_Y; i++)  {
  151fac:	e03ffd15 	stw	zero,-12(fp)
  151fb0:	00002a06 	br	15205c <set_display_scale+0x230>
	        /* check if this point is on or off (need to look at bits) */
		if ((saved_axis_y[j + X_TICK_CNT][i / 8] & (0x80 >> (i % 8))) == 0)
  151fb4:	e0bffe17 	ldw	r2,-8(fp)
  151fb8:	11000144 	addi	r4,r2,5
  151fbc:	e0bffd17 	ldw	r2,-12(fp)
  151fc0:	1000010e 	bge	r2,zero,151fc8 <set_display_scale+0x19c>
  151fc4:	108001c4 	addi	r2,r2,7
  151fc8:	1005d0fa 	srai	r2,r2,3
  151fcc:	00c00574 	movhi	r3,21
  151fd0:	18ddf404 	addi	r3,r3,30672
  151fd4:	210008a4 	muli	r4,r4,34
  151fd8:	2085883a 	add	r2,r4,r2
  151fdc:	1885883a 	add	r2,r3,r2
  151fe0:	10800003 	ldbu	r2,0(r2)
  151fe4:	10c03fcc 	andi	r3,r2,255
  151fe8:	e13ffd17 	ldw	r4,-12(fp)
  151fec:	00a00034 	movhi	r2,32768
  151ff0:	108001c4 	addi	r2,r2,7
  151ff4:	2084703a 	and	r2,r4,r2
  151ff8:	1000040e 	bge	r2,zero,15200c <set_display_scale+0x1e0>
  151ffc:	10bfffc4 	addi	r2,r2,-1
  152000:	013ffe04 	movi	r4,-8
  152004:	1104b03a 	or	r2,r2,r4
  152008:	10800044 	addi	r2,r2,1
  15200c:	01002004 	movi	r4,128
  152010:	2085d83a 	sra	r2,r4,r2
  152014:	1884703a 	and	r2,r3,r2
  152018:	1000071e 	bne	r2,zero,152038 <set_display_scale+0x20c>
		    /* saved pixel is off */
		    plot_pixel(p, i, PIXEL_WHITE);
  15201c:	e0fffc17 	ldw	r3,-16(fp)
  152020:	e0bffd17 	ldw	r2,-12(fp)
  152024:	1809883a 	mov	r4,r3
  152028:	100b883a 	mov	r5,r2
  15202c:	01bfdfd4 	movui	r6,65407
  152030:	01536c40 	call	1536c4 <plot_pixel>
  152034:	00000606 	br	152050 <set_display_scale+0x224>
		else
		    /* saved pixel is on */
		    plot_pixel(p, i, PIXEL_BLACK);
  152038:	e0fffc17 	ldw	r3,-16(fp)
  15203c:	e0bffd17 	ldw	r2,-12(fp)
  152040:	1809883a 	mov	r4,r3
  152044:	100b883a 	mov	r5,r2
  152048:	000d883a 	mov	r6,zero
  15204c:	01536c40 	call	1536c4 <plot_pixel>
	        p = PLOT_SIZE_X - 1;
	    if (p < 0)
	        p = 0;

	    /* look at entire vertical line */
	    for (i = 0; i < PLOT_SIZE_Y; i++)  {
  152050:	e0bffd17 	ldw	r2,-12(fp)
  152054:	10800044 	addi	r2,r2,1
  152058:	e0bffd15 	stw	r2,-12(fp)
  15205c:	e0bffd17 	ldw	r2,-12(fp)
  152060:	10804410 	cmplti	r2,r2,272
  152064:	103fd31e 	bne	r2,zero,151fb4 <set_display_scale+0x188>
		    plot_pixel(i, p, PIXEL_BLACK);
	    }
	}

	/* go through all points on vertical lines */
	for (j = -X_TICK_CNT; j <= X_TICK_CNT; j++)  {
  152068:	e0bffe17 	ldw	r2,-8(fp)
  15206c:	10800044 	addi	r2,r2,1
  152070:	e0bffe15 	stw	r2,-8(fp)
  152074:	e0bffe17 	ldw	r2,-8(fp)
  152078:	10800190 	cmplti	r2,r2,6
  15207c:	103fbf1e 	bne	r2,zero,151f7c <set_display_scale+0x150>
	}
    }


    /* now handle the scale type appropriately */
    switch (scale)  {
  152080:	e0bfff17 	ldw	r2,-4(fp)
  152084:	10005326 	beq	r2,zero,1521d4 <set_display_scale+0x3a8>
  152088:	108000e8 	cmpgeui	r2,r2,3
  15208c:	1000521e 	bne	r2,zero,1521d8 <set_display_scale+0x3ac>

    	case SCALE_AXES:    /* axes for the scale */
    	case SCALE_GRID:    /* grid for the scale */

		            /* draw x lines (grid or tick marks) */
			    for (i = -Y_TICK_CNT; i <= Y_TICK_CNT; i++)  {
  152090:	00bfff84 	movi	r2,-2
  152094:	e0bffd15 	stw	r2,-12(fp)
  152098:	00002206 	br	152124 <set_display_scale+0x2f8>

				/* get y position of the line */
				p = X_AXIS_POS + i * Y_TICK_SIZE;
  15209c:	e0bffd17 	ldw	r2,-12(fp)
  1520a0:	10800c24 	muli	r2,r2,48
  1520a4:	10802204 	addi	r2,r2,136
  1520a8:	e0bffc15 	stw	r2,-16(fp)
				/* make sure it is in range */
				if (p >= PLOT_SIZE_Y)
  1520ac:	e0bffc17 	ldw	r2,-16(fp)
  1520b0:	10804410 	cmplti	r2,r2,272
  1520b4:	1000021e 	bne	r2,zero,1520c0 <set_display_scale+0x294>
				    p = PLOT_SIZE_Y - 1;
  1520b8:	008043c4 	movi	r2,271
  1520bc:	e0bffc15 	stw	r2,-16(fp)
				if (p < 0)
  1520c0:	e0bffc17 	ldw	r2,-16(fp)
  1520c4:	1000010e 	bge	r2,zero,1520cc <set_display_scale+0x2a0>
				    p = 0;
  1520c8:	e03ffc15 	stw	zero,-16(fp)

				/* should we draw a grid, an axis, or a tick mark */
				if (scale == SCALE_GRID)
  1520cc:	e0bfff17 	ldw	r2,-4(fp)
  1520d0:	10800098 	cmpnei	r2,r2,2
  1520d4:	1000051e 	bne	r2,zero,1520ec <set_display_scale+0x2c0>
				    /* drawing a grid line */
			            plot_hline(X_GRID_START, p, (X_GRID_END - X_GRID_START));
  1520d8:	0009883a 	mov	r4,zero
  1520dc:	e17ffc17 	ldw	r5,-16(fp)
  1520e0:	018077c4 	movi	r6,479
  1520e4:	01503d00 	call	1503d0 <plot_hline>
  1520e8:	00000b06 	br	152118 <set_display_scale+0x2ec>
				else if (i == 0)
  1520ec:	e0bffd17 	ldw	r2,-12(fp)
  1520f0:	1000051e 	bne	r2,zero,152108 <set_display_scale+0x2dc>
				    /* drawing the x axis */
			            plot_hline(X_AXIS_START, p, (X_AXIS_END - X_AXIS_START));
  1520f4:	0009883a 	mov	r4,zero
  1520f8:	e17ffc17 	ldw	r5,-16(fp)
  1520fc:	018077c4 	movi	r6,479
  152100:	01503d00 	call	1503d0 <plot_hline>
  152104:	00000406 	br	152118 <set_display_scale+0x2ec>
				else
				    /* must be drawing a tick mark */
			            plot_hline((Y_AXIS_POS - (TICK_LEN / 2)), p, TICK_LEN);
  152108:	01003b84 	movi	r4,238
  15210c:	e17ffc17 	ldw	r5,-16(fp)
  152110:	01800144 	movi	r6,5
  152114:	01503d00 	call	1503d0 <plot_hline>

    	case SCALE_AXES:    /* axes for the scale */
    	case SCALE_GRID:    /* grid for the scale */

		            /* draw x lines (grid or tick marks) */
			    for (i = -Y_TICK_CNT; i <= Y_TICK_CNT; i++)  {
  152118:	e0bffd17 	ldw	r2,-12(fp)
  15211c:	10800044 	addi	r2,r2,1
  152120:	e0bffd15 	stw	r2,-12(fp)
  152124:	e0bffd17 	ldw	r2,-12(fp)
  152128:	108000d0 	cmplti	r2,r2,3
  15212c:	103fdb1e 	bne	r2,zero,15209c <set_display_scale+0x270>
				    /* must be drawing a tick mark */
			            plot_hline((Y_AXIS_POS - (TICK_LEN / 2)), p, TICK_LEN);
			    }

		            /* draw y lines (grid or tick marks) */
			    for (i = -X_TICK_CNT; i <= X_TICK_CNT; i++)  {
  152130:	00bffec4 	movi	r2,-5
  152134:	e0bffd15 	stw	r2,-12(fp)
  152138:	00002206 	br	1521c4 <set_display_scale+0x398>

				/* get x position of the line */
				p = Y_AXIS_POS + i * X_TICK_SIZE;
  15213c:	e0bffd17 	ldw	r2,-12(fp)
  152140:	10800c24 	muli	r2,r2,48
  152144:	10803c04 	addi	r2,r2,240
  152148:	e0bffc15 	stw	r2,-16(fp)
				/* make sure it is in range */
				if (p >= PLOT_SIZE_X)
  15214c:	e0bffc17 	ldw	r2,-16(fp)
  152150:	10807810 	cmplti	r2,r2,480
  152154:	1000021e 	bne	r2,zero,152160 <set_display_scale+0x334>
				    p = PLOT_SIZE_X - 1;
  152158:	008077c4 	movi	r2,479
  15215c:	e0bffc15 	stw	r2,-16(fp)
			        if (p < 0)
  152160:	e0bffc17 	ldw	r2,-16(fp)
  152164:	1000010e 	bge	r2,zero,15216c <set_display_scale+0x340>
				    p = 0;
  152168:	e03ffc15 	stw	zero,-16(fp)

				/* should we draw a grid, an axis, or a tick mark */
				if (scale == SCALE_GRID)
  15216c:	e0bfff17 	ldw	r2,-4(fp)
  152170:	10800098 	cmpnei	r2,r2,2
  152174:	1000051e 	bne	r2,zero,15218c <set_display_scale+0x360>
				    /* drawing a grid line */
			            plot_vline(p, Y_GRID_START, (Y_GRID_END - Y_GRID_START));
  152178:	e13ffc17 	ldw	r4,-16(fp)
  15217c:	000b883a 	mov	r5,zero
  152180:	018043c4 	movi	r6,271
  152184:	015047c0 	call	15047c <plot_vline>
  152188:	00000b06 	br	1521b8 <set_display_scale+0x38c>
				else if (i == 0)
  15218c:	e0bffd17 	ldw	r2,-12(fp)
  152190:	1000051e 	bne	r2,zero,1521a8 <set_display_scale+0x37c>
				    /* drawing the y axis */
			            plot_vline(p, Y_AXIS_START, (Y_AXIS_END - Y_AXIS_START));
  152194:	e13ffc17 	ldw	r4,-16(fp)
  152198:	000b883a 	mov	r5,zero
  15219c:	018043c4 	movi	r6,271
  1521a0:	015047c0 	call	15047c <plot_vline>
  1521a4:	00000406 	br	1521b8 <set_display_scale+0x38c>
				else
				    /* must be drawing a tick mark */
			            plot_vline(p, (X_AXIS_POS - (TICK_LEN / 2)), TICK_LEN);
  1521a8:	e13ffc17 	ldw	r4,-16(fp)
  1521ac:	01402184 	movi	r5,134
  1521b0:	01800144 	movi	r6,5
  1521b4:	015047c0 	call	15047c <plot_vline>
				    /* must be drawing a tick mark */
			            plot_hline((Y_AXIS_POS - (TICK_LEN / 2)), p, TICK_LEN);
			    }

		            /* draw y lines (grid or tick marks) */
			    for (i = -X_TICK_CNT; i <= X_TICK_CNT; i++)  {
  1521b8:	e0bffd17 	ldw	r2,-12(fp)
  1521bc:	10800044 	addi	r2,r2,1
  1521c0:	e0bffd15 	stw	r2,-12(fp)
  1521c4:	e0bffd17 	ldw	r2,-12(fp)
  1521c8:	10800190 	cmplti	r2,r2,6
  1521cc:	103fdb1e 	bne	r2,zero,15213c <set_display_scale+0x310>
				    /* must be drawing a tick mark */
			            plot_vline(p, (X_AXIS_POS - (TICK_LEN / 2)), TICK_LEN);
			    }

			    /* done with the axes */
			    break;
  1521d0:	00000106 	br	1521d8 <set_display_scale+0x3ac>

        case SCALE_NONE:    /* there is no scale */
			    /* already restored plot so nothing to do */
			    break;
  1521d4:	0001883a 	nop

    }


    /* now remember the new (now current) scale type */
    cur_scale = scale;
  1521d8:	e0bfff17 	ldw	r2,-4(fp)
  1521dc:	d0a45d15 	stw	r2,-28300(gp)


    /* scale is taken care of, return */
    return;
  1521e0:	0001883a 	nop

}
  1521e4:	e037883a 	mov	sp,fp
  1521e8:	dfc00117 	ldw	ra,4(sp)
  1521ec:	df000017 	ldw	fp,0(sp)
  1521f0:	dec00204 	addi	sp,sp,8
  1521f4:	f800283a 	ret

001521f8 <clear_saved_areas>:
   Last Modified:    May 9, 2006

*/

void  clear_saved_areas()
{
  1521f8:	defffd04 	addi	sp,sp,-12
  1521fc:	df000215 	stw	fp,8(sp)
  152200:	df000204 	addi	fp,sp,8
    int  j;



    /* clear x-axis and y-axis save areas */
    for (j = 0; j <= (2 * Y_TICK_CNT); j++)
  152204:	e03fff15 	stw	zero,-4(fp)
  152208:	00001306 	br	152258 <clear_saved_areas+0x60>
        for (i = 0; i < (SIZE_X / 8); i++)
  15220c:	e03ffe15 	stw	zero,-8(fp)
  152210:	00000b06 	br	152240 <clear_saved_areas+0x48>
            saved_axis_x[j][i] = 0;
  152214:	00c00574 	movhi	r3,21
  152218:	18de5184 	addi	r3,r3,31046
  15221c:	e0bfff17 	ldw	r2,-4(fp)
  152220:	11000f24 	muli	r4,r2,60
  152224:	e0bffe17 	ldw	r2,-8(fp)
  152228:	2085883a 	add	r2,r4,r2
  15222c:	1885883a 	add	r2,r3,r2
  152230:	10000005 	stb	zero,0(r2)



    /* clear x-axis and y-axis save areas */
    for (j = 0; j <= (2 * Y_TICK_CNT); j++)
        for (i = 0; i < (SIZE_X / 8); i++)
  152234:	e0bffe17 	ldw	r2,-8(fp)
  152238:	10800044 	addi	r2,r2,1
  15223c:	e0bffe15 	stw	r2,-8(fp)
  152240:	e0bffe17 	ldw	r2,-8(fp)
  152244:	10800f10 	cmplti	r2,r2,60
  152248:	103ff21e 	bne	r2,zero,152214 <clear_saved_areas+0x1c>
    int  j;



    /* clear x-axis and y-axis save areas */
    for (j = 0; j <= (2 * Y_TICK_CNT); j++)
  15224c:	e0bfff17 	ldw	r2,-4(fp)
  152250:	10800044 	addi	r2,r2,1
  152254:	e0bfff15 	stw	r2,-4(fp)
  152258:	e0bfff17 	ldw	r2,-4(fp)
  15225c:	10800150 	cmplti	r2,r2,5
  152260:	103fea1e 	bne	r2,zero,15220c <clear_saved_areas+0x14>
        for (i = 0; i < (SIZE_X / 8); i++)
            saved_axis_x[j][i] = 0;
    for (j = 0; j <= (2 * X_TICK_CNT); j++)
  152264:	e03fff15 	stw	zero,-4(fp)
  152268:	00001306 	br	1522b8 <clear_saved_areas+0xc0>
        for (i = 0; i < (SIZE_Y / 8); i++)
  15226c:	e03ffe15 	stw	zero,-8(fp)
  152270:	00000b06 	br	1522a0 <clear_saved_areas+0xa8>
            saved_axis_y[j][i] = 0;
  152274:	00c00574 	movhi	r3,21
  152278:	18ddf404 	addi	r3,r3,30672
  15227c:	e0bfff17 	ldw	r2,-4(fp)
  152280:	110008a4 	muli	r4,r2,34
  152284:	e0bffe17 	ldw	r2,-8(fp)
  152288:	2085883a 	add	r2,r4,r2
  15228c:	1885883a 	add	r2,r3,r2
  152290:	10000005 	stb	zero,0(r2)
    /* clear x-axis and y-axis save areas */
    for (j = 0; j <= (2 * Y_TICK_CNT); j++)
        for (i = 0; i < (SIZE_X / 8); i++)
            saved_axis_x[j][i] = 0;
    for (j = 0; j <= (2 * X_TICK_CNT); j++)
        for (i = 0; i < (SIZE_Y / 8); i++)
  152294:	e0bffe17 	ldw	r2,-8(fp)
  152298:	10800044 	addi	r2,r2,1
  15229c:	e0bffe15 	stw	r2,-8(fp)
  1522a0:	e0bffe17 	ldw	r2,-8(fp)
  1522a4:	10800890 	cmplti	r2,r2,34
  1522a8:	103ff21e 	bne	r2,zero,152274 <clear_saved_areas+0x7c>

    /* clear x-axis and y-axis save areas */
    for (j = 0; j <= (2 * Y_TICK_CNT); j++)
        for (i = 0; i < (SIZE_X / 8); i++)
            saved_axis_x[j][i] = 0;
    for (j = 0; j <= (2 * X_TICK_CNT); j++)
  1522ac:	e0bfff17 	ldw	r2,-4(fp)
  1522b0:	10800044 	addi	r2,r2,1
  1522b4:	e0bfff15 	stw	r2,-4(fp)
  1522b8:	e0bfff17 	ldw	r2,-4(fp)
  1522bc:	108002d0 	cmplti	r2,r2,11
  1522c0:	103fea1e 	bne	r2,zero,15226c <clear_saved_areas+0x74>
        for (i = 0; i < (SIZE_Y / 8); i++)
            saved_axis_y[j][i] = 0;

    /* clear the menu save ares */
    for (i = 0; i < MENU_SIZE_Y; i++)
  1522c4:	e03ffe15 	stw	zero,-8(fp)
  1522c8:	00001306 	br	152318 <clear_saved_areas+0x120>
        for (j = 0; j < ((MENU_SIZE_X + 7) / 8); j++)
  1522cc:	e03fff15 	stw	zero,-4(fp)
  1522d0:	00000b06 	br	152300 <clear_saved_areas+0x108>
	    saved_menu[i][j] = 0;
  1522d4:	00c00574 	movhi	r3,21
  1522d8:	18dd4c04 	addi	r3,r3,30000
  1522dc:	e0bffe17 	ldw	r2,-8(fp)
  1522e0:	11000324 	muli	r4,r2,12
  1522e4:	e0bfff17 	ldw	r2,-4(fp)
  1522e8:	2085883a 	add	r2,r4,r2
  1522ec:	1885883a 	add	r2,r3,r2
  1522f0:	10000005 	stb	zero,0(r2)
        for (i = 0; i < (SIZE_Y / 8); i++)
            saved_axis_y[j][i] = 0;

    /* clear the menu save ares */
    for (i = 0; i < MENU_SIZE_Y; i++)
        for (j = 0; j < ((MENU_SIZE_X + 7) / 8); j++)
  1522f4:	e0bfff17 	ldw	r2,-4(fp)
  1522f8:	10800044 	addi	r2,r2,1
  1522fc:	e0bfff15 	stw	r2,-4(fp)
  152300:	e0bfff17 	ldw	r2,-4(fp)
  152304:	10800310 	cmplti	r2,r2,12
  152308:	103ff21e 	bne	r2,zero,1522d4 <clear_saved_areas+0xdc>
    for (j = 0; j <= (2 * X_TICK_CNT); j++)
        for (i = 0; i < (SIZE_Y / 8); i++)
            saved_axis_y[j][i] = 0;

    /* clear the menu save ares */
    for (i = 0; i < MENU_SIZE_Y; i++)
  15230c:	e0bffe17 	ldw	r2,-8(fp)
  152310:	10800044 	addi	r2,r2,1
  152314:	e0bffe15 	stw	r2,-8(fp)
  152318:	e0bffe17 	ldw	r2,-8(fp)
  15231c:	10800e10 	cmplti	r2,r2,56
  152320:	103fea1e 	bne	r2,zero,1522cc <clear_saved_areas+0xd4>
        for (j = 0; j < ((MENU_SIZE_X + 7) / 8); j++)
	    saved_menu[i][j] = 0;

    /* clear general save area */
    for (i = 0; i < SAVE_SIZE_Y; i++)
  152324:	e03ffe15 	stw	zero,-8(fp)
  152328:	00001306 	br	152378 <clear_saved_areas+0x180>
        for (j = 0; j < (SAVE_SIZE_X / 8); j++)
  15232c:	e03fff15 	stw	zero,-4(fp)
  152330:	00000b06 	br	152360 <clear_saved_areas+0x168>
	    saved_area[i][j] = 0;
  152334:	00c00574 	movhi	r3,21
  152338:	18de9c84 	addi	r3,r3,31346
  15233c:	e0bffe17 	ldw	r2,-8(fp)
  152340:	110003e4 	muli	r4,r2,15
  152344:	e0bfff17 	ldw	r2,-4(fp)
  152348:	2085883a 	add	r2,r4,r2
  15234c:	1885883a 	add	r2,r3,r2
  152350:	10000005 	stb	zero,0(r2)
        for (j = 0; j < ((MENU_SIZE_X + 7) / 8); j++)
	    saved_menu[i][j] = 0;

    /* clear general save area */
    for (i = 0; i < SAVE_SIZE_Y; i++)
        for (j = 0; j < (SAVE_SIZE_X / 8); j++)
  152354:	e0bfff17 	ldw	r2,-4(fp)
  152358:	10800044 	addi	r2,r2,1
  15235c:	e0bfff15 	stw	r2,-4(fp)
  152360:	e0bfff17 	ldw	r2,-4(fp)
  152364:	108003d0 	cmplti	r2,r2,15
  152368:	103ff21e 	bne	r2,zero,152334 <clear_saved_areas+0x13c>
    for (i = 0; i < MENU_SIZE_Y; i++)
        for (j = 0; j < ((MENU_SIZE_X + 7) / 8); j++)
	    saved_menu[i][j] = 0;

    /* clear general save area */
    for (i = 0; i < SAVE_SIZE_Y; i++)
  15236c:	e0bffe17 	ldw	r2,-8(fp)
  152370:	10800044 	addi	r2,r2,1
  152374:	e0bffe15 	stw	r2,-8(fp)
  152378:	e0bffe17 	ldw	r2,-8(fp)
  15237c:	10800410 	cmplti	r2,r2,16
  152380:	103fea1e 	bne	r2,zero,15232c <clear_saved_areas+0x134>
        for (j = 0; j < (SAVE_SIZE_X / 8); j++)
	    saved_area[i][j] = 0;


    /* done clearing the saved areas - return */
    return;
  152384:	0001883a 	nop

}
  152388:	e037883a 	mov	sp,fp
  15238c:	df000017 	ldw	fp,0(sp)
  152390:	dec00104 	addi	sp,sp,4
  152394:	f800283a 	ret

00152398 <restore_menu_trace>:
   Last Modified:    Mar. 13, 1994

*/

void  restore_menu_trace()
{
  152398:	defffa04 	addi	sp,sp,-24
  15239c:	dfc00515 	stw	ra,20(sp)
  1523a0:	df000415 	stw	fp,16(sp)
  1523a4:	df000404 	addi	fp,sp,16
    int  y;



    /* loop, restoring the trace under the menu */
    for (y = MENU_UL_Y; y < (MENU_UL_Y + MENU_SIZE_Y); y++)  {
  1523a8:	e03fff15 	stw	zero,-4(fp)
  1523ac:	00003206 	br	152478 <restore_menu_trace+0xe0>

        /* starting a row - initialize bit position */
	bit_position = 0x80;	/* start at high-order bit in the byte */
  1523b0:	00802004 	movi	r2,128
  1523b4:	e0bffc15 	stw	r2,-16(fp)
	bit_offset = 0;		/* first byte of the row */
  1523b8:	e03ffd15 	stw	zero,-12(fp)

        for (x = MENU_UL_X; x < (MENU_UL_X + MENU_SIZE_X); x++)  {
  1523bc:	00805e84 	movi	r2,378
  1523c0:	e0bffe15 	stw	r2,-8(fp)
  1523c4:	00002606 	br	152460 <restore_menu_trace+0xc8>

	    /* check if this point is on or off (need to look at bits) */
	    if ((saved_menu[y - MENU_UL_Y][bit_offset] & bit_position) == 0)
  1523c8:	00c00574 	movhi	r3,21
  1523cc:	18dd4c04 	addi	r3,r3,30000
  1523d0:	e0bfff17 	ldw	r2,-4(fp)
  1523d4:	11000324 	muli	r4,r2,12
  1523d8:	e0bffd17 	ldw	r2,-12(fp)
  1523dc:	2085883a 	add	r2,r4,r2
  1523e0:	1885883a 	add	r2,r3,r2
  1523e4:	10800003 	ldbu	r2,0(r2)
  1523e8:	10c03fcc 	andi	r3,r2,255
  1523ec:	e0bffc17 	ldw	r2,-16(fp)
  1523f0:	1884703a 	and	r2,r3,r2
  1523f4:	1000071e 	bne	r2,zero,152414 <restore_menu_trace+0x7c>
	        /* saved pixel is off */
		plot_pixel(x, y, PIXEL_WHITE);
  1523f8:	e0fffe17 	ldw	r3,-8(fp)
  1523fc:	e0bfff17 	ldw	r2,-4(fp)
  152400:	1809883a 	mov	r4,r3
  152404:	100b883a 	mov	r5,r2
  152408:	01bfdfd4 	movui	r6,65407
  15240c:	01536c40 	call	1536c4 <plot_pixel>
  152410:	00000606 	br	15242c <restore_menu_trace+0x94>
	    else
	        /* saved pixel is on */
		plot_pixel(x, y, PIXEL_BLACK);
  152414:	e0fffe17 	ldw	r3,-8(fp)
  152418:	e0bfff17 	ldw	r2,-4(fp)
  15241c:	1809883a 	mov	r4,r3
  152420:	100b883a 	mov	r5,r2
  152424:	000d883a 	mov	r6,zero
  152428:	01536c40 	call	1536c4 <plot_pixel>

	    /* move to the next bit position */
	    bit_position >>= 1;
  15242c:	e0bffc17 	ldw	r2,-16(fp)
  152430:	1005d07a 	srai	r2,r2,1
  152434:	e0bffc15 	stw	r2,-16(fp)
	    /* check if moving to next byte */
	    if (bit_position == 0)  {
  152438:	e0bffc17 	ldw	r2,-16(fp)
  15243c:	1000051e 	bne	r2,zero,152454 <restore_menu_trace+0xbc>
	        /* now on high bit of next byte */
		bit_position = 0x80;
  152440:	00802004 	movi	r2,128
  152444:	e0bffc15 	stw	r2,-16(fp)
		bit_offset++;
  152448:	e0bffd17 	ldw	r2,-12(fp)
  15244c:	10800044 	addi	r2,r2,1
  152450:	e0bffd15 	stw	r2,-12(fp)

        /* starting a row - initialize bit position */
	bit_position = 0x80;	/* start at high-order bit in the byte */
	bit_offset = 0;		/* first byte of the row */

        for (x = MENU_UL_X; x < (MENU_UL_X + MENU_SIZE_X); x++)  {
  152454:	e0bffe17 	ldw	r2,-8(fp)
  152458:	10800044 	addi	r2,r2,1
  15245c:	e0bffe15 	stw	r2,-8(fp)
  152460:	e0bffe17 	ldw	r2,-8(fp)
  152464:	10807690 	cmplti	r2,r2,474
  152468:	103fd71e 	bne	r2,zero,1523c8 <restore_menu_trace+0x30>
    int  y;



    /* loop, restoring the trace under the menu */
    for (y = MENU_UL_Y; y < (MENU_UL_Y + MENU_SIZE_Y); y++)  {
  15246c:	e0bfff17 	ldw	r2,-4(fp)
  152470:	10800044 	addi	r2,r2,1
  152474:	e0bfff15 	stw	r2,-4(fp)
  152478:	e0bfff17 	ldw	r2,-4(fp)
  15247c:	10800e10 	cmplti	r2,r2,56
  152480:	103fcb1e 	bne	r2,zero,1523b0 <restore_menu_trace+0x18>
        }
    }


    /* restored menu area - return */
    return;
  152484:	0001883a 	nop

}
  152488:	e037883a 	mov	sp,fp
  15248c:	dfc00117 	ldw	ra,4(sp)
  152490:	df000017 	ldw	fp,0(sp)
  152494:	dec00204 	addi	sp,sp,8
  152498:	f800283a 	ret

0015249c <set_save_area>:
   Last Modified:    Mar. 8, 1994

*/

void  set_save_area(int pos_x, int pos_y, int size_x, int size_y)
{
  15249c:	defff904 	addi	sp,sp,-28
  1524a0:	df000615 	stw	fp,24(sp)
  1524a4:	df000604 	addi	fp,sp,24
  1524a8:	e13ffc15 	stw	r4,-16(fp)
  1524ac:	e17ffd15 	stw	r5,-12(fp)
  1524b0:	e1bffe15 	stw	r6,-8(fp)
  1524b4:	e1ffff15 	stw	r7,-4(fp)
    int  y;



    /* just setup all the locally global variables from the passed values */
    saved_pos_x = pos_x;
  1524b8:	e0bffc17 	ldw	r2,-16(fp)
  1524bc:	d0a46315 	stw	r2,-28276(gp)
    saved_pos_y = pos_y;
  1524c0:	e0bffd17 	ldw	r2,-12(fp)
  1524c4:	d0a46015 	stw	r2,-28288(gp)
    saved_end_x = pos_x + size_x;
  1524c8:	e0fffc17 	ldw	r3,-16(fp)
  1524cc:	e0bffe17 	ldw	r2,-8(fp)
  1524d0:	1885883a 	add	r2,r3,r2
  1524d4:	d0a46215 	stw	r2,-28280(gp)
    saved_end_y = pos_y + size_y;
  1524d8:	e0fffd17 	ldw	r3,-12(fp)
  1524dc:	e0bfff17 	ldw	r2,-4(fp)
  1524e0:	1885883a 	add	r2,r3,r2
  1524e4:	d0a45f15 	stw	r2,-28292(gp)


    /* clear the save area */
    for (y = 0; y < SAVE_SIZE_Y; y++)  {
  1524e8:	e03ffb15 	stw	zero,-20(fp)
  1524ec:	00001306 	br	15253c <set_save_area+0xa0>
        for (x = 0; x < (SAVE_SIZE_X / 8); x++)  {
  1524f0:	e03ffa15 	stw	zero,-24(fp)
  1524f4:	00000b06 	br	152524 <set_save_area+0x88>
	    saved_area[y][x] = 0;
  1524f8:	00c00574 	movhi	r3,21
  1524fc:	18de9c84 	addi	r3,r3,31346
  152500:	e0bffb17 	ldw	r2,-20(fp)
  152504:	110003e4 	muli	r4,r2,15
  152508:	e0bffa17 	ldw	r2,-24(fp)
  15250c:	2085883a 	add	r2,r4,r2
  152510:	1885883a 	add	r2,r3,r2
  152514:	10000005 	stb	zero,0(r2)
    saved_end_y = pos_y + size_y;


    /* clear the save area */
    for (y = 0; y < SAVE_SIZE_Y; y++)  {
        for (x = 0; x < (SAVE_SIZE_X / 8); x++)  {
  152518:	e0bffa17 	ldw	r2,-24(fp)
  15251c:	10800044 	addi	r2,r2,1
  152520:	e0bffa15 	stw	r2,-24(fp)
  152524:	e0bffa17 	ldw	r2,-24(fp)
  152528:	108003d0 	cmplti	r2,r2,15
  15252c:	103ff21e 	bne	r2,zero,1524f8 <set_save_area+0x5c>
    saved_end_x = pos_x + size_x;
    saved_end_y = pos_y + size_y;


    /* clear the save area */
    for (y = 0; y < SAVE_SIZE_Y; y++)  {
  152530:	e0bffb17 	ldw	r2,-20(fp)
  152534:	10800044 	addi	r2,r2,1
  152538:	e0bffb15 	stw	r2,-20(fp)
  15253c:	e0bffb17 	ldw	r2,-20(fp)
  152540:	10800410 	cmplti	r2,r2,16
  152544:	103fea1e 	bne	r2,zero,1524f0 <set_save_area+0x54>
        }
    }


    /* setup the saved area - return */
    return;
  152548:	0001883a 	nop

}
  15254c:	e037883a 	mov	sp,fp
  152550:	df000017 	ldw	fp,0(sp)
  152554:	dec00104 	addi	sp,sp,4
  152558:	f800283a 	ret

0015255c <restore_trace>:
   Last Modified:    Mar. 13, 1994

*/

void  restore_trace()
{
  15255c:	defffa04 	addi	sp,sp,-24
  152560:	dfc00515 	stw	ra,20(sp)
  152564:	df000415 	stw	fp,16(sp)
  152568:	df000404 	addi	fp,sp,16
    int  y;



    /* loop, restoring the saved trace */
    for (y = saved_pos_y; y < saved_end_y; y++)  {
  15256c:	d0a46017 	ldw	r2,-28288(gp)
  152570:	e0bfff15 	stw	r2,-4(fp)
  152574:	00003406 	br	152648 <restore_trace+0xec>

        /* starting a row - initialize bit position */
	bit_position = 0x80;	/* start at high-order bit in the byte */
  152578:	00802004 	movi	r2,128
  15257c:	e0bffc15 	stw	r2,-16(fp)
	bit_offset = 0;		/* first byte of the row */
  152580:	e03ffd15 	stw	zero,-12(fp)

        for (x = saved_pos_x; x < saved_end_x; x++)  {
  152584:	d0a46317 	ldw	r2,-28276(gp)
  152588:	e0bffe15 	stw	r2,-8(fp)
  15258c:	00002806 	br	152630 <restore_trace+0xd4>

	    /* check if this point is on or off (need to look at bits) */
	    if ((saved_area[y - saved_pos_y][bit_offset] & bit_position) == 0)
  152590:	d0a46017 	ldw	r2,-28288(gp)
  152594:	e0ffff17 	ldw	r3,-4(fp)
  152598:	1885c83a 	sub	r2,r3,r2
  15259c:	00c00574 	movhi	r3,21
  1525a0:	18de9c84 	addi	r3,r3,31346
  1525a4:	110003e4 	muli	r4,r2,15
  1525a8:	e0bffd17 	ldw	r2,-12(fp)
  1525ac:	2085883a 	add	r2,r4,r2
  1525b0:	1885883a 	add	r2,r3,r2
  1525b4:	10800003 	ldbu	r2,0(r2)
  1525b8:	10c03fcc 	andi	r3,r2,255
  1525bc:	e0bffc17 	ldw	r2,-16(fp)
  1525c0:	1884703a 	and	r2,r3,r2
  1525c4:	1000071e 	bne	r2,zero,1525e4 <restore_trace+0x88>
	        /* saved pixel is off */
		plot_pixel(x, y, PIXEL_WHITE);
  1525c8:	e0fffe17 	ldw	r3,-8(fp)
  1525cc:	e0bfff17 	ldw	r2,-4(fp)
  1525d0:	1809883a 	mov	r4,r3
  1525d4:	100b883a 	mov	r5,r2
  1525d8:	01bfdfd4 	movui	r6,65407
  1525dc:	01536c40 	call	1536c4 <plot_pixel>
  1525e0:	00000606 	br	1525fc <restore_trace+0xa0>
	    else
	        /* saved pixel is on */
		plot_pixel(x, y, PIXEL_BLACK);
  1525e4:	e0fffe17 	ldw	r3,-8(fp)
  1525e8:	e0bfff17 	ldw	r2,-4(fp)
  1525ec:	1809883a 	mov	r4,r3
  1525f0:	100b883a 	mov	r5,r2
  1525f4:	000d883a 	mov	r6,zero
  1525f8:	01536c40 	call	1536c4 <plot_pixel>

	    /* move to the next bit position */
	    bit_position >>= 1;
  1525fc:	e0bffc17 	ldw	r2,-16(fp)
  152600:	1005d07a 	srai	r2,r2,1
  152604:	e0bffc15 	stw	r2,-16(fp)
	    /* check if moving to next byte */
	    if (bit_position == 0)  {
  152608:	e0bffc17 	ldw	r2,-16(fp)
  15260c:	1000051e 	bne	r2,zero,152624 <restore_trace+0xc8>
	        /* now on high bit of next byte */
		bit_position = 0x80;
  152610:	00802004 	movi	r2,128
  152614:	e0bffc15 	stw	r2,-16(fp)
		bit_offset++;
  152618:	e0bffd17 	ldw	r2,-12(fp)
  15261c:	10800044 	addi	r2,r2,1
  152620:	e0bffd15 	stw	r2,-12(fp)

        /* starting a row - initialize bit position */
	bit_position = 0x80;	/* start at high-order bit in the byte */
	bit_offset = 0;		/* first byte of the row */

        for (x = saved_pos_x; x < saved_end_x; x++)  {
  152624:	e0bffe17 	ldw	r2,-8(fp)
  152628:	10800044 	addi	r2,r2,1
  15262c:	e0bffe15 	stw	r2,-8(fp)
  152630:	d0a46217 	ldw	r2,-28280(gp)
  152634:	e0fffe17 	ldw	r3,-8(fp)
  152638:	18bfd516 	blt	r3,r2,152590 <restore_trace+0x34>
    int  y;



    /* loop, restoring the saved trace */
    for (y = saved_pos_y; y < saved_end_y; y++)  {
  15263c:	e0bfff17 	ldw	r2,-4(fp)
  152640:	10800044 	addi	r2,r2,1
  152644:	e0bfff15 	stw	r2,-4(fp)
  152648:	d0a45f17 	ldw	r2,-28292(gp)
  15264c:	e0ffff17 	ldw	r3,-4(fp)
  152650:	18bfc916 	blt	r3,r2,152578 <restore_trace+0x1c>
        }
    }


    /* restored the saved area - return */
    return;
  152654:	0001883a 	nop

}
  152658:	e037883a 	mov	sp,fp
  15265c:	dfc00117 	ldw	ra,4(sp)
  152660:	df000017 	ldw	fp,0(sp)
  152664:	dec00204 	addi	sp,sp,8
  152668:	f800283a 	ret

0015266c <do_trace>:
   Last Modified:    Mar. 13, 1994

*/

void  do_trace()
{
  15266c:	defffe04 	addi	sp,sp,-8
  152670:	dfc00115 	stw	ra,4(sp)
  152674:	df000015 	stw	fp,0(sp)
  152678:	d839883a 	mov	fp,sp



    /* start up the trace */
    /* indicate whether using automatic triggering or not */
    start_sample(get_trigger_mode() == AUTO_TRIGGER);
  15267c:	0150f000 	call	150f00 <get_trigger_mode>
  152680:	10800060 	cmpeqi	r2,r2,1
  152684:	10803fcc 	andi	r2,r2,255
  152688:	1009883a 	mov	r4,r2
  15268c:	01538180 	call	153818 <start_sample>

    /* now not ready for another trace (currently doing one) */
    trace_status = FALSE;
  152690:	d0245e15 	stw	zero,-28296(gp)

    /* and are currently sampling data */
    sampling = TRUE;
  152694:	00800044 	movi	r2,1
  152698:	d0a46415 	stw	r2,-28272(gp)


    /* trace is going, return */
    return;
  15269c:	0001883a 	nop

}
  1526a0:	e037883a 	mov	sp,fp
  1526a4:	dfc00117 	ldw	ra,4(sp)
  1526a8:	df000017 	ldw	fp,0(sp)
  1526ac:	dec00204 	addi	sp,sp,8
  1526b0:	f800283a 	ret

001526b4 <plot_trace>:
   Last Modified:    May 9, 2006

*/

void  plot_trace(unsigned char **sample)
{
  1526b4:	defff004 	addi	sp,sp,-64
  1526b8:	dfc00f15 	stw	ra,60(sp)
  1526bc:	df000e15 	stw	fp,56(sp)
  1526c0:	df000e04 	addi	fp,sp,56
  1526c4:	e13fff15 	stw	r4,-4(fp)
    /* variables */
    int x = 0;						/* current x position to plot */
  1526c8:	e03ff615 	stw	zero,-40(fp)
    int x_pos = (PLOT_SIZE_X / 2);	/* "fine" x position for multiple point plotting */
  1526cc:	00803c04 	movi	r2,240
  1526d0:	e0bff715 	stw	r2,-36(fp)
    //clear_saved_areas();

    /* re-display the menu (if it was on) */
    //refresh_menu();

    unsigned char *sample_A = sample[0];
  1526d4:	e0bfff17 	ldw	r2,-4(fp)
  1526d8:	10800017 	ldw	r2,0(r2)
  1526dc:	e0bff815 	stw	r2,-32(fp)
    unsigned char *sample_B = sample[2];
  1526e0:	e0bfff17 	ldw	r2,-4(fp)
  1526e4:	10800217 	ldw	r2,8(r2)
  1526e8:	e0bff915 	stw	r2,-28(fp)
    unsigned char *sample_L = sample[4];
  1526ec:	e0bfff17 	ldw	r2,-4(fp)
  1526f0:	10800417 	ldw	r2,16(r2)
  1526f4:	e0bffa15 	stw	r2,-24(fp)

    // Get the screen coordinates.
    for (i = 0; i < sample_size; i++)  {
  1526f8:	e03ff215 	stw	zero,-56(fp)
  1526fc:	00002306 	br	15278c <plot_trace+0xd8>
        // Determine y position of point (note: screen coordinates invert).
        yA = (PLOT_SIZE_Y - 1) - ((sample_A[i] * (PLOT_SIZE_Y - 1)) / 255) + 8;
  152700:	e0bff217 	ldw	r2,-56(fp)
  152704:	e0fff817 	ldw	r3,-32(fp)
  152708:	1885883a 	add	r2,r3,r2
  15270c:	10800003 	ldbu	r2,0(r2)
  152710:	10803fcc 	andi	r2,r2,255
  152714:	10c043e4 	muli	r3,r2,271
  152718:	00803fc4 	movi	r2,255
  15271c:	1885283a 	div	r2,r3,r2
  152720:	00c045c4 	movi	r3,279
  152724:	1885c83a 	sub	r2,r3,r2
  152728:	e0bffb15 	stw	r2,-20(fp)
        yB = (PLOT_SIZE_Y - 1) - ((sample_B[i] * (PLOT_SIZE_Y - 1)) / 255) + 8;
  15272c:	e0bff217 	ldw	r2,-56(fp)
  152730:	e0fff917 	ldw	r3,-28(fp)
  152734:	1885883a 	add	r2,r3,r2
  152738:	10800003 	ldbu	r2,0(r2)
  15273c:	10803fcc 	andi	r2,r2,255
  152740:	10c043e4 	muli	r3,r2,271
  152744:	00803fc4 	movi	r2,255
  152748:	1885283a 	div	r2,r3,r2
  15274c:	00c045c4 	movi	r3,279
  152750:	1885c83a 	sub	r2,r3,r2
  152754:	e0bffc15 	stw	r2,-16(fp)

        sample_A[i] = yA;
  152758:	e0bff217 	ldw	r2,-56(fp)
  15275c:	e0fff817 	ldw	r3,-32(fp)
  152760:	1885883a 	add	r2,r3,r2
  152764:	e0fffb17 	ldw	r3,-20(fp)
  152768:	10c00005 	stb	r3,0(r2)
        sample_B[i] = yB;
  15276c:	e0bff217 	ldw	r2,-56(fp)
  152770:	e0fff917 	ldw	r3,-28(fp)
  152774:	1885883a 	add	r2,r3,r2
  152778:	e0fffc17 	ldw	r3,-16(fp)
  15277c:	10c00005 	stb	r3,0(r2)
    unsigned char *sample_A = sample[0];
    unsigned char *sample_B = sample[2];
    unsigned char *sample_L = sample[4];

    // Get the screen coordinates.
    for (i = 0; i < sample_size; i++)  {
  152780:	e0bff217 	ldw	r2,-56(fp)
  152784:	10800044 	addi	r2,r2,1
  152788:	e0bff215 	stw	r2,-56(fp)
  15278c:	d0a46117 	ldw	r2,-28284(gp)
  152790:	e0fff217 	ldw	r3,-56(fp)
  152794:	18bfda16 	blt	r3,r2,152700 <plot_trace+0x4c>
        sample_A[i] = yA;
        sample_B[i] = yB;
    }

    // Clear the last trace.
    for (i = 0; i < sample_size - 1; i++) {
  152798:	e03ff215 	stw	zero,-56(fp)
  15279c:	00009906 	br	152a04 <plot_trace+0x350>
    	for (j = min(saved_trace_A[i], saved_trace_A[i+1]); j <= max(saved_trace_A[i], saved_trace_A[i+1]); j++) {
  1527a0:	00c00574 	movhi	r3,21
  1527a4:	18dc5c04 	addi	r3,r3,29040
  1527a8:	e0bff217 	ldw	r2,-56(fp)
  1527ac:	1885883a 	add	r2,r3,r2
  1527b0:	10800003 	ldbu	r2,0(r2)
  1527b4:	e0bffd05 	stb	r2,-12(fp)
  1527b8:	e0bff217 	ldw	r2,-56(fp)
  1527bc:	10800044 	addi	r2,r2,1
  1527c0:	00c00574 	movhi	r3,21
  1527c4:	18dc5c04 	addi	r3,r3,29040
  1527c8:	1885883a 	add	r2,r3,r2
  1527cc:	10800003 	ldbu	r2,0(r2)
  1527d0:	e0bffd45 	stb	r2,-11(fp)
  1527d4:	e0fffd03 	ldbu	r3,-12(fp)
  1527d8:	e0bffd43 	ldbu	r2,-11(fp)
  1527dc:	1880022e 	bgeu	r3,r2,1527e8 <plot_trace+0x134>
  1527e0:	e0bffd03 	ldbu	r2,-12(fp)
  1527e4:	00000106 	br	1527ec <plot_trace+0x138>
  1527e8:	e0bffd43 	ldbu	r2,-11(fp)
  1527ec:	e0bff315 	stw	r2,-52(fp)
  1527f0:	00002006 	br	152874 <plot_trace+0x1c0>
    		for (ii = -1; ii <= 1; ii++) {
  1527f4:	00bfffc4 	movi	r2,-1
  1527f8:	e0bff415 	stw	r2,-48(fp)
  1527fc:	00001706 	br	15285c <plot_trace+0x1a8>
    			for (jj = -1; jj <= 1; jj++) {
  152800:	00bfffc4 	movi	r2,-1
  152804:	e0bff515 	stw	r2,-44(fp)
  152808:	00000e06 	br	152844 <plot_trace+0x190>
    				plot_pixel(i + ii, j + jj, PIXEL_BGND);
  15280c:	e0fff217 	ldw	r3,-56(fp)
  152810:	e0bff417 	ldw	r2,-48(fp)
  152814:	1885883a 	add	r2,r3,r2
  152818:	1007883a 	mov	r3,r2
  15281c:	e13ff317 	ldw	r4,-52(fp)
  152820:	e0bff517 	ldw	r2,-44(fp)
  152824:	2085883a 	add	r2,r4,r2
  152828:	1809883a 	mov	r4,r3
  15282c:	100b883a 	mov	r5,r2
  152830:	01800704 	movi	r6,28
  152834:	01536c40 	call	1536c4 <plot_pixel>

    // Clear the last trace.
    for (i = 0; i < sample_size - 1; i++) {
    	for (j = min(saved_trace_A[i], saved_trace_A[i+1]); j <= max(saved_trace_A[i], saved_trace_A[i+1]); j++) {
    		for (ii = -1; ii <= 1; ii++) {
    			for (jj = -1; jj <= 1; jj++) {
  152838:	e0bff517 	ldw	r2,-44(fp)
  15283c:	10800044 	addi	r2,r2,1
  152840:	e0bff515 	stw	r2,-44(fp)
  152844:	e0bff517 	ldw	r2,-44(fp)
  152848:	10800090 	cmplti	r2,r2,2
  15284c:	103fef1e 	bne	r2,zero,15280c <plot_trace+0x158>
    }

    // Clear the last trace.
    for (i = 0; i < sample_size - 1; i++) {
    	for (j = min(saved_trace_A[i], saved_trace_A[i+1]); j <= max(saved_trace_A[i], saved_trace_A[i+1]); j++) {
    		for (ii = -1; ii <= 1; ii++) {
  152850:	e0bff417 	ldw	r2,-48(fp)
  152854:	10800044 	addi	r2,r2,1
  152858:	e0bff415 	stw	r2,-48(fp)
  15285c:	e0bff417 	ldw	r2,-48(fp)
  152860:	10800090 	cmplti	r2,r2,2
  152864:	103fe61e 	bne	r2,zero,152800 <plot_trace+0x14c>
        sample_B[i] = yB;
    }

    // Clear the last trace.
    for (i = 0; i < sample_size - 1; i++) {
    	for (j = min(saved_trace_A[i], saved_trace_A[i+1]); j <= max(saved_trace_A[i], saved_trace_A[i+1]); j++) {
  152868:	e0bff317 	ldw	r2,-52(fp)
  15286c:	10800044 	addi	r2,r2,1
  152870:	e0bff315 	stw	r2,-52(fp)
  152874:	00c00574 	movhi	r3,21
  152878:	18dc5c04 	addi	r3,r3,29040
  15287c:	e0bff217 	ldw	r2,-56(fp)
  152880:	1885883a 	add	r2,r3,r2
  152884:	10800003 	ldbu	r2,0(r2)
  152888:	e0bffd85 	stb	r2,-10(fp)
  15288c:	e0bff217 	ldw	r2,-56(fp)
  152890:	10800044 	addi	r2,r2,1
  152894:	00c00574 	movhi	r3,21
  152898:	18dc5c04 	addi	r3,r3,29040
  15289c:	1885883a 	add	r2,r3,r2
  1528a0:	10800003 	ldbu	r2,0(r2)
  1528a4:	e0bffdc5 	stb	r2,-9(fp)
  1528a8:	e0bffd83 	ldbu	r2,-10(fp)
  1528ac:	e0fffdc3 	ldbu	r3,-9(fp)
  1528b0:	1880022e 	bgeu	r3,r2,1528bc <plot_trace+0x208>
  1528b4:	e0bffd83 	ldbu	r2,-10(fp)
  1528b8:	00000106 	br	1528c0 <plot_trace+0x20c>
  1528bc:	e0bffdc3 	ldbu	r2,-9(fp)
  1528c0:	1007883a 	mov	r3,r2
  1528c4:	e0bff317 	ldw	r2,-52(fp)
  1528c8:	18bfca0e 	bge	r3,r2,1527f4 <plot_trace+0x140>
    			for (jj = -1; jj <= 1; jj++) {
    				plot_pixel(i + ii, j + jj, PIXEL_BGND);
    			}
    		}
    	}
    	for (j = min(saved_trace_B[i], saved_trace_B[i+1]); j <= max(saved_trace_B[i], saved_trace_B[i+1]); j++) {
  1528cc:	00c00574 	movhi	r3,21
  1528d0:	18dcd404 	addi	r3,r3,29520
  1528d4:	e0bff217 	ldw	r2,-56(fp)
  1528d8:	1885883a 	add	r2,r3,r2
  1528dc:	10800003 	ldbu	r2,0(r2)
  1528e0:	e0bffe05 	stb	r2,-8(fp)
  1528e4:	e0bff217 	ldw	r2,-56(fp)
  1528e8:	10800044 	addi	r2,r2,1
  1528ec:	00c00574 	movhi	r3,21
  1528f0:	18dcd404 	addi	r3,r3,29520
  1528f4:	1885883a 	add	r2,r3,r2
  1528f8:	10800003 	ldbu	r2,0(r2)
  1528fc:	e0bffe45 	stb	r2,-7(fp)
  152900:	e0fffe03 	ldbu	r3,-8(fp)
  152904:	e0bffe43 	ldbu	r2,-7(fp)
  152908:	1880022e 	bgeu	r3,r2,152914 <plot_trace+0x260>
  15290c:	e0bffe03 	ldbu	r2,-8(fp)
  152910:	00000106 	br	152918 <plot_trace+0x264>
  152914:	e0bffe43 	ldbu	r2,-7(fp)
  152918:	e0bff315 	stw	r2,-52(fp)
  15291c:	00002006 	br	1529a0 <plot_trace+0x2ec>
    		for (ii = -1; ii <= 1; ii++) {
  152920:	00bfffc4 	movi	r2,-1
  152924:	e0bff415 	stw	r2,-48(fp)
  152928:	00001706 	br	152988 <plot_trace+0x2d4>
    			for (jj = -1; jj <= 1; jj++) {
  15292c:	00bfffc4 	movi	r2,-1
  152930:	e0bff515 	stw	r2,-44(fp)
  152934:	00000e06 	br	152970 <plot_trace+0x2bc>
    				plot_pixel(i + ii, j + jj, PIXEL_BGND);
  152938:	e0fff217 	ldw	r3,-56(fp)
  15293c:	e0bff417 	ldw	r2,-48(fp)
  152940:	1885883a 	add	r2,r3,r2
  152944:	1007883a 	mov	r3,r2
  152948:	e13ff317 	ldw	r4,-52(fp)
  15294c:	e0bff517 	ldw	r2,-44(fp)
  152950:	2085883a 	add	r2,r4,r2
  152954:	1809883a 	mov	r4,r3
  152958:	100b883a 	mov	r5,r2
  15295c:	01800704 	movi	r6,28
  152960:	01536c40 	call	1536c4 <plot_pixel>
    			}
    		}
    	}
    	for (j = min(saved_trace_B[i], saved_trace_B[i+1]); j <= max(saved_trace_B[i], saved_trace_B[i+1]); j++) {
    		for (ii = -1; ii <= 1; ii++) {
    			for (jj = -1; jj <= 1; jj++) {
  152964:	e0bff517 	ldw	r2,-44(fp)
  152968:	10800044 	addi	r2,r2,1
  15296c:	e0bff515 	stw	r2,-44(fp)
  152970:	e0bff517 	ldw	r2,-44(fp)
  152974:	10800090 	cmplti	r2,r2,2
  152978:	103fef1e 	bne	r2,zero,152938 <plot_trace+0x284>
    				plot_pixel(i + ii, j + jj, PIXEL_BGND);
    			}
    		}
    	}
    	for (j = min(saved_trace_B[i], saved_trace_B[i+1]); j <= max(saved_trace_B[i], saved_trace_B[i+1]); j++) {
    		for (ii = -1; ii <= 1; ii++) {
  15297c:	e0bff417 	ldw	r2,-48(fp)
  152980:	10800044 	addi	r2,r2,1
  152984:	e0bff415 	stw	r2,-48(fp)
  152988:	e0bff417 	ldw	r2,-48(fp)
  15298c:	10800090 	cmplti	r2,r2,2
  152990:	103fe61e 	bne	r2,zero,15292c <plot_trace+0x278>
    			for (jj = -1; jj <= 1; jj++) {
    				plot_pixel(i + ii, j + jj, PIXEL_BGND);
    			}
    		}
    	}
    	for (j = min(saved_trace_B[i], saved_trace_B[i+1]); j <= max(saved_trace_B[i], saved_trace_B[i+1]); j++) {
  152994:	e0bff317 	ldw	r2,-52(fp)
  152998:	10800044 	addi	r2,r2,1
  15299c:	e0bff315 	stw	r2,-52(fp)
  1529a0:	00c00574 	movhi	r3,21
  1529a4:	18dcd404 	addi	r3,r3,29520
  1529a8:	e0bff217 	ldw	r2,-56(fp)
  1529ac:	1885883a 	add	r2,r3,r2
  1529b0:	10800003 	ldbu	r2,0(r2)
  1529b4:	e0bffe85 	stb	r2,-6(fp)
  1529b8:	e0bff217 	ldw	r2,-56(fp)
  1529bc:	10800044 	addi	r2,r2,1
  1529c0:	00c00574 	movhi	r3,21
  1529c4:	18dcd404 	addi	r3,r3,29520
  1529c8:	1885883a 	add	r2,r3,r2
  1529cc:	10800003 	ldbu	r2,0(r2)
  1529d0:	e0bffec5 	stb	r2,-5(fp)
  1529d4:	e0bffe83 	ldbu	r2,-6(fp)
  1529d8:	e0fffec3 	ldbu	r3,-5(fp)
  1529dc:	1880022e 	bgeu	r3,r2,1529e8 <plot_trace+0x334>
  1529e0:	e0bffe83 	ldbu	r2,-6(fp)
  1529e4:	00000106 	br	1529ec <plot_trace+0x338>
  1529e8:	e0bffec3 	ldbu	r2,-5(fp)
  1529ec:	1007883a 	mov	r3,r2
  1529f0:	e0bff317 	ldw	r2,-52(fp)
  1529f4:	18bfca0e 	bge	r3,r2,152920 <plot_trace+0x26c>
        sample_A[i] = yA;
        sample_B[i] = yB;
    }

    // Clear the last trace.
    for (i = 0; i < sample_size - 1; i++) {
  1529f8:	e0bff217 	ldw	r2,-56(fp)
  1529fc:	10800044 	addi	r2,r2,1
  152a00:	e0bff215 	stw	r2,-56(fp)
  152a04:	d0a46117 	ldw	r2,-28284(gp)
  152a08:	10bfffc4 	addi	r2,r2,-1
  152a0c:	e0fff217 	ldw	r3,-56(fp)
  152a10:	18bf6316 	blt	r3,r2,1527a0 <plot_trace+0xec>
    		}
    	}
    }

    // Update the saved trace arrays.
    for (i = 0; i < sample_size; i++) {
  152a14:	e03ff215 	stw	zero,-56(fp)
  152a18:	00001e06 	br	152a94 <plot_trace+0x3e0>
    	saved_trace_A[i] = sample_A[i];
  152a1c:	e0bff217 	ldw	r2,-56(fp)
  152a20:	e0fff817 	ldw	r3,-32(fp)
  152a24:	1885883a 	add	r2,r3,r2
  152a28:	10c00003 	ldbu	r3,0(r2)
  152a2c:	01000574 	movhi	r4,21
  152a30:	211c5c04 	addi	r4,r4,29040
  152a34:	e0bff217 	ldw	r2,-56(fp)
  152a38:	2085883a 	add	r2,r4,r2
  152a3c:	10c00005 	stb	r3,0(r2)
    	saved_trace_B[i] = sample_B[i];
  152a40:	e0bff217 	ldw	r2,-56(fp)
  152a44:	e0fff917 	ldw	r3,-28(fp)
  152a48:	1885883a 	add	r2,r3,r2
  152a4c:	10c00003 	ldbu	r3,0(r2)
  152a50:	01000574 	movhi	r4,21
  152a54:	211cd404 	addi	r4,r4,29520
  152a58:	e0bff217 	ldw	r2,-56(fp)
  152a5c:	2085883a 	add	r2,r4,r2
  152a60:	10c00005 	stb	r3,0(r2)
    	saved_trace_L[i] = sample_L[i];
  152a64:	e0bff217 	ldw	r2,-56(fp)
  152a68:	e0fffa17 	ldw	r3,-24(fp)
  152a6c:	1885883a 	add	r2,r3,r2
  152a70:	10c00003 	ldbu	r3,0(r2)
  152a74:	01000574 	movhi	r4,21
  152a78:	211ed884 	addi	r4,r4,31586
  152a7c:	e0bff217 	ldw	r2,-56(fp)
  152a80:	2085883a 	add	r2,r4,r2
  152a84:	10c00005 	stb	r3,0(r2)
    		}
    	}
    }

    // Update the saved trace arrays.
    for (i = 0; i < sample_size; i++) {
  152a88:	e0bff217 	ldw	r2,-56(fp)
  152a8c:	10800044 	addi	r2,r2,1
  152a90:	e0bff215 	stw	r2,-56(fp)
  152a94:	d0a46117 	ldw	r2,-28284(gp)
  152a98:	e0fff217 	ldw	r3,-56(fp)
  152a9c:	18bfdf16 	blt	r3,r2,152a1c <plot_trace+0x368>
        	plot_pixel(i, j, PIXEL_B_1);
       	}
    }*/

    // Draw the points.
    for (i = 0; i < sample_size - 1; i++) {
  152aa0:	e03ff215 	stw	zero,-56(fp)
  152aa4:	00001906 	br	152b0c <plot_trace+0x458>
        plot_pixel(i, saved_trace_A[i], PIXEL_A_0);
  152aa8:	e0fff217 	ldw	r3,-56(fp)
  152aac:	01000574 	movhi	r4,21
  152ab0:	211c5c04 	addi	r4,r4,29040
  152ab4:	e0bff217 	ldw	r2,-56(fp)
  152ab8:	2085883a 	add	r2,r4,r2
  152abc:	10800003 	ldbu	r2,0(r2)
  152ac0:	10803fcc 	andi	r2,r2,255
  152ac4:	1809883a 	mov	r4,r3
  152ac8:	100b883a 	mov	r5,r2
  152acc:	01801fc4 	movi	r6,127
  152ad0:	01536c40 	call	1536c4 <plot_pixel>
        plot_pixel(i, saved_trace_B[i], PIXEL_B_0);
  152ad4:	e0fff217 	ldw	r3,-56(fp)
  152ad8:	01000574 	movhi	r4,21
  152adc:	211cd404 	addi	r4,r4,29520
  152ae0:	e0bff217 	ldw	r2,-56(fp)
  152ae4:	2085883a 	add	r2,r4,r2
  152ae8:	10800003 	ldbu	r2,0(r2)
  152aec:	10803fcc 	andi	r2,r2,255
  152af0:	1809883a 	mov	r4,r3
  152af4:	100b883a 	mov	r5,r2
  152af8:	01bfc054 	movui	r6,65281
  152afc:	01536c40 	call	1536c4 <plot_pixel>
        	plot_pixel(i, j, PIXEL_B_1);
       	}
    }*/

    // Draw the points.
    for (i = 0; i < sample_size - 1; i++) {
  152b00:	e0bff217 	ldw	r2,-56(fp)
  152b04:	10800044 	addi	r2,r2,1
  152b08:	e0bff215 	stw	r2,-56(fp)
  152b0c:	d0a46117 	ldw	r2,-28284(gp)
  152b10:	10bfffc4 	addi	r2,r2,-1
  152b14:	e0fff217 	ldw	r3,-56(fp)
  152b18:	18bfe316 	blt	r3,r2,152aa8 <plot_trace+0x3f4>
		}
    }*/


    /* finally, output the scale if need be */
    set_display_scale(cur_scale);
  152b1c:	d0a45d17 	ldw	r2,-28300(gp)
  152b20:	1009883a 	mov	r4,r2
  152b24:	0151e2c0 	call	151e2c <set_display_scale>


    /* done with plot, return */
    return;
  152b28:	0001883a 	nop

}
  152b2c:	e037883a 	mov	sp,fp
  152b30:	dfc00117 	ldw	ra,4(sp)
  152b34:	df000017 	ldw	fp,0(sp)
  152b38:	dec00204 	addi	sp,sp,8
  152b3c:	f800283a 	ret

00152b40 <key_int_installer>:

.global key_int_installer
.type	key_int_installer, @function

key_int_installer:
	SAVE
  152b40:	deffff04 	addi	sp,sp,-4
  152b44:	dfc00015 	stw	ra,0(sp)
  152b48:	deffff04 	addi	sp,sp,-4
  152b4c:	df000015 	stw	fp,0(sp)
  152b50:	d839883a 	mov	fp,sp
  152b54:	02000574 	movhi	r8,21

	# asdf
	movia	r8, adc_speed
  152b58:	4213b404 	addi	r8,r8,20176
	movi	r9, 0x040000
  152b5c:	02400134 	movhi	r9,4
	stw		r9, (r8)
  152b60:	42400015 	stw	r9,0(r8)
  152b64:	02000574 	movhi	r8,21
	movia	r8, trig_level
  152b68:	4213b584 	addi	r8,r8,20182
	movi	r9, 0
  152b6c:	02400004 	movi	r9,0
	stb		r9, (r8)
  152b70:	42400005 	stb	r9,0(r8)
  152b74:	02000574 	movhi	r8,21
	movia	r8, trig_delay
  152b78:	4213b504 	addi	r8,r8,20180
	movi	r9, 240
  152b7c:	02403c04 	movi	r9,240
	sth		r9, (r8)
  152b80:	4240000d 	sth	r9,0(r8)
	# asdf

	# Enable all switch interrupts.
	movhi	r8, %hi(KEY_INPUT_BASE)
  152b84:	020005b4 	movhi	r8,22
	ori		r8, r8, %lo(KEY_INPUT_BASE)
  152b88:	42046c14 	ori	r8,r8,4528
	movhi	r9, %hi(SWITCH_ALL)
  152b8c:	024003f4 	movhi	r9,15
	ori		r9, r9, %lo(SWITCH_ALL)
  152b90:	4a7fffd4 	ori	r9,r9,65535
	stw		r9, PIO_IRQ_MASK(r8)
  152b94:	42400215 	stw	r9,8(r8)

	# Install the interrupt handler
	mov		r4, r0
  152b98:	0009883a 	mov	r4,zero
	movi	r5, KEY_INPUT_IRQ
  152b9c:	01400144 	movi	r5,5
	movhi	r6, %hi(key_handler)
  152ba0:	01800574 	movhi	r6,21
	ori		r6, r6, %lo(key_handler)
  152ba4:	318af614 	ori	r6,r6,11224
	mov		r7, r0
  152ba8:	000f883a 	mov	r7,zero
	PUSH	r0
  152bac:	deffff04 	addi	sp,sp,-4
  152bb0:	d8000015 	stw	zero,0(sp)
	call	alt_ic_isr_register
  152bb4:	0153c400 	call	153c40 <alt_ic_isr_register>
	POP		r0
  152bb8:	d8000017 	ldw	zero,0(sp)
  152bbc:	dec00104 	addi	sp,sp,4

00152bc0 <key_int_installer_done>:

key_int_installer_done:
	RESTORE
  152bc0:	e037883a 	mov	sp,fp
  152bc4:	df000017 	ldw	fp,0(sp)
  152bc8:	dec00104 	addi	sp,sp,4
  152bcc:	dfc00017 	ldw	ra,0(sp)
  152bd0:	dec00104 	addi	sp,sp,4
	ret
  152bd4:	f800283a 	ret

00152bd8 <key_handler>:
 */

.type key_handler,@function

key_handler:
	SAVE
  152bd8:	deffff04 	addi	sp,sp,-4
  152bdc:	dfc00015 	stw	ra,0(sp)
  152be0:	deffff04 	addi	sp,sp,-4
  152be4:	df000015 	stw	fp,0(sp)
  152be8:	d839883a 	mov	fp,sp

	# Key should now be available. Update key_press.
	movi	r8, 1
  152bec:	02000044 	movi	r8,1
  152bf0:	02400574 	movhi	r9,21
	movia	r9, key_press
  152bf4:	4a53b004 	addi	r9,r9,20160
	stb		r8, (r9)
  152bf8:	4a000005 	stb	r8,0(r9)

	# Clear interrupts.
	movhi	r8, %hi(KEY_INPUT_BASE)
  152bfc:	020005b4 	movhi	r8,22
	ori		r8, r8, %lo(KEY_INPUT_BASE)
  152c00:	42046c14 	ori	r8,r8,4528
	stw		r0, PIO_IRQ_MASK(r8)
  152c04:	40000215 	stw	zero,8(r8)

	# Get the edge capture register.
	movhi	r8, %hi(KEY_INPUT_BASE)
  152c08:	020005b4 	movhi	r8,22
	ori		r8, r8, %lo(KEY_INPUT_BASE)
  152c0c:	42046c14 	ori	r8,r8,4528
	ldw		r8, PIO_EDGE_CAP(r8)
  152c10:	42000317 	ldw	r8,12(r8)

	# Check each bit (starting at 0) and see if set.
	movi	r9, 1
  152c14:	02400044 	movi	r9,1
	movi	r11, 0
  152c18:	02c00004 	movi	r11,0

00152c1c <loop_keys>:

loop_keys:
	and		r10, r8, r9
  152c1c:	4254703a 	and	r10,r8,r9
	bne		r10, r0, key_lookup
  152c20:	5000031e 	bne	r10,zero,152c30 <key_lookup>
	slli	r9, r9, 1
  152c24:	4812907a 	slli	r9,r9,1
	addi	r11, r11, 1
  152c28:	5ac00044 	addi	r11,r11,1
	br		loop_keys
  152c2c:	003ffb06 	br	152c1c <loop_keys>

00152c30 <key_lookup>:
  152c30:	02000574 	movhi	r8,21

	# Once the key is found (r11), use the lookup table to set key_value.
key_lookup:
	movia	r8, key_map
  152c34:	420c4304 	addi	r8,r8,12556
	add		r8, r8, r11
  152c38:	42d1883a 	add	r8,r8,r11
	ldb		r8,	(r8)
  152c3c:	42000007 	ldb	r8,0(r8)
  152c40:	02800574 	movhi	r10,21

	movia	r10, key_value
  152c44:	5293b044 	addi	r10,r10,20161
	stb		r8, (r10)
  152c48:	52000005 	stb	r8,0(r10)

	# Remove later!!!
	movi	r12, 10
  152c4c:	03000284 	movi	r12,10
	beq		r11, r12, inc_speed
  152c50:	5b004126 	beq	r11,r12,152d58 <inc_speed>
	movi	r12, 11
  152c54:	030002c4 	movi	r12,11
	beq		r11, r12, dec_speed
  152c58:	5b001826 	beq	r11,r12,152cbc <dec_speed>

	movi	r12, 16
  152c5c:	03000404 	movi	r12,16
	beq		r11, r12, inc_level
  152c60:	5b008b26 	beq	r11,r12,152e90 <inc_level>
	movi	r12, 17
  152c64:	03000444 	movi	r12,17
	beq		r11, r12, dec_level
  152c68:	5b006426 	beq	r11,r12,152dfc <dec_level>

	movi	r12, 18
  152c6c:	03000484 	movi	r12,18
	beq		r11, r12, inc_delay
  152c70:	5b00d526 	beq	r11,r12,152fc8 <inc_delay>
	movi	r12, 19
  152c74:	030004c4 	movi	r12,19
	beq		r11, r12, dec_delay
  152c78:	5b00af26 	beq	r11,r12,152f38 <dec_delay>

00152c7c <key_lookup_cont>:
key_lookup_cont:
	# <END Remove later!!!>

	# Clear the edge capture register (write 1 to clear).
	movhi	r8, %hi(KEY_INPUT_BASE)
  152c7c:	020005b4 	movhi	r8,22
	ori		r8, r8, %lo(KEY_INPUT_BASE)
  152c80:	42046c14 	ori	r8,r8,4528
	movhi	r9, %hi(SWITCH_ALL)
  152c84:	024003f4 	movhi	r9,15
	ori		r9, r9, %lo(SWITCH_ALL)
  152c88:	4a7fffd4 	ori	r9,r9,65535
	stw		r9, PIO_EDGE_CAP(r8)
  152c8c:	42400315 	stw	r9,12(r8)

	# Re-enable interrupts.
	movhi	r8, %hi(KEY_INPUT_BASE)
  152c90:	020005b4 	movhi	r8,22
	ori		r8, r8, %lo(KEY_INPUT_BASE)
  152c94:	42046c14 	ori	r8,r8,4528
	movhi	r9, %hi(SWITCH_ALL)
  152c98:	024003f4 	movhi	r9,15
	ori		r9, r9, %lo(SWITCH_ALL)
  152c9c:	4a7fffd4 	ori	r9,r9,65535
	stw		r9, PIO_IRQ_MASK(r8)
  152ca0:	42400215 	stw	r9,8(r8)

00152ca4 <key_handler_done>:

key_handler_done:
	RESTORE
  152ca4:	e037883a 	mov	sp,fp
  152ca8:	df000017 	ldw	fp,0(sp)
  152cac:	dec00104 	addi	sp,sp,4
  152cb0:	dfc00017 	ldw	ra,0(sp)
  152cb4:	dec00104 	addi	sp,sp,4
	ret
  152cb8:	f800283a 	ret

00152cbc <dec_speed>:
  152cbc:	03400574 	movhi	r13,21

# hashtag
dec_speed:
	movia	r13, adc_speed
  152cc0:	6b53b404 	addi	r13,r13,20176
	ldw		r14, (r13)
  152cc4:	6b800017 	ldw	r14,0(r13)
	slli	r14, r14, 1
  152cc8:	701c907a 	slli	r14,r14,1
	MOVWI	r15, 0x00FFFFFF
  152ccc:	03c03ff4 	movhi	r15,255
  152cd0:	7bffffd4 	ori	r15,r15,65535
	and		r14, r14, r15
  152cd4:	73dc703a 	and	r14,r14,r15
	beq		r14, r0, set_speed_2
  152cd8:	70004526 	beq	r14,zero,152df0 <set_speed_2>

00152cdc <dec_speed_cont>:
dec_speed_cont:
	MOVWI	r15, ADC_RATE_BASE
  152cdc:	03c005b4 	movhi	r15,22
  152ce0:	7bc46414 	ori	r15,r15,4496
	stw		r14, (r15)
  152ce4:	7b800015 	stw	r14,0(r15)
	stw		r14, (r13)
  152ce8:	6b800015 	stw	r14,0(r13)

	# Turn on FIFO write
	STWI	ADC_CTRL_BASE, 0x04
  152cec:	deffff04 	addi	sp,sp,-4
  152cf0:	da400015 	stw	r9,0(sp)
  152cf4:	deffff04 	addi	sp,sp,-4
  152cf8:	da800015 	stw	r10,0(sp)
  152cfc:	024005b4 	movhi	r9,22
  152d00:	4a444014 	ori	r9,r9,4352
  152d04:	02800034 	movhi	r10,0
  152d08:	52800114 	ori	r10,r10,4
  152d0c:	4a800035 	stwio	r10,0(r9)
  152d10:	da800017 	ldw	r10,0(sp)
  152d14:	dec00104 	addi	sp,sp,4
  152d18:	da400017 	ldw	r9,0(sp)
  152d1c:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  152d20:	deffff04 	addi	sp,sp,-4
  152d24:	da400015 	stw	r9,0(sp)
  152d28:	deffff04 	addi	sp,sp,-4
  152d2c:	da800015 	stw	r10,0(sp)
  152d30:	024005b4 	movhi	r9,22
  152d34:	4a444014 	ori	r9,r9,4352
  152d38:	02800034 	movhi	r10,0
  152d3c:	52800094 	ori	r10,r10,2
  152d40:	4a800035 	stwio	r10,0(r9)
  152d44:	da800017 	ldw	r10,0(sp)
  152d48:	dec00104 	addi	sp,sp,4
  152d4c:	da400017 	ldw	r9,0(sp)
  152d50:	dec00104 	addi	sp,sp,4

	br		key_lookup_cont
  152d54:	003fc906 	br	152c7c <key_lookup_cont>

00152d58 <inc_speed>:
  152d58:	03400574 	movhi	r13,21

inc_speed:
	movia	r13, adc_speed
  152d5c:	6b53b404 	addi	r13,r13,20176
	ldwio	r14, (r13)
  152d60:	6b800037 	ldwio	r14,0(r13)
	srli	r14, r14, 1
  152d64:	701cd07a 	srli	r14,r14,1
	beq		r14, r0, set_speed_1
  152d68:	70001f26 	beq	r14,zero,152de8 <set_speed_1>

00152d6c <inc_speed_cont>:
inc_speed_cont:
	MOVWI	r15, ADC_RATE_BASE
  152d6c:	03c005b4 	movhi	r15,22
  152d70:	7bc46414 	ori	r15,r15,4496
	stwio	r14, (r15)
  152d74:	7b800035 	stwio	r14,0(r15)
	stwio	r14, (r13)
  152d78:	6b800035 	stwio	r14,0(r13)

	# Turn on FIFO write
	STWI	ADC_CTRL_BASE, 0x04
  152d7c:	deffff04 	addi	sp,sp,-4
  152d80:	da400015 	stw	r9,0(sp)
  152d84:	deffff04 	addi	sp,sp,-4
  152d88:	da800015 	stw	r10,0(sp)
  152d8c:	024005b4 	movhi	r9,22
  152d90:	4a444014 	ori	r9,r9,4352
  152d94:	02800034 	movhi	r10,0
  152d98:	52800114 	ori	r10,r10,4
  152d9c:	4a800035 	stwio	r10,0(r9)
  152da0:	da800017 	ldw	r10,0(sp)
  152da4:	dec00104 	addi	sp,sp,4
  152da8:	da400017 	ldw	r9,0(sp)
  152dac:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  152db0:	deffff04 	addi	sp,sp,-4
  152db4:	da400015 	stw	r9,0(sp)
  152db8:	deffff04 	addi	sp,sp,-4
  152dbc:	da800015 	stw	r10,0(sp)
  152dc0:	024005b4 	movhi	r9,22
  152dc4:	4a444014 	ori	r9,r9,4352
  152dc8:	02800034 	movhi	r10,0
  152dcc:	52800094 	ori	r10,r10,2
  152dd0:	4a800035 	stwio	r10,0(r9)
  152dd4:	da800017 	ldw	r10,0(sp)
  152dd8:	dec00104 	addi	sp,sp,4
  152ddc:	da400017 	ldw	r9,0(sp)
  152de0:	dec00104 	addi	sp,sp,4

	br		key_lookup_cont
  152de4:	003fa506 	br	152c7c <key_lookup_cont>

00152de8 <set_speed_1>:

set_speed_1:
	movi	r14, 1
  152de8:	03800044 	movi	r14,1
	br		inc_speed_cont
  152dec:	003fdf06 	br	152d6c <inc_speed_cont>

00152df0 <set_speed_2>:

set_speed_2:
	MOVWI	r14, 0x00800000
  152df0:	03802034 	movhi	r14,128
  152df4:	73802034 	orhi	r14,r14,128
	br		dec_speed_cont
  152df8:	003fb806 	br	152cdc <dec_speed_cont>

00152dfc <dec_level>:
  152dfc:	03400574 	movhi	r13,21



dec_level:
	movia	r13, trig_level
  152e00:	6b53b584 	addi	r13,r13,20182
	ldb		r14, (r13)
  152e04:	6b800007 	ldb	r14,0(r13)
	subi	r14, r14, 5
  152e08:	73bffec4 	addi	r14,r14,-5
	movi	r15, -128
  152e0c:	03ffe004 	movi	r15,-128
	blt		r14, r15, set_level_2
  152e10:	73c04616 	blt	r14,r15,152f2c <set_level_2>

00152e14 <dec_level_cont>:
dec_level_cont:
	MOVWI	r15, TRIG_LEVEL_BASE
  152e14:	03c005b4 	movhi	r15,22
  152e18:	7bc43014 	ori	r15,r15,4288
	stw		r14, (r15)
  152e1c:	7b800015 	stw	r14,0(r15)
	stb		r14, (r13)
  152e20:	6b800005 	stb	r14,0(r13)

	# Turn on FIFO write
	STWI	ADC_CTRL_BASE, 0x04
  152e24:	deffff04 	addi	sp,sp,-4
  152e28:	da400015 	stw	r9,0(sp)
  152e2c:	deffff04 	addi	sp,sp,-4
  152e30:	da800015 	stw	r10,0(sp)
  152e34:	024005b4 	movhi	r9,22
  152e38:	4a444014 	ori	r9,r9,4352
  152e3c:	02800034 	movhi	r10,0
  152e40:	52800114 	ori	r10,r10,4
  152e44:	4a800035 	stwio	r10,0(r9)
  152e48:	da800017 	ldw	r10,0(sp)
  152e4c:	dec00104 	addi	sp,sp,4
  152e50:	da400017 	ldw	r9,0(sp)
  152e54:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  152e58:	deffff04 	addi	sp,sp,-4
  152e5c:	da400015 	stw	r9,0(sp)
  152e60:	deffff04 	addi	sp,sp,-4
  152e64:	da800015 	stw	r10,0(sp)
  152e68:	024005b4 	movhi	r9,22
  152e6c:	4a444014 	ori	r9,r9,4352
  152e70:	02800034 	movhi	r10,0
  152e74:	52800094 	ori	r10,r10,2
  152e78:	4a800035 	stwio	r10,0(r9)
  152e7c:	da800017 	ldw	r10,0(sp)
  152e80:	dec00104 	addi	sp,sp,4
  152e84:	da400017 	ldw	r9,0(sp)
  152e88:	dec00104 	addi	sp,sp,4

	br		key_lookup_cont
  152e8c:	003f7b06 	br	152c7c <key_lookup_cont>

00152e90 <inc_level>:
  152e90:	03400574 	movhi	r13,21

inc_level:
	movia	r13, trig_level
  152e94:	6b53b584 	addi	r13,r13,20182
	ldb		r14, (r13)
  152e98:	6b800007 	ldb	r14,0(r13)
	addi	r14, r14, 5
  152e9c:	73800144 	addi	r14,r14,5
	movi	r15, 127
  152ea0:	03c01fc4 	movi	r15,127
	bgt		r14, r15, set_level_1
  152ea4:	7b801f16 	blt	r15,r14,152f24 <set_level_1>

00152ea8 <inc_level_cont>:
inc_level_cont:
	MOVWI	r15, TRIG_LEVEL_BASE
  152ea8:	03c005b4 	movhi	r15,22
  152eac:	7bc43014 	ori	r15,r15,4288
	stw		r14, (r15)
  152eb0:	7b800015 	stw	r14,0(r15)
	stb		r14, (r13)
  152eb4:	6b800005 	stb	r14,0(r13)

	# Turn on FIFO write
	STWI	ADC_CTRL_BASE, 0x04
  152eb8:	deffff04 	addi	sp,sp,-4
  152ebc:	da400015 	stw	r9,0(sp)
  152ec0:	deffff04 	addi	sp,sp,-4
  152ec4:	da800015 	stw	r10,0(sp)
  152ec8:	024005b4 	movhi	r9,22
  152ecc:	4a444014 	ori	r9,r9,4352
  152ed0:	02800034 	movhi	r10,0
  152ed4:	52800114 	ori	r10,r10,4
  152ed8:	4a800035 	stwio	r10,0(r9)
  152edc:	da800017 	ldw	r10,0(sp)
  152ee0:	dec00104 	addi	sp,sp,4
  152ee4:	da400017 	ldw	r9,0(sp)
  152ee8:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  152eec:	deffff04 	addi	sp,sp,-4
  152ef0:	da400015 	stw	r9,0(sp)
  152ef4:	deffff04 	addi	sp,sp,-4
  152ef8:	da800015 	stw	r10,0(sp)
  152efc:	024005b4 	movhi	r9,22
  152f00:	4a444014 	ori	r9,r9,4352
  152f04:	02800034 	movhi	r10,0
  152f08:	52800094 	ori	r10,r10,2
  152f0c:	4a800035 	stwio	r10,0(r9)
  152f10:	da800017 	ldw	r10,0(sp)
  152f14:	dec00104 	addi	sp,sp,4
  152f18:	da400017 	ldw	r9,0(sp)
  152f1c:	dec00104 	addi	sp,sp,4

	br		key_lookup_cont
  152f20:	003f5606 	br	152c7c <key_lookup_cont>

00152f24 <set_level_1>:

set_level_1:
	movi	r14, 127
  152f24:	03801fc4 	movi	r14,127
	br		inc_level_cont
  152f28:	003fdf06 	br	152ea8 <inc_level_cont>

00152f2c <set_level_2>:

set_level_2:
	MOVWI	r14, -128
  152f2c:	03bffff4 	movhi	r14,65535
  152f30:	73bfe014 	ori	r14,r14,65408
	br		dec_level_cont
  152f34:	003fb706 	br	152e14 <dec_level_cont>

00152f38 <dec_delay>:
  152f38:	03400574 	movhi	r13,21



dec_delay:
	movia	r13, trig_delay
  152f3c:	6b53b504 	addi	r13,r13,20180
	ldh		r14, (r13)
  152f40:	6b80000f 	ldh	r14,0(r13)
	subi	r14, r14, 10
  152f44:	73bffd84 	addi	r14,r14,-10
	ble		r14, r0, set_delay_2
  152f48:	0380470e 	bge	zero,r14,153068 <set_delay_2>

00152f4c <dec_delay_cont>:
dec_delay_cont:
	MOVWI	r15, TRIG_DELAY_BASE
  152f4c:	03c005b4 	movhi	r15,22
  152f50:	7bc42814 	ori	r15,r15,4256
	stw		r14, (r15)
  152f54:	7b800015 	stw	r14,0(r15)
	sth		r14, (r13)
  152f58:	6b80000d 	sth	r14,0(r13)

	# Turn on FIFO write
	STWI	ADC_CTRL_BASE, 0x04
  152f5c:	deffff04 	addi	sp,sp,-4
  152f60:	da400015 	stw	r9,0(sp)
  152f64:	deffff04 	addi	sp,sp,-4
  152f68:	da800015 	stw	r10,0(sp)
  152f6c:	024005b4 	movhi	r9,22
  152f70:	4a444014 	ori	r9,r9,4352
  152f74:	02800034 	movhi	r10,0
  152f78:	52800114 	ori	r10,r10,4
  152f7c:	4a800035 	stwio	r10,0(r9)
  152f80:	da800017 	ldw	r10,0(sp)
  152f84:	dec00104 	addi	sp,sp,4
  152f88:	da400017 	ldw	r9,0(sp)
  152f8c:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  152f90:	deffff04 	addi	sp,sp,-4
  152f94:	da400015 	stw	r9,0(sp)
  152f98:	deffff04 	addi	sp,sp,-4
  152f9c:	da800015 	stw	r10,0(sp)
  152fa0:	024005b4 	movhi	r9,22
  152fa4:	4a444014 	ori	r9,r9,4352
  152fa8:	02800034 	movhi	r10,0
  152fac:	52800094 	ori	r10,r10,2
  152fb0:	4a800035 	stwio	r10,0(r9)
  152fb4:	da800017 	ldw	r10,0(sp)
  152fb8:	dec00104 	addi	sp,sp,4
  152fbc:	da400017 	ldw	r9,0(sp)
  152fc0:	dec00104 	addi	sp,sp,4

	br		key_lookup_cont
  152fc4:	003f2d06 	br	152c7c <key_lookup_cont>

00152fc8 <inc_delay>:
  152fc8:	03400574 	movhi	r13,21

inc_delay:
	movia	r13, trig_delay
  152fcc:	6b53b504 	addi	r13,r13,20180
	ldh		r14, (r13)
  152fd0:	6b80000f 	ldh	r14,0(r13)
	addi	r14, r14, 10
  152fd4:	73800284 	addi	r14,r14,10
	movi	r15, 1000
  152fd8:	03c0fa04 	movi	r15,1000
	bgeu	r14, r15, set_delay_1
  152fdc:	73c01f2e 	bgeu	r14,r15,15305c <set_delay_1>

00152fe0 <inc_delay_cont>:
inc_delay_cont:
	MOVWI	r15, TRIG_DELAY_BASE
  152fe0:	03c005b4 	movhi	r15,22
  152fe4:	7bc42814 	ori	r15,r15,4256
	stw		r14, (r15)
  152fe8:	7b800015 	stw	r14,0(r15)
	sth		r14, (r13)
  152fec:	6b80000d 	sth	r14,0(r13)

	# Turn on FIFO write
	STWI	ADC_CTRL_BASE, 0x04
  152ff0:	deffff04 	addi	sp,sp,-4
  152ff4:	da400015 	stw	r9,0(sp)
  152ff8:	deffff04 	addi	sp,sp,-4
  152ffc:	da800015 	stw	r10,0(sp)
  153000:	024005b4 	movhi	r9,22
  153004:	4a444014 	ori	r9,r9,4352
  153008:	02800034 	movhi	r10,0
  15300c:	52800114 	ori	r10,r10,4
  153010:	4a800035 	stwio	r10,0(r9)
  153014:	da800017 	ldw	r10,0(sp)
  153018:	dec00104 	addi	sp,sp,4
  15301c:	da400017 	ldw	r9,0(sp)
  153020:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  153024:	deffff04 	addi	sp,sp,-4
  153028:	da400015 	stw	r9,0(sp)
  15302c:	deffff04 	addi	sp,sp,-4
  153030:	da800015 	stw	r10,0(sp)
  153034:	024005b4 	movhi	r9,22
  153038:	4a444014 	ori	r9,r9,4352
  15303c:	02800034 	movhi	r10,0
  153040:	52800094 	ori	r10,r10,2
  153044:	4a800035 	stwio	r10,0(r9)
  153048:	da800017 	ldw	r10,0(sp)
  15304c:	dec00104 	addi	sp,sp,4
  153050:	da400017 	ldw	r9,0(sp)
  153054:	dec00104 	addi	sp,sp,4

	br		key_lookup_cont
  153058:	003f0806 	br	152c7c <key_lookup_cont>

0015305c <set_delay_1>:

set_delay_1:
	MOVWI	r14, 50000
  15305c:	03800034 	movhi	r14,0
  153060:	73b0d414 	ori	r14,r14,50000
	br		inc_delay_cont
  153064:	003fde06 	br	152fe0 <inc_delay_cont>

00153068 <set_delay_2>:

set_delay_2:
	mov		r14, r0
  153068:	001d883a 	mov	r14,zero
	br		dec_delay_cont
  15306c:	003fb706 	br	152f4c <dec_delay_cont>

00153070 <key_available>:

.global key_available
.type	key_available, @function

key_available:
	SAVE
  153070:	deffff04 	addi	sp,sp,-4
  153074:	dfc00015 	stw	ra,0(sp)
  153078:	deffff04 	addi	sp,sp,-4
  15307c:	df000015 	stw	fp,0(sp)
  153080:	d839883a 	mov	fp,sp
  153084:	00800574 	movhi	r2,21

	# Simply return the value in key_press.
	movia	r2, key_press
  153088:	1093b004 	addi	r2,r2,20160
	ldb		r2, (r2)
  15308c:	10800007 	ldb	r2,0(r2)

00153090 <key_available_done>:

key_available_done:
	RESTORE
  153090:	e037883a 	mov	sp,fp
  153094:	df000017 	ldw	fp,0(sp)
  153098:	dec00104 	addi	sp,sp,4
  15309c:	dfc00017 	ldw	ra,0(sp)
  1530a0:	dec00104 	addi	sp,sp,4
	ret
  1530a4:	f800283a 	ret

001530a8 <getkey>:

.global	getkey
.type	getkey, @function

getkey:
	SAVE
  1530a8:	deffff04 	addi	sp,sp,-4
  1530ac:	dfc00015 	stw	ra,0(sp)
  1530b0:	deffff04 	addi	sp,sp,-4
  1530b4:	df000015 	stw	fp,0(sp)
  1530b8:	d839883a 	mov	fp,sp
  1530bc:	02000574 	movhi	r8,21

	# Block until legal key arrives (which is also when key_press = TRUE).
	movia	r8, key_value
  1530c0:	4213b044 	addi	r8,r8,20161
	ldb		r8, (r8)
  1530c4:	42000007 	ldb	r8,0(r8)
	movi	r9, KEY_ILLEGAL
  1530c8:	02400184 	movi	r9,6
	beq		r8, r9, getkey
  1530cc:	427ff626 	beq	r8,r9,1530a8 <getkey>
  1530d0:	00800574 	movhi	r2,21

	# Get return value.
	movia	r2, key_value
  1530d4:	1093b044 	addi	r2,r2,20161
	ldb		r2, (r2)
  1530d8:	10800007 	ldb	r2,0(r2)
  1530dc:	02800574 	movhi	r10,21

	# Update key_value with KEY_ILLEGAL.
	movia	r10, key_value
  1530e0:	5293b044 	addi	r10,r10,20161
	stb		r9, (r10)
  1530e4:	52400005 	stb	r9,0(r10)
  1530e8:	02800574 	movhi	r10,21

	# Update key_press with FALSE.
	movia	r10, key_press
  1530ec:	5293b004 	addi	r10,r10,20160
	stb		r0, (r10)
  1530f0:	50000005 	stb	zero,0(r10)

001530f4 <getkey_done>:

getkey_done:
	RESTORE
  1530f4:	e037883a 	mov	sp,fp
  1530f8:	df000017 	ldw	fp,0(sp)
  1530fc:	dec00104 	addi	sp,sp,4
  153100:	dfc00017 	ldw	ra,0(sp)
  153104:	dec00104 	addi	sp,sp,4
	ret
  153108:	f800283a 	ret

0015310c <key_map>:
  15310c:	03020100 	call	302010 <_gp+0x1a4048>
  153110:	00000004 	movi	zero,0
	...
  15311c:	06000000 	call	600000 <_gp+0x4a2038>

00153120 <adc_int_installer>:

.global adc_int_installer
.type	adc_int_installer, @function

adc_int_installer:
	SAVE
  153120:	deffff04 	addi	sp,sp,-4
  153124:	dfc00015 	stw	ra,0(sp)
  153128:	deffff04 	addi	sp,sp,-4
  15312c:	df000015 	stw	fp,0(sp)
  153130:	d839883a 	mov	fp,sp

	# Set FIFO speed
	STWI	ADC_RATE_BASE, 0x040000
  153134:	deffff04 	addi	sp,sp,-4
  153138:	da400015 	stw	r9,0(sp)
  15313c:	deffff04 	addi	sp,sp,-4
  153140:	da800015 	stw	r10,0(sp)
  153144:	024005b4 	movhi	r9,22
  153148:	4a446414 	ori	r9,r9,4496
  15314c:	02800134 	movhi	r10,4
  153150:	52800134 	orhi	r10,r10,4
  153154:	4a800035 	stwio	r10,0(r9)
  153158:	da800017 	ldw	r10,0(sp)
  15315c:	dec00104 	addi	sp,sp,4
  153160:	da400017 	ldw	r9,0(sp)
  153164:	dec00104 	addi	sp,sp,4

	# Set Trigger default level (2's complement), delay
	STWI	TRIG_LEVEL_BASE, 0
  153168:	deffff04 	addi	sp,sp,-4
  15316c:	da400015 	stw	r9,0(sp)
  153170:	deffff04 	addi	sp,sp,-4
  153174:	da800015 	stw	r10,0(sp)
  153178:	024005b4 	movhi	r9,22
  15317c:	4a443014 	ori	r9,r9,4288
  153180:	02800034 	movhi	r10,0
  153184:	52800014 	ori	r10,r10,0
  153188:	4a800035 	stwio	r10,0(r9)
  15318c:	da800017 	ldw	r10,0(sp)
  153190:	dec00104 	addi	sp,sp,4
  153194:	da400017 	ldw	r9,0(sp)
  153198:	dec00104 	addi	sp,sp,4
	STWI	TRIG_DELAY_BASE, 240
  15319c:	deffff04 	addi	sp,sp,-4
  1531a0:	da400015 	stw	r9,0(sp)
  1531a4:	deffff04 	addi	sp,sp,-4
  1531a8:	da800015 	stw	r10,0(sp)
  1531ac:	024005b4 	movhi	r9,22
  1531b0:	4a442814 	ori	r9,r9,4256
  1531b4:	02800034 	movhi	r10,0
  1531b8:	52803c14 	ori	r10,r10,240
  1531bc:	4a800035 	stwio	r10,0(r9)
  1531c0:	da800017 	ldw	r10,0(sp)
  1531c4:	dec00104 	addi	sp,sp,4
  1531c8:	da400017 	ldw	r9,0(sp)
  1531cc:	dec00104 	addi	sp,sp,4
	STWI	TRIG_ERROR_BASE, 5
  1531d0:	deffff04 	addi	sp,sp,-4
  1531d4:	da400015 	stw	r9,0(sp)
  1531d8:	deffff04 	addi	sp,sp,-4
  1531dc:	da800015 	stw	r10,0(sp)
  1531e0:	024005b4 	movhi	r9,22
  1531e4:	4a446014 	ori	r9,r9,4480
  1531e8:	02800034 	movhi	r10,0
  1531ec:	52800154 	ori	r10,r10,5
  1531f0:	4a800035 	stwio	r10,0(r9)
  1531f4:	da800017 	ldw	r10,0(sp)
  1531f8:	dec00104 	addi	sp,sp,4
  1531fc:	da400017 	ldw	r9,0(sp)
  153200:	dec00104 	addi	sp,sp,4

	# Install the interrupt handler
	mov		r4, r0
  153204:	0009883a 	mov	r4,zero
	movi	r5, 6
  153208:	01400184 	movi	r5,6
	MOVWI	r6, adc_int_handler
  15320c:	01800574 	movhi	r6,21
  153210:	318c9614 	ori	r6,r6,12888
	mov		r7, r0
  153214:	000f883a 	mov	r7,zero
	PUSH	r0
  153218:	deffff04 	addi	sp,sp,-4
  15321c:	d8000015 	stw	zero,0(sp)
	call	alt_ic_isr_register
  153220:	0153c400 	call	153c40 <alt_ic_isr_register>
	POP		r0
  153224:	d8000017 	ldw	zero,0(sp)
  153228:	dec00104 	addi	sp,sp,4

	# Clear the edge capture register (write 1 to clear).
	MOVWI	r8, TRIG_INT_BASE
  15322c:	020005b4 	movhi	r8,22
  153230:	42044814 	ori	r8,r8,4384
	MOVWI	r9, 0xFFFFFFFF
  153234:	027ffff4 	movhi	r9,65535
  153238:	4a7fffd4 	ori	r9,r9,65535
	stw		r9, PIO_EDGE_CAP(r8)
  15323c:	42400315 	stw	r9,12(r8)

00153240 <adc_int_installer_done>:

adc_int_installer_done:
	RESTORE
  153240:	e037883a 	mov	sp,fp
  153244:	df000017 	ldw	fp,0(sp)
  153248:	dec00104 	addi	sp,sp,4
  15324c:	dfc00017 	ldw	ra,0(sp)
  153250:	dec00104 	addi	sp,sp,4
	ret
  153254:	f800283a 	ret

00153258 <adc_int_handler>:

.global adc_int_handler
.type adc_int_handler, @function

adc_int_handler:
	SAVE
  153258:	deffff04 	addi	sp,sp,-4
  15325c:	dfc00015 	stw	ra,0(sp)
  153260:	deffff04 	addi	sp,sp,-4
  153264:	df000015 	stw	fp,0(sp)
  153268:	d839883a 	mov	fp,sp

	# Clear interrupts.
	MOVWI	r8, TRIG_INT_BASE
  15326c:	020005b4 	movhi	r8,22
  153270:	42044814 	ori	r8,r8,4384
	stw		r0, PIO_IRQ_MASK(r8)
  153274:	40000215 	stw	zero,8(r8)

	# Get the edge capture register.
	ldw		r9, PIO_EDGE_CAP(r8)
  153278:	42400317 	ldw	r9,12(r8)

	# Pause FIFO write.
	STWI	ADC_CTRL_BASE, 0x00
  15327c:	deffff04 	addi	sp,sp,-4
  153280:	da400015 	stw	r9,0(sp)
  153284:	deffff04 	addi	sp,sp,-4
  153288:	da800015 	stw	r10,0(sp)
  15328c:	024005b4 	movhi	r9,22
  153290:	4a444014 	ori	r9,r9,4352
  153294:	02800034 	movhi	r10,0
  153298:	52800014 	ori	r10,r10,0
  15329c:	4a800035 	stwio	r10,0(r9)
  1532a0:	da800017 	ldw	r10,0(sp)
  1532a4:	dec00104 	addi	sp,sp,4
  1532a8:	da400017 	ldw	r9,0(sp)
  1532ac:	dec00104 	addi	sp,sp,4

	mov		r10, r0
  1532b0:	0015883a 	mov	r10,zero

001532b4 <adc_int_handler_clear_front>:
adc_int_handler_clear_front:
	# Bitbang clock pulse.
	STWI	ADC_CTRL_BASE, 0x01
  1532b4:	deffff04 	addi	sp,sp,-4
  1532b8:	da400015 	stw	r9,0(sp)
  1532bc:	deffff04 	addi	sp,sp,-4
  1532c0:	da800015 	stw	r10,0(sp)
  1532c4:	024005b4 	movhi	r9,22
  1532c8:	4a444014 	ori	r9,r9,4352
  1532cc:	02800034 	movhi	r10,0
  1532d0:	52800054 	ori	r10,r10,1
  1532d4:	4a800035 	stwio	r10,0(r9)
  1532d8:	da800017 	ldw	r10,0(sp)
  1532dc:	dec00104 	addi	sp,sp,4
  1532e0:	da400017 	ldw	r9,0(sp)
  1532e4:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x00
  1532e8:	deffff04 	addi	sp,sp,-4
  1532ec:	da400015 	stw	r9,0(sp)
  1532f0:	deffff04 	addi	sp,sp,-4
  1532f4:	da800015 	stw	r10,0(sp)
  1532f8:	024005b4 	movhi	r9,22
  1532fc:	4a444014 	ori	r9,r9,4352
  153300:	02800034 	movhi	r10,0
  153304:	52800014 	ori	r10,r10,0
  153308:	4a800035 	stwio	r10,0(r9)
  15330c:	da800017 	ldw	r10,0(sp)
  153310:	dec00104 	addi	sp,sp,4
  153314:	da400017 	ldw	r9,0(sp)
  153318:	dec00104 	addi	sp,sp,4

	# Keep going until 480 good remaining points (for display)
	addi	r10, r10, 1
  15331c:	52800044 	addi	r10,r10,1
	movi	r13, 13
  153320:	03400344 	movi	r13,13
	bltu	r10, r13, adc_int_handler_clear_front
  153324:	537fe336 	bltu	r10,r13,1532b4 <adc_int_handler_clear_front>
  153328:	02000574 	movhi	r8,21

	movia	r8, sample_buffer_A
  15332c:	4213b804 	addi	r8,r8,20192
	mov		r10, r0
  153330:	0015883a 	mov	r10,zero

00153334 <adc_int_handler_loop>:

adc_int_handler_loop:
	# Bitbang clock pulse.
	STWI	ADC_CTRL_BASE, 0x01
  153334:	deffff04 	addi	sp,sp,-4
  153338:	da400015 	stw	r9,0(sp)
  15333c:	deffff04 	addi	sp,sp,-4
  153340:	da800015 	stw	r10,0(sp)
  153344:	024005b4 	movhi	r9,22
  153348:	4a444014 	ori	r9,r9,4352
  15334c:	02800034 	movhi	r10,0
  153350:	52800054 	ori	r10,r10,1
  153354:	4a800035 	stwio	r10,0(r9)
  153358:	da800017 	ldw	r10,0(sp)
  15335c:	dec00104 	addi	sp,sp,4
  153360:	da400017 	ldw	r9,0(sp)
  153364:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x00
  153368:	deffff04 	addi	sp,sp,-4
  15336c:	da400015 	stw	r9,0(sp)
  153370:	deffff04 	addi	sp,sp,-4
  153374:	da800015 	stw	r10,0(sp)
  153378:	024005b4 	movhi	r9,22
  15337c:	4a444014 	ori	r9,r9,4352
  153380:	02800034 	movhi	r10,0
  153384:	52800014 	ori	r10,r10,0
  153388:	4a800035 	stwio	r10,0(r9)
  15338c:	da800017 	ldw	r10,0(sp)
  153390:	dec00104 	addi	sp,sp,4
  153394:	da400017 	ldw	r9,0(sp)
  153398:	dec00104 	addi	sp,sp,4

	# Get ch. A, ch. B, and logic data.
	MOVWI	r11, ADC_RAW_BASE
  15339c:	02c005b4 	movhi	r11,22
  1533a0:	5ac46814 	ori	r11,r11,4512
	ldwio	r12, (r11)
  1533a4:	5b000037 	ldwio	r12,0(r11)

	# r12 for ch. A, r13 for ch. B, r14 for logic.
	srli	r13, r12, 8
  1533a8:	601ad23a 	srli	r13,r12,8
	srli	r14, r12, 16
  1533ac:	601cd43a 	srli	r14,r12,16
	movui	r15, 128
  1533b0:	03c02014 	movui	r15,128

	# Convert analog channels to non-signed values.
	add		r12, r12, r15
  1533b4:	63d9883a 	add	r12,r12,r15
	add		r13, r13, r15
  1533b8:	6bdb883a 	add	r13,r13,r15

	# Keep only the bottom byte.
	andi	r12, r12, 0xFF
  1533bc:	63003fcc 	andi	r12,r12,255
	andi	r13, r13, 0xFF
  1533c0:	6b403fcc 	andi	r13,r13,255
	andi	r14, r14, 0xFF
  1533c4:	73803fcc 	andi	r14,r14,255
  1533c8:	02000574 	movhi	r8,21

	# CH. A
	# Retrieve the current buffer contents.
	# Then update the current buffer with the new value.
	movia	r8, sample_buffer_A
  1533cc:	4213b804 	addi	r8,r8,20192
	add		r8, r8, r10
  1533d0:	4291883a 	add	r8,r8,r10
	ldb		r9, (r8)
  1533d4:	42400007 	ldb	r9,0(r8)
	stb		r12, (r8)
  1533d8:	43000005 	stb	r12,0(r8)
  1533dc:	02000574 	movhi	r8,21
	# Update the old buffer contents with the old value.
	movia	r8, sample_buffer_Ao
  1533e0:	42143004 	addi	r8,r8,20672
	add		r8, r8, r10
  1533e4:	4291883a 	add	r8,r8,r10
	stb		r9, (r8)
  1533e8:	42400005 	stb	r9,0(r8)
  1533ec:	02000574 	movhi	r8,21

	# CH. B
	# Retrieve the current buffer contents.
	# Then update the current buffer with the new value.
	movia	r8, sample_buffer_B
  1533f0:	4214a804 	addi	r8,r8,21152
	add		r8, r8, r10
  1533f4:	4291883a 	add	r8,r8,r10
	ldb		r9, (r8)
  1533f8:	42400007 	ldb	r9,0(r8)
	stb		r13, (r8)
  1533fc:	43400005 	stb	r13,0(r8)
  153400:	02000574 	movhi	r8,21
	# Update the old buffer contents with the old value.
	movia	r8, sample_buffer_Bo
  153404:	42152004 	addi	r8,r8,21632
	add		r8, r8, r10
  153408:	4291883a 	add	r8,r8,r10
	stb		r9, (r8)
  15340c:	42400005 	stb	r9,0(r8)
  153410:	02000574 	movhi	r8,21

	# LOGIC ANALYZER
	# Retrieve the current buffer contents.
	# Then update the current buffer with the new value.
	movia	r8, sample_buffer_L
  153414:	42159804 	addi	r8,r8,22112
	add		r8, r8, r10
  153418:	4291883a 	add	r8,r8,r10
	ldb		r9, (r8)
  15341c:	42400007 	ldb	r9,0(r8)
	stb		r14, (r8)
  153420:	43800005 	stb	r14,0(r8)
  153424:	02000574 	movhi	r8,21
	# Update the old buffer contents with the old value.
	movia	r8, sample_buffer_Lo
  153428:	42161004 	addi	r8,r8,22592
	add		r8, r8, r10
  15342c:	4291883a 	add	r8,r8,r10
	stb		r9, (r8)
  153430:	42400005 	stb	r9,0(r8)

	addi	r10, r10, 1
  153434:	52800044 	addi	r10,r10,1
	movi	r15, 480
  153438:	03c07804 	movi	r15,480
	bltu	r10, r15, adc_int_handler_loop
  15343c:	53ffbd36 	bltu	r10,r15,153334 <adc_int_handler_loop>
  153440:	02000574 	movhi	r8,21

	# Sample done.
	movia	r8, sample_complete
  153444:	4213b804 	addi	r8,r8,20192
	movi	r9, 1
  153448:	02400044 	movi	r9,1
	stb		r9, (r8)
  15344c:	42400005 	stb	r9,0(r8)

00153450 <adc_int_handler_done>:

adc_int_handler_done:

	RESTORE
  153450:	e037883a 	mov	sp,fp
  153454:	df000017 	ldw	fp,0(sp)
  153458:	dec00104 	addi	sp,sp,4
  15345c:	dfc00017 	ldw	ra,0(sp)
  153460:	dec00104 	addi	sp,sp,4
	ret
  153464:	f800283a 	ret

00153468 <draw_trace>:

.global draw_trace
.type draw_trace, @function

draw_trace:
	SAVE
  153468:	deffff04 	addi	sp,sp,-4
  15346c:	dfc00015 	stw	ra,0(sp)
  153470:	deffff04 	addi	sp,sp,-4
  153474:	df000015 	stw	fp,0(sp)
  153478:	d839883a 	mov	fp,sp
	push	r4
  15347c:	deffff04 	addi	sp,sp,-4
  153480:	d9000015 	stw	r4,0(sp)
	push	r5
  153484:	deffff04 	addi	sp,sp,-4
  153488:	d9400015 	stw	r5,0(sp)
	push	r6
  15348c:	deffff04 	addi	sp,sp,-4
  153490:	d9800015 	stw	r6,0(sp)
  153494:	02000574 	movhi	r8,21

	movia	r8, sample_buffer_A
  153498:	4213b804 	addi	r8,r8,20192
	mov		r10, r0
  15349c:	0015883a 	mov	r10,zero

001534a0 <draw_trace_loop>:

draw_trace_loop:
	ldb		r12, (r8)
  1534a0:	43000007 	ldb	r12,0(r8)
	movui	r15, 255
  1534a4:	03c03fd4 	movui	r15,255
	sub		r12, r15, r12
  1534a8:	7b19c83a 	sub	r12,r15,r12
	andi	r12, r12, 0xFF
  1534ac:	63003fcc 	andi	r12,r12,255
	addi	r12, r12, 8
  1534b0:	63000204 	addi	r12,r12,8

	MOVWI	r9, VRAM_CTRL_BASE
  1534b4:	02400234 	movhi	r9,8
  1534b8:	4a400234 	orhi	r9,r9,8
	add		r9, r9, r10
  1534bc:	4a93883a 	add	r9,r9,r10
	add		r9, r9, r10
  1534c0:	4a93883a 	add	r9,r9,r10

	mov		r11, r0
  1534c4:	0017883a 	mov	r11,zero

001534c8 <draw_trace_col_loop>:
draw_trace_col_loop:
	MOVWI	r15, 0x001C
  1534c8:	03c00034 	movhi	r15,0
  1534cc:	7bc00714 	ori	r15,r15,28
	sthio	r15, (r9)
  1534d0:	4bc0002d 	sthio	r15,0(r9)

	movi	r15, 136
  1534d4:	03c02204 	movi	r15,136
	beq		r11, r15, draw_grid_pt
  1534d8:	5bc01726 	beq	r11,r15,153538 <draw_grid_pt>

	movi	r15, 240
  1534dc:	03c03c04 	movi	r15,240
	beq		r10, r15, draw_grid_pt
  1534e0:	53c01526 	beq	r10,r15,153538 <draw_grid_pt>

	beq		r11, r12, draw_trace_pt
  1534e4:	5b001826 	beq	r11,r12,153548 <draw_trace_pt>

001534e8 <draw_trace_col_loop_continue>:

draw_trace_col_loop_continue:
	addi	r9, r9, 0x400
  1534e8:	4a410004 	addi	r9,r9,1024
	addi	r11, r11, 1
  1534ec:	5ac00044 	addi	r11,r11,1
	movi	r15, 272
  1534f0:	03c04404 	movi	r15,272
	bltu	r11, r15, draw_trace_col_loop
  1534f4:	5bfff436 	bltu	r11,r15,1534c8 <draw_trace_col_loop>

	addi	r8, r8, 1
  1534f8:	42000044 	addi	r8,r8,1
	addi	r10, r10, 1
  1534fc:	52800044 	addi	r10,r10,1
	movi	r15, 480
  153500:	03c07804 	movi	r15,480
	bltu	r10, r15, draw_trace_loop
  153504:	53ffe636 	bltu	r10,r15,1534a0 <draw_trace_loop>

00153508 <draw_trace_done>:

draw_trace_done:
	pop		r6
  153508:	d9800017 	ldw	r6,0(sp)
  15350c:	dec00104 	addi	sp,sp,4
	pop		r5
  153510:	d9400017 	ldw	r5,0(sp)
  153514:	dec00104 	addi	sp,sp,4
	pop		r4
  153518:	d9000017 	ldw	r4,0(sp)
  15351c:	dec00104 	addi	sp,sp,4
	RESTORE
  153520:	e037883a 	mov	sp,fp
  153524:	df000017 	ldw	fp,0(sp)
  153528:	dec00104 	addi	sp,sp,4
  15352c:	dfc00017 	ldw	ra,0(sp)
  153530:	dec00104 	addi	sp,sp,4
	ret
  153534:	f800283a 	ret

00153538 <draw_grid_pt>:

draw_grid_pt:
	MOVWI	r15, 0x1F00
  153538:	03c00034 	movhi	r15,0
  15353c:	7bc7c014 	ori	r15,r15,7936
	sthio	r15, (r9)
  153540:	4bc0002d 	sthio	r15,0(r9)
	br		draw_trace_col_loop_continue
  153544:	003fe806 	br	1534e8 <draw_trace_col_loop_continue>

00153548 <draw_trace_pt>:

draw_trace_pt:
	MOVWI	r15, 0xE07F
  153548:	03c00034 	movhi	r15,0
  15354c:	7bf81fd4 	ori	r15,r15,57471
	sthio	r15, (r9)
  153550:	4bc0002d 	sthio	r15,0(r9)
	br		draw_trace_col_loop_continue
  153554:	003fe406 	br	1534e8 <draw_trace_col_loop_continue>

00153558 <draw_grid>:

.global draw_grid
.type draw_grid, @function

draw_grid:
	SAVE
  153558:	deffff04 	addi	sp,sp,-4
  15355c:	dfc00015 	stw	ra,0(sp)
  153560:	deffff04 	addi	sp,sp,-4
  153564:	df000015 	stw	fp,0(sp)
  153568:	d839883a 	mov	fp,sp
	push	r4
  15356c:	deffff04 	addi	sp,sp,-4
  153570:	d9000015 	stw	r4,0(sp)
	push	r5
  153574:	deffff04 	addi	sp,sp,-4
  153578:	d9400015 	stw	r5,0(sp)
	push	r6
  15357c:	deffff04 	addi	sp,sp,-4
  153580:	d9800015 	stw	r6,0(sp)

	movui	r6, 0x1F00
  153584:	0187c014 	movui	r6,7936

	movui	r4, 136
  153588:	01002214 	movui	r4,136
	mov		r5, r0
  15358c:	000b883a 	mov	r5,zero

00153590 <draw_grid_horiz>:
draw_grid_horiz:
	call	draw_pixel
  153590:	015360c0 	call	15360c <draw_pixel>
	movui	r6, 0x003C
  153594:	01800f14 	movui	r6,60
	addi	r4, r4, 1
  153598:	21000044 	addi	r4,r4,1
	call	draw_pixel
  15359c:	015360c0 	call	15360c <draw_pixel>
	addi	r4, r4, 1
  1535a0:	21000044 	addi	r4,r4,1
	call	draw_pixel
  1535a4:	015360c0 	call	15360c <draw_pixel>
	addi	r4, r4, 1
  1535a8:	21000044 	addi	r4,r4,1
	call	draw_pixel
  1535ac:	015360c0 	call	15360c <draw_pixel>
	movui	r6, 0x1F00
  1535b0:	0187c014 	movui	r6,7936
	subi	r4, r4, 3
  1535b4:	213fff44 	addi	r4,r4,-3

	addi	r5, r5, 1
  1535b8:	29400044 	addi	r5,r5,1
	movi	r8, 480
  1535bc:	02007804 	movi	r8,480
	bltu	r5, r8, draw_grid_horiz
  1535c0:	2a3ff336 	bltu	r5,r8,153590 <draw_grid_horiz>

	mov		r4, r0
  1535c4:	0009883a 	mov	r4,zero
	movui	r5, 240
  1535c8:	01403c14 	movui	r5,240

001535cc <draw_grid_vert>:
draw_grid_vert:
	call	draw_pixel
  1535cc:	015360c0 	call	15360c <draw_pixel>

	addi	r4, r4, 1
  1535d0:	21000044 	addi	r4,r4,1
	movi	r8, 272
  1535d4:	02004404 	movi	r8,272
	bltu	r4, r8, draw_grid_vert
  1535d8:	223ffc36 	bltu	r4,r8,1535cc <draw_grid_vert>

001535dc <draw_grid_done>:

draw_grid_done:
	pop		r6
  1535dc:	d9800017 	ldw	r6,0(sp)
  1535e0:	dec00104 	addi	sp,sp,4
	pop		r5
  1535e4:	d9400017 	ldw	r5,0(sp)
  1535e8:	dec00104 	addi	sp,sp,4
	pop		r4
  1535ec:	d9000017 	ldw	r4,0(sp)
  1535f0:	dec00104 	addi	sp,sp,4
	RESTORE
  1535f4:	e037883a 	mov	sp,fp
  1535f8:	df000017 	ldw	fp,0(sp)
  1535fc:	dec00104 	addi	sp,sp,4
  153600:	dfc00017 	ldw	ra,0(sp)
  153604:	dec00104 	addi	sp,sp,4
	ret
  153608:	f800283a 	ret

0015360c <draw_pixel>:


draw_pixel:
	SAVE
  15360c:	deffff04 	addi	sp,sp,-4
  153610:	dfc00015 	stw	ra,0(sp)
  153614:	deffff04 	addi	sp,sp,-4
  153618:	df000015 	stw	fp,0(sp)
  15361c:	d839883a 	mov	fp,sp

	push	r4
  153620:	deffff04 	addi	sp,sp,-4
  153624:	d9000015 	stw	r4,0(sp)
	push	r5
  153628:	deffff04 	addi	sp,sp,-4
  15362c:	d9400015 	stw	r5,0(sp)

	slli	r4, r4, 10
  153630:	200892ba 	slli	r4,r4,10
	add		r4, r4, r5
  153634:	2149883a 	add	r4,r4,r5
	add		r4, r4, r5
  153638:	2149883a 	add	r4,r4,r5
	MOVWI	r5, VRAM_CTRL_BASE
  15363c:	01400234 	movhi	r5,8
  153640:	29400234 	orhi	r5,r5,8
	add		r4, r4, r5
  153644:	2149883a 	add	r4,r4,r5
	sth		r6, (r4)
  153648:	2180000d 	sth	r6,0(r4)

	pop		r5
  15364c:	d9400017 	ldw	r5,0(sp)
  153650:	dec00104 	addi	sp,sp,4
	pop		r4
  153654:	d9000017 	ldw	r4,0(sp)
  153658:	dec00104 	addi	sp,sp,4

0015365c <draw_pixel_done>:

draw_pixel_done:
	RESTORE
  15365c:	e037883a 	mov	sp,fp
  153660:	df000017 	ldw	fp,0(sp)
  153664:	dec00104 	addi	sp,sp,4
  153668:	dfc00017 	ldw	ra,0(sp)
  15366c:	dec00104 	addi	sp,sp,4
	ret
  153670:	f800283a 	ret

00153674 <clear_display>:

.global clear_display
.type clear_display, @function

clear_display:
	SAVE
  153674:	deffff04 	addi	sp,sp,-4
  153678:	dfc00015 	stw	ra,0(sp)
  15367c:	deffff04 	addi	sp,sp,-4
  153680:	df000015 	stw	fp,0(sp)
  153684:	d839883a 	mov	fp,sp

	# Get display address and background color.
	MOVWI	r8, VRAM_CTRL_BASE
  153688:	02000234 	movhi	r8,8
  15368c:	42000234 	orhi	r8,r8,8
	movui	r9, 272
  153690:	02404414 	movui	r9,272
	slli	r9, r9, 10
  153694:	481292ba 	slli	r9,r9,10
	add		r9, r8, r9
  153698:	4253883a 	add	r9,r8,r9
	movui	r15, 0x001C
  15369c:	03c00714 	movui	r15,28

001536a0 <clear_display_loop>:

	# Loop over all screen pixels, clearing them.
clear_display_loop:
	sthio 	r15, (r8)
  1536a0:	43c0002d 	sthio	r15,0(r8)
	addi	r8, r8, 2
  1536a4:	42000084 	addi	r8,r8,2
	bltu	r8, r9, clear_display_loop
  1536a8:	427ffd36 	bltu	r8,r9,1536a0 <clear_display_loop>

001536ac <clear_display_done>:

clear_display_done:
	RESTORE
  1536ac:	e037883a 	mov	sp,fp
  1536b0:	df000017 	ldw	fp,0(sp)
  1536b4:	dec00104 	addi	sp,sp,4
  1536b8:	dfc00017 	ldw	ra,0(sp)
  1536bc:	dec00104 	addi	sp,sp,4
	ret
  1536c0:	f800283a 	ret

001536c4 <plot_pixel>:

.global plot_pixel
.type plot_pixel, @function

plot_pixel:
	SAVE
  1536c4:	deffff04 	addi	sp,sp,-4
  1536c8:	dfc00015 	stw	ra,0(sp)
  1536cc:	deffff04 	addi	sp,sp,-4
  1536d0:	df000015 	stw	fp,0(sp)
  1536d4:	d839883a 	mov	fp,sp

	push	r4
  1536d8:	deffff04 	addi	sp,sp,-4
  1536dc:	d9000015 	stw	r4,0(sp)
	push	r5
  1536e0:	deffff04 	addi	sp,sp,-4
  1536e4:	d9400015 	stw	r5,0(sp)

	# Each row takes 1024 bytes, so shift row var by 10 bits.
	slli	r5, r5, 10
  1536e8:	280a92ba 	slli	r5,r5,10
	# Add twice to account for 16-bit VRAM storage.
	add		r5, r5, r4
  1536ec:	290b883a 	add	r5,r5,r4
	add		r5, r5, r4
  1536f0:	290b883a 	add	r5,r5,r4
	# Now get the absolute address.
	MOVWI	r4, VRAM_CTRL_BASE
  1536f4:	01000234 	movhi	r4,8
  1536f8:	21000234 	orhi	r4,r4,8
	add		r5, r5, r4
  1536fc:	290b883a 	add	r5,r5,r4
	# Store the color.
	sth		r6, (r5)
  153700:	2980000d 	sth	r6,0(r5)

	pop		r5
  153704:	d9400017 	ldw	r5,0(sp)
  153708:	dec00104 	addi	sp,sp,4
	pop		r4
  15370c:	d9000017 	ldw	r4,0(sp)
  153710:	dec00104 	addi	sp,sp,4

00153714 <plot_pixel_done>:

plot_pixel_done:
	RESTORE
  153714:	e037883a 	mov	sp,fp
  153718:	df000017 	ldw	fp,0(sp)
  15371c:	dec00104 	addi	sp,sp,4
  153720:	dfc00017 	ldw	ra,0(sp)
  153724:	dec00104 	addi	sp,sp,4
	ret
  153728:	f800283a 	ret

0015372c <set_sample_rate>:

.global set_sample_rate
.type set_sample_rate, @function

set_sample_rate:
	SAVE
  15372c:	deffff04 	addi	sp,sp,-4
  153730:	dfc00015 	stw	ra,0(sp)
  153734:	deffff04 	addi	sp,sp,-4
  153738:	df000015 	stw	fp,0(sp)
  15373c:	d839883a 	mov	fp,sp

	# Divide fastest sample rate by desired sample rate
	# to get number of ticks to pause (not collect samples)
	# between collecting samples.
	MOVWI	r8, ADC_RATE_BASE
  153740:	020005b4 	movhi	r8,22
  153744:	42046414 	ori	r8,r8,4496
	MOVWI	r9, 180000000
  153748:	0242aeb4 	movhi	r9,2746
  15374c:	4a654014 	ori	r9,r9,38144
	divu	r9, r9, r4
  153750:	4913203a 	divu	r9,r9,r4
	stw		r9, (r8)
  153754:	42400015 	stw	r9,0(r8)

	# Always return 480 samples.
	movui	r2, 480
  153758:	00807814 	movui	r2,480

0015375c <set_sample_rate_done>:

set_sample_rate_done:
	RESTORE
  15375c:	e037883a 	mov	sp,fp
  153760:	df000017 	ldw	fp,0(sp)
  153764:	dec00104 	addi	sp,sp,4
  153768:	dfc00017 	ldw	ra,0(sp)
  15376c:	dec00104 	addi	sp,sp,4
	ret
  153770:	f800283a 	ret

00153774 <set_trigger>:

.global set_trigger
.type set_trigger, @function

set_trigger:
	SAVE
  153774:	deffff04 	addi	sp,sp,-4
  153778:	dfc00015 	stw	ra,0(sp)
  15377c:	deffff04 	addi	sp,sp,-4
  153780:	df000015 	stw	fp,0(sp)
  153784:	d839883a 	mov	fp,sp

	# Convert [0 to 127] to signed 8-bit [-127 to 127].
	# Then update trigger level.
	MOVWI	r8, TRIG_LEVEL_BASE
  153788:	020005b4 	movhi	r8,22
  15378c:	42043014 	ori	r8,r8,4288
	slli	r9, r4, 1
  153790:	2012907a 	slli	r9,r4,1
	subi	r9, r9, 127
  153794:	4a7fe044 	addi	r9,r9,-127
	andi	r9, r9, 0xFF
  153798:	4a403fcc 	andi	r9,r9,255
	stw		r9, (r8)
  15379c:	42400015 	stw	r9,0(r8)

	# Slope is second bit of TRIG_CTRL. Modify the given
	# argument, then update slope.
	beq		r5, r0, set_trigger_slope_pos
  1537a0:	28000526 	beq	r5,zero,1537b8 <set_trigger_slope_pos>
	movi	r8, 0x02
  1537a4:	02000084 	movi	r8,2
	MOVWI	r9, TRIG_CTRL_BASE
  1537a8:	024005b4 	movhi	r9,22
  1537ac:	4a443814 	ori	r9,r9,4320
	stw		r8, PIO_OUTSET(r9)
  1537b0:	4a000415 	stw	r8,16(r9)
	br		set_trigger_done
  1537b4:	00000406 	br	1537c8 <set_trigger_done>

001537b8 <set_trigger_slope_pos>:

set_trigger_slope_pos:
	movi	r8, 0x02
  1537b8:	02000084 	movi	r8,2
	MOVWI	r9, TRIG_CTRL_BASE
  1537bc:	024005b4 	movhi	r9,22
  1537c0:	4a443814 	ori	r9,r9,4320
	stw		r8, PIO_OUTCLR(r9)
  1537c4:	4a000515 	stw	r8,20(r9)

001537c8 <set_trigger_done>:

set_trigger_done:
	RESTORE
  1537c8:	e037883a 	mov	sp,fp
  1537cc:	df000017 	ldw	fp,0(sp)
  1537d0:	dec00104 	addi	sp,sp,4
  1537d4:	dfc00017 	ldw	ra,0(sp)
  1537d8:	dec00104 	addi	sp,sp,4
	ret
  1537dc:	f800283a 	ret

001537e0 <set_delay>:

.global set_delay
.type set_delay, @function

set_delay:
	SAVE
  1537e0:	deffff04 	addi	sp,sp,-4
  1537e4:	dfc00015 	stw	ra,0(sp)
  1537e8:	deffff04 	addi	sp,sp,-4
  1537ec:	df000015 	stw	fp,0(sp)
  1537f0:	d839883a 	mov	fp,sp

	# Simply set the delay...
	MOVWI	r8, TRIG_DELAY_BASE
  1537f4:	020005b4 	movhi	r8,22
  1537f8:	42042814 	ori	r8,r8,4256
	stw		r4, (r8)
  1537fc:	41000015 	stw	r4,0(r8)

00153800 <set_delay_done>:

set_delay_done:
	RESTORE
  153800:	e037883a 	mov	sp,fp
  153804:	df000017 	ldw	fp,0(sp)
  153808:	dec00104 	addi	sp,sp,4
  15380c:	dfc00017 	ldw	ra,0(sp)
  153810:	dec00104 	addi	sp,sp,4
	ret
  153814:	f800283a 	ret

00153818 <start_sample>:

.global start_sample
.type start_sample, @function

start_sample:
	SAVE
  153818:	deffff04 	addi	sp,sp,-4
  15381c:	dfc00015 	stw	ra,0(sp)
  153820:	deffff04 	addi	sp,sp,-4
  153824:	df000015 	stw	fp,0(sp)
  153828:	d839883a 	mov	fp,sp

	# Clear the edge capture register (write 1 to clear).
	MOVWI	r8, TRIG_INT_BASE
  15382c:	020005b4 	movhi	r8,22
  153830:	42044814 	ori	r8,r8,4384
	MOVWI	r9, 0xFFFFFFFF
  153834:	027ffff4 	movhi	r9,65535
  153838:	4a7fffd4 	ori	r9,r9,65535
	stw		r9, PIO_EDGE_CAP(r8)
  15383c:	42400315 	stw	r9,12(r8)

	# Enable trigger interrupts.
	MOVWI	r9, 0x00000002
  153840:	02400034 	movhi	r9,0
  153844:	4a400094 	ori	r9,r9,2
	# If auto-trigger, enable time-outs as well.
	slli	r8, r4, 2
  153848:	201090ba 	slli	r8,r4,2
	add		r9, r8, r9
  15384c:	4253883a 	add	r9,r8,r9

	MOVWI	r8, TRIG_INT_BASE
  153850:	020005b4 	movhi	r8,22
  153854:	42044814 	ori	r8,r8,4384
	stw		r9, PIO_IRQ_MASK(r8)
  153858:	42400215 	stw	r9,8(r8)

	# Clear FIFO, turn on FIFO write.
	STWI	ADC_CTRL_BASE, 0x04
  15385c:	deffff04 	addi	sp,sp,-4
  153860:	da400015 	stw	r9,0(sp)
  153864:	deffff04 	addi	sp,sp,-4
  153868:	da800015 	stw	r10,0(sp)
  15386c:	024005b4 	movhi	r9,22
  153870:	4a444014 	ori	r9,r9,4352
  153874:	02800034 	movhi	r10,0
  153878:	52800114 	ori	r10,r10,4
  15387c:	4a800035 	stwio	r10,0(r9)
  153880:	da800017 	ldw	r10,0(sp)
  153884:	dec00104 	addi	sp,sp,4
  153888:	da400017 	ldw	r9,0(sp)
  15388c:	dec00104 	addi	sp,sp,4
	STWI	ADC_CTRL_BASE, 0x02
  153890:	deffff04 	addi	sp,sp,-4
  153894:	da400015 	stw	r9,0(sp)
  153898:	deffff04 	addi	sp,sp,-4
  15389c:	da800015 	stw	r10,0(sp)
  1538a0:	024005b4 	movhi	r9,22
  1538a4:	4a444014 	ori	r9,r9,4352
  1538a8:	02800034 	movhi	r10,0
  1538ac:	52800094 	ori	r10,r10,2
  1538b0:	4a800035 	stwio	r10,0(r9)
  1538b4:	da800017 	ldw	r10,0(sp)
  1538b8:	dec00104 	addi	sp,sp,4
  1538bc:	da400017 	ldw	r9,0(sp)
  1538c0:	dec00104 	addi	sp,sp,4

	# Restart trigger counter [ch. A], [+ slope]
	MOVWI	r8, TRIG_CTRL_BASE
  1538c4:	020005b4 	movhi	r8,22
  1538c8:	42043814 	ori	r8,r8,4320
	movi	r9, 1
  1538cc:	02400044 	movi	r9,1
	stw		r9, PIO_OUTSET(r8)
  1538d0:	42400415 	stw	r9,16(r8)
	stw		r9, PIO_OUTCLR(r8)
  1538d4:	42400515 	stw	r9,20(r8)

001538d8 <start_sample_done>:

start_sample_done:
	RESTORE
  1538d8:	e037883a 	mov	sp,fp
  1538dc:	df000017 	ldw	fp,0(sp)
  1538e0:	dec00104 	addi	sp,sp,4
  1538e4:	dfc00017 	ldw	ra,0(sp)
  1538e8:	dec00104 	addi	sp,sp,4
	ret
  1538ec:	f800283a 	ret

001538f0 <sample_done>:

.global sample_done
.type sample_done, @function

sample_done:
	SAVE
  1538f0:	deffff04 	addi	sp,sp,-4
  1538f4:	dfc00015 	stw	ra,0(sp)
  1538f8:	deffff04 	addi	sp,sp,-4
  1538fc:	df000015 	stw	fp,0(sp)
  153900:	d839883a 	mov	fp,sp
  153904:	02000574 	movhi	r8,21

	# Test if sample occurred.
	movia	r8, sample_complete
  153908:	4213b804 	addi	r8,r8,20192
	ldb		r9, (r8)
  15390c:	42400007 	ldb	r9,0(r8)
	beq		r9, r0, sample_null
  153910:	48000426 	beq	r9,zero,153924 <sample_null>

	# If so, reset sample complete variable and return map to buffers.
	stb		r0, (r8)
  153914:	40000005 	stb	zero,0(r8)
  153918:	00800574 	movhi	r2,21
	movia	r2, sample_map
  15391c:	108e5004 	addi	r2,r2,14656
	br		sample_done_done
  153920:	00000106 	br	153928 <sample_done_done>

00153924 <sample_null>:

sample_null:
	# Otherwise, return null.
	mov		r2, r0
  153924:	0005883a 	mov	r2,zero

00153928 <sample_done_done>:

sample_done_done:
	RESTORE
  153928:	e037883a 	mov	sp,fp
  15392c:	df000017 	ldw	fp,0(sp)
  153930:	dec00104 	addi	sp,sp,4
  153934:	dfc00017 	ldw	ra,0(sp)
  153938:	dec00104 	addi	sp,sp,4
	ret
  15393c:	f800283a 	ret

00153940 <sample_map>:
  153940:	00154ee0 	cmpeqi	zero,zero,21819
  153944:	001550c0 	call	1550c <PIO_OUTCLR+0x154f8>
  153948:	001552a0 	cmpeqi	zero,zero,21834
  15394c:	00155480 	call	15548 <PIO_OUTCLR+0x15534>
  153950:	00155660 	cmpeqi	zero,zero,21849
  153954:	00155840 	call	15584 <PIO_OUTCLR+0x15570>

00153958 <test_disp>:

.global test_disp
.type test_disp,@function

test_disp:
	movhi	r8, %hi(VRAM_CTRL_BASE)
  153958:	02000234 	movhi	r8,8
	ori		r8, r8, %lo(VRAM_CTRL_BASE)
  15395c:	42000234 	orhi	r8,r8,8
	mov		r11, r0
  153960:	0017883a 	mov	r11,zero
	mov		r12, r0
  153964:	0019883a 	mov	r12,zero

00153968 <disp>:

disp:
	movi	r13, 136
  153968:	03402204 	movi	r13,136
	bltu	r12, r13, draw_top
  15396c:	63400836 	bltu	r12,r13,153990 <draw_top>
	br 		draw_bot
  153970:	00000a06 	br	15399c <draw_bot>

00153974 <disp_cont>:
disp_cont:
	addi	r8, r8, 2
  153974:	42000084 	addi	r8,r8,2
	addi	r11, r11, 1
  153978:	5ac00044 	addi	r11,r11,1
	movi	r13, 272
  15397c:	03404404 	movi	r13,272
	bgeu	r12, r13, draw_border
  153980:	6340152e 	bgeu	r12,r13,1539d8 <draw_border>
	movi	r13, 0x0200
  153984:	03408004 	movi	r13,512
	bgeu	r11, r13, disp_reset
  153988:	5b403d2e 	bgeu	r11,r13,153a80 <disp_reset>
	br		disp
  15398c:	003ff606 	br	153968 <disp>

00153990 <draw_top>:

draw_top:
	movi	r13, 240
  153990:	03403c04 	movi	r13,240
	bltu	r11, r13, draw_red
  153994:	5b400436 	bltu	r11,r13,1539a8 <draw_red>
	br		draw_yellow
  153998:	00000606 	br	1539b4 <draw_yellow>

0015399c <draw_bot>:

draw_bot:
	movi	r13, 240
  15399c:	03403c04 	movi	r13,240
	bltu	r11, r13, draw_green
  1539a0:	5b400736 	bltu	r11,r13,1539c0 <draw_green>
	br		draw_blue
  1539a4:	00000906 	br	1539cc <draw_blue>

001539a8 <draw_red>:

draw_red:
	movi	r9, 0x1F00
  1539a8:	0247c004 	movi	r9,7936
	sthio	r9, (r8)
  1539ac:	4240002d 	sthio	r9,0(r8)
	br 		disp_cont
  1539b0:	003ff006 	br	153974 <disp_cont>

001539b4 <draw_yellow>:

draw_yellow:
	movui	r9, 0xFF03
  1539b4:	027fc0d4 	movui	r9,65283
	sthio 	r9, (r8)
  1539b8:	4240002d 	sthio	r9,0(r8)
	br		disp_cont
  1539bc:	003fed06 	br	153974 <disp_cont>

001539c0 <draw_green>:

draw_green:
	movui	r9, 0xE003
  1539c0:	027800d4 	movui	r9,57347
	sthio 	r9, (r8)
  1539c4:	4240002d 	sthio	r9,0(r8)
	br		disp_cont
  1539c8:	003fea06 	br	153974 <disp_cont>

001539cc <draw_blue>:

draw_blue:
	movi	r9, 0x007C
  1539cc:	02401f04 	movi	r9,124
	sthio 	r9, (r8)
  1539d0:	4240002d 	sthio	r9,0(r8)
	br		disp_cont
  1539d4:	003fe706 	br	153974 <disp_cont>

001539d8 <draw_border>:

draw_border:
	movi	r9, 0x1F7C
  1539d8:	0247df04 	movi	r9,8060
	movi	r12, 272
  1539dc:	03004404 	movi	r12,272
	movi	r13, 480
  1539e0:	03407804 	movi	r13,480

001539e4 <draw_border_top>:

draw_border_top:
	movhi	r8, %hi(VRAM_CTRL_BASE)
  1539e4:	02000234 	movhi	r8,8
	ori		r8, r8, %lo(VRAM_CTRL_BASE)
  1539e8:	42000234 	orhi	r8,r8,8
	addi	r8, r8, 0x0400
  1539ec:	42010004 	addi	r8,r8,1024
	mov		r11, r0
  1539f0:	0017883a 	mov	r11,zero

001539f4 <dbt_loop>:
dbt_loop:
	sthio	r9, (r8)
  1539f4:	4240002d 	sthio	r9,0(r8)
	addi	r8, r8, 2
  1539f8:	42000084 	addi	r8,r8,2
	addi	r11, r11, 1
  1539fc:	5ac00044 	addi	r11,r11,1
	bgeu	r11, r13, draw_border_bot
  153a00:	5b40012e 	bgeu	r11,r13,153a08 <draw_border_bot>
	br		dbt_loop
  153a04:	003ffb06 	br	1539f4 <dbt_loop>

00153a08 <draw_border_bot>:

draw_border_bot:
	movhi	r8, %hi(VRAM_CTRL_BASE)
  153a08:	02000234 	movhi	r8,8
	ori		r8, r8, %lo(VRAM_CTRL_BASE)
  153a0c:	42000234 	orhi	r8,r8,8
	movhi	r14, %hi(277504)
  153a10:	03800134 	movhi	r14,4
	ori		r14, r14, %lo(277504)
  153a14:	738f0014 	ori	r14,r14,15360
	add		r8, r8, r14
  153a18:	4391883a 	add	r8,r8,r14
	mov		r11, r0
  153a1c:	0017883a 	mov	r11,zero

00153a20 <dbb_loop>:
dbb_loop:
	sthio	r9, (r8)
  153a20:	4240002d 	sthio	r9,0(r8)
	addi	r8, r8, 2
  153a24:	42000084 	addi	r8,r8,2
	addi	r11, r11, 1
  153a28:	5ac00044 	addi	r11,r11,1
	bgeu	r11, r13, draw_border_left
  153a2c:	5b40012e 	bgeu	r11,r13,153a34 <draw_border_left>
	br		dbb_loop
  153a30:	003ffb06 	br	153a20 <dbb_loop>

00153a34 <draw_border_left>:

draw_border_left:
	movhi	r8, %hi(VRAM_CTRL_BASE)
  153a34:	02000234 	movhi	r8,8
	ori		r8, r8, %lo(VRAM_CTRL_BASE)
  153a38:	42000234 	orhi	r8,r8,8
	mov		r11, r0
  153a3c:	0017883a 	mov	r11,zero

00153a40 <dbl_loop>:
dbl_loop:
	sthio	r9, (r8)
  153a40:	4240002d 	sthio	r9,0(r8)
	addi	r8, r8, 0x0400
  153a44:	42010004 	addi	r8,r8,1024
	addi	r11, r11, 1
  153a48:	5ac00044 	addi	r11,r11,1
	bgeu	r11, r12, draw_border_right
  153a4c:	5b00012e 	bgeu	r11,r12,153a54 <draw_border_right>
	br		dbl_loop
  153a50:	003ffb06 	br	153a40 <dbl_loop>

00153a54 <draw_border_right>:

draw_border_right:
	movhi	r8, %hi(VRAM_CTRL_BASE)
  153a54:	02000234 	movhi	r8,8
	ori		r8, r8, %lo(VRAM_CTRL_BASE)
  153a58:	42000234 	orhi	r8,r8,8
	add		r8, r8, r13
  153a5c:	4351883a 	add	r8,r8,r13
	add		r8, r8, r13
  153a60:	4351883a 	add	r8,r8,r13
	subi	r8, r8, 1
  153a64:	423fffc4 	addi	r8,r8,-1
	mov		r11, r0
  153a68:	0017883a 	mov	r11,zero

00153a6c <dbr_loop>:
dbr_loop:
	sthio	r9, (r8)
  153a6c:	4240002d 	sthio	r9,0(r8)
	addi	r8, r8, 0x0400
  153a70:	42010004 	addi	r8,r8,1024
	addi	r11, r11, 1
  153a74:	5ac00044 	addi	r11,r11,1
	bgeu	r11, r12, test_disp_done
  153a78:	5b00042e 	bgeu	r11,r12,153a8c <test_disp_done>
	br		dbr_loop
  153a7c:	003ffb06 	br	153a6c <dbr_loop>

00153a80 <disp_reset>:

disp_reset:
	mov		r11, r0
  153a80:	0017883a 	mov	r11,zero
	addi	r12, r12, 1
  153a84:	63000044 	addi	r12,r12,1
	br		disp
  153a88:	003fb706 	br	153968 <disp>

00153a8c <test_disp_done>:

test_disp_done:
	ret
  153a8c:	f800283a 	ret

00153a90 <test_vram>:

.global test_vram
.type test_vram,@function

test_vram:
	SAVE
  153a90:	deffff04 	addi	sp,sp,-4
  153a94:	dfc00015 	stw	ra,0(sp)
  153a98:	deffff04 	addi	sp,sp,-4
  153a9c:	df000015 	stw	fp,0(sp)
  153aa0:	d839883a 	mov	fp,sp

	movhi	r8, %hi(VRAM_CTRL_BASE)
  153aa4:	02000234 	movhi	r8,8
	ori		r8, r8, %lo(VRAM_CTRL_BASE)
  153aa8:	42000234 	orhi	r8,r8,8
	movhi	r9, %hi(VRAM_CTRL_SPAN)
  153aac:	02400234 	movhi	r9,8
	ori		r9, r9, %lo(VRAM_CTRL_SPAN)
  153ab0:	4a400234 	orhi	r9,r9,8
	add		r9, r8, r9
  153ab4:	4253883a 	add	r9,r8,r9
	movui	r12, 0x7000
  153ab8:	031c0014 	movui	r12,28672

	#call	write_read_all

	call	write_all
  153abc:	0153aec0 	call	153aec <write_all>
	call	read_all
  153ac0:	0153b180 	call	153b18 <read_all>

	nop
  153ac4:	0001883a 	nop
	call	read_all
  153ac8:	0153b180 	call	153b18 <read_all>

00153acc <test_vram_fail>:

test_vram_fail:
	nop
  153acc:	0001883a 	nop
	br 		test_vram_fail
  153ad0:	003ffe06 	br	153acc <test_vram_fail>

00153ad4 <test_vram_done>:

test_vram_done:
	RESTORE
  153ad4:	e037883a 	mov	sp,fp
  153ad8:	df000017 	ldw	fp,0(sp)
  153adc:	dec00104 	addi	sp,sp,4
  153ae0:	dfc00017 	ldw	ra,0(sp)
  153ae4:	dec00104 	addi	sp,sp,4
	ret
  153ae8:	f800283a 	ret

00153aec <write_all>:


.type write_all, @function

write_all:
	mov		r10, r8
  153aec:	4015883a 	mov	r10,r8
	mov		r11, r0
  153af0:	0017883a 	mov	r11,zero

00153af4 <write_all_loop>:

write_all_loop:
	sthio	r11, (r10)
  153af4:	52c0002d 	sthio	r11,0(r10)
	addi	r10, r10, 2
  153af8:	52800084 	addi	r10,r10,2
	addi	r11, r11, 1
  153afc:	5ac00044 	addi	r11,r11,1
	bgeu	r10, r9, write_all_done
  153b00:	5240042e 	bgeu	r10,r9,153b14 <write_all_done>
	bgeu	r11, r12, write_all_reset_cnt
  153b04:	5b00012e 	bgeu	r11,r12,153b0c <write_all_reset_cnt>
	br		write_all_loop
  153b08:	003ffa06 	br	153af4 <write_all_loop>

00153b0c <write_all_reset_cnt>:

write_all_reset_cnt:
	mov		r11, r0
  153b0c:	0017883a 	mov	r11,zero
	br		write_all_loop
  153b10:	003ff806 	br	153af4 <write_all_loop>

00153b14 <write_all_done>:

write_all_done:
	ret
  153b14:	f800283a 	ret

00153b18 <read_all>:


.type read_all, @function

read_all:
	mov		r10, r8
  153b18:	4015883a 	mov	r10,r8
	mov		r11, r0
  153b1c:	0017883a 	mov	r11,zero

00153b20 <read_all_loop>:

read_all_loop:
	ldhio	r13, (r10)
  153b20:	5340002f 	ldhio	r13,0(r10)
	bne		r13, r11, test_vram_fail
  153b24:	6affe91e 	bne	r13,r11,153acc <test_vram_fail>
	addi	r10, r10, 2
  153b28:	52800084 	addi	r10,r10,2
	addi	r11, r11, 1
  153b2c:	5ac00044 	addi	r11,r11,1
	bgeu	r10, r9, read_all_done
  153b30:	5240042e 	bgeu	r10,r9,153b44 <read_all_done>
	bgeu	r11, r12, read_all_reset_cnt
  153b34:	5b00012e 	bgeu	r11,r12,153b3c <read_all_reset_cnt>
	br		read_all_loop
  153b38:	003ff906 	br	153b20 <read_all_loop>

00153b3c <read_all_reset_cnt>:

read_all_reset_cnt:
	mov		r11, r0
  153b3c:	0017883a 	mov	r11,zero
	br		write_all_loop
  153b40:	003fec06 	br	153af4 <write_all_loop>

00153b44 <read_all_done>:

read_all_done:
	ret
  153b44:	f800283a 	ret

00153b48 <memcpy>:
  153b48:	00c003c4 	movi	r3,15
  153b4c:	2005883a 	mov	r2,r4
  153b50:	3009883a 	mov	r4,r6
  153b54:	1980032e 	bgeu	r3,r6,153b64 <memcpy+0x1c>
  153b58:	2886b03a 	or	r3,r5,r2
  153b5c:	18c000cc 	andi	r3,r3,3
  153b60:	18000926 	beq	r3,zero,153b88 <memcpy+0x40>
  153b64:	1007883a 	mov	r3,r2
  153b68:	290f883a 	add	r7,r5,r4
  153b6c:	20000526 	beq	r4,zero,153b84 <memcpy+0x3c>
  153b70:	29800003 	ldbu	r6,0(r5)
  153b74:	18c00044 	addi	r3,r3,1
  153b78:	29400044 	addi	r5,r5,1
  153b7c:	19bfffc5 	stb	r6,-1(r3)
  153b80:	29fffb1e 	bne	r5,r7,153b70 <memcpy+0x28>
  153b84:	f800283a 	ret
  153b88:	327ffc04 	addi	r9,r6,-16
  153b8c:	4812d13a 	srli	r9,r9,4
  153b90:	11000404 	addi	r4,r2,16
  153b94:	1007883a 	mov	r3,r2
  153b98:	4810913a 	slli	r8,r9,4
  153b9c:	280f883a 	mov	r7,r5
  153ba0:	2209883a 	add	r4,r4,r8
  153ba4:	3a000017 	ldw	r8,0(r7)
  153ba8:	18c00404 	addi	r3,r3,16
  153bac:	39c00404 	addi	r7,r7,16
  153bb0:	1a3ffc15 	stw	r8,-16(r3)
  153bb4:	3a3ffd17 	ldw	r8,-12(r7)
  153bb8:	1a3ffd15 	stw	r8,-12(r3)
  153bbc:	3a3ffe17 	ldw	r8,-8(r7)
  153bc0:	1a3ffe15 	stw	r8,-8(r3)
  153bc4:	3a3fff17 	ldw	r8,-4(r7)
  153bc8:	1a3fff15 	stw	r8,-4(r3)
  153bcc:	193ff51e 	bne	r3,r4,153ba4 <memcpy+0x5c>
  153bd0:	49c00044 	addi	r7,r9,1
  153bd4:	380e913a 	slli	r7,r7,4
  153bd8:	310003cc 	andi	r4,r6,15
  153bdc:	018000c4 	movi	r6,3
  153be0:	11c7883a 	add	r3,r2,r7
  153be4:	29cb883a 	add	r5,r5,r7
  153be8:	313fdf2e 	bgeu	r6,r4,153b68 <memcpy+0x20>
  153bec:	213fff04 	addi	r4,r4,-4
  153bf0:	2014d0ba 	srli	r10,r4,2
  153bf4:	1a400104 	addi	r9,r3,4
  153bf8:	180d883a 	mov	r6,r3
  153bfc:	528f883a 	add	r7,r10,r10
  153c00:	39cf883a 	add	r7,r7,r7
  153c04:	49d3883a 	add	r9,r9,r7
  153c08:	280f883a 	mov	r7,r5
  153c0c:	3a000017 	ldw	r8,0(r7)
  153c10:	31800104 	addi	r6,r6,4
  153c14:	39c00104 	addi	r7,r7,4
  153c18:	323fff15 	stw	r8,-4(r6)
  153c1c:	327ffb1e 	bne	r6,r9,153c0c <memcpy+0xc4>
  153c20:	51800044 	addi	r6,r10,1
  153c24:	52bfff24 	muli	r10,r10,-4
  153c28:	318d883a 	add	r6,r6,r6
  153c2c:	318d883a 	add	r6,r6,r6
  153c30:	5109883a 	add	r4,r10,r4
  153c34:	298b883a 	add	r5,r5,r6
  153c38:	1987883a 	add	r3,r3,r6
  153c3c:	003fca06 	br	153b68 <memcpy+0x20>

00153c40 <alt_ic_isr_register>:
  * @param irq              IRQ number
  * @return                 0 if successful, else error (-1)
  */
int alt_ic_isr_register(alt_u32 ic_id, alt_u32 irq, alt_isr_func isr, 
  void *isr_context, void *flags)
{
  153c40:	defff904 	addi	sp,sp,-28
  153c44:	dfc00615 	stw	ra,24(sp)
  153c48:	df000515 	stw	fp,20(sp)
  153c4c:	df000504 	addi	fp,sp,20
  153c50:	e13ffc15 	stw	r4,-16(fp)
  153c54:	e17ffd15 	stw	r5,-12(fp)
  153c58:	e1bffe15 	stw	r6,-8(fp)
  153c5c:	e1ffff15 	stw	r7,-4(fp)
    return alt_iic_isr_register(ic_id, irq, isr, isr_context, flags);
  153c60:	e0800217 	ldw	r2,8(fp)
  153c64:	d8800015 	stw	r2,0(sp)
  153c68:	e13ffc17 	ldw	r4,-16(fp)
  153c6c:	e17ffd17 	ldw	r5,-12(fp)
  153c70:	e1bffe17 	ldw	r6,-8(fp)
  153c74:	e1ffff17 	ldw	r7,-4(fp)
  153c78:	0153e180 	call	153e18 <alt_iic_isr_register>
}  
  153c7c:	e037883a 	mov	sp,fp
  153c80:	dfc00117 	ldw	ra,4(sp)
  153c84:	df000017 	ldw	fp,0(sp)
  153c88:	dec00204 	addi	sp,sp,8
  153c8c:	f800283a 	ret

00153c90 <alt_ic_irq_enable>:
  * @param ic_id            Ignored.
  * @param irq              IRQ number
  * @return                 0 if successful, else error (-1)
  */
int alt_ic_irq_enable (alt_u32 ic_id, alt_u32 irq)
{
  153c90:	defff904 	addi	sp,sp,-28
  153c94:	df000615 	stw	fp,24(sp)
  153c98:	df000604 	addi	fp,sp,24
  153c9c:	e13ffe15 	stw	r4,-8(fp)
  153ca0:	e17fff15 	stw	r5,-4(fp)
  153ca4:	e0bfff17 	ldw	r2,-4(fp)
  153ca8:	e0bffa15 	stw	r2,-24(fp)
static ALT_INLINE alt_irq_context ALT_ALWAYS_INLINE 
       alt_irq_disable_all (void)
{
  alt_irq_context context;

  NIOS2_READ_STATUS (context);
  153cac:	0005303a 	rdctl	r2,status
  153cb0:	e0bffb15 	stw	r2,-20(fp)

  NIOS2_WRITE_STATUS (context & ~NIOS2_STATUS_PIE_MSK);
  153cb4:	e0fffb17 	ldw	r3,-20(fp)
  153cb8:	00bfff84 	movi	r2,-2
  153cbc:	1884703a 	and	r2,r3,r2
  153cc0:	1001703a 	wrctl	status,r2
  
  return context;
  153cc4:	e0bffb17 	ldw	r2,-20(fp)
static ALT_INLINE int ALT_ALWAYS_INLINE alt_irq_enable (alt_u32 id)
{
  alt_irq_context  status;
  extern volatile alt_u32 alt_irq_active;

  status = alt_irq_disable_all ();
  153cc8:	e0bffc15 	stw	r2,-16(fp)

  alt_irq_active |= (1 << id);
  153ccc:	e0bffa17 	ldw	r2,-24(fp)
  153cd0:	00c00044 	movi	r3,1
  153cd4:	1884983a 	sll	r2,r3,r2
  153cd8:	1007883a 	mov	r3,r2
  153cdc:	00800574 	movhi	r2,21
  153ce0:	109c5704 	addi	r2,r2,29020
  153ce4:	10800017 	ldw	r2,0(r2)
  153ce8:	1886b03a 	or	r3,r3,r2
  153cec:	00800574 	movhi	r2,21
  153cf0:	109c5704 	addi	r2,r2,29020
  153cf4:	10c00015 	stw	r3,0(r2)
  NIOS2_WRITE_IENABLE (alt_irq_active);
  153cf8:	00800574 	movhi	r2,21
  153cfc:	109c5704 	addi	r2,r2,29020
  153d00:	10800017 	ldw	r2,0(r2)
  153d04:	100170fa 	wrctl	ienable,r2
  153d08:	e0bffc17 	ldw	r2,-16(fp)
  153d0c:	e0bffd15 	stw	r2,-12(fp)
  status &= ~NIOS2_STATUS_PIE_MSK;
  status |= (context & NIOS2_STATUS_PIE_MSK);
  
  NIOS2_WRITE_STATUS (status);
#else
  NIOS2_WRITE_STATUS (context);
  153d10:	e0bffd17 	ldw	r2,-12(fp)
  153d14:	1001703a 	wrctl	status,r2

  alt_irq_enable_all(status);

  return 0;
  153d18:	0005883a 	mov	r2,zero
    return alt_irq_enable(irq);
}
  153d1c:	e037883a 	mov	sp,fp
  153d20:	df000017 	ldw	fp,0(sp)
  153d24:	dec00104 	addi	sp,sp,4
  153d28:	f800283a 	ret

00153d2c <alt_ic_irq_disable>:
  * @param ic_id            Ignored.
  * @param irq              IRQ number
  * @return                 0 if successful, else error (-1)
  */
int alt_ic_irq_disable(alt_u32 ic_id, alt_u32 irq)
{
  153d2c:	defff904 	addi	sp,sp,-28
  153d30:	df000615 	stw	fp,24(sp)
  153d34:	df000604 	addi	fp,sp,24
  153d38:	e13ffe15 	stw	r4,-8(fp)
  153d3c:	e17fff15 	stw	r5,-4(fp)
  153d40:	e0bfff17 	ldw	r2,-4(fp)
  153d44:	e0bffa15 	stw	r2,-24(fp)
static ALT_INLINE alt_irq_context ALT_ALWAYS_INLINE 
       alt_irq_disable_all (void)
{
  alt_irq_context context;

  NIOS2_READ_STATUS (context);
  153d48:	0005303a 	rdctl	r2,status
  153d4c:	e0bffb15 	stw	r2,-20(fp)

  NIOS2_WRITE_STATUS (context & ~NIOS2_STATUS_PIE_MSK);
  153d50:	e0fffb17 	ldw	r3,-20(fp)
  153d54:	00bfff84 	movi	r2,-2
  153d58:	1884703a 	and	r2,r3,r2
  153d5c:	1001703a 	wrctl	status,r2
  
  return context;
  153d60:	e0bffb17 	ldw	r2,-20(fp)
static ALT_INLINE int ALT_ALWAYS_INLINE alt_irq_disable (alt_u32 id)
{
  alt_irq_context  status;
  extern volatile alt_u32 alt_irq_active;

  status = alt_irq_disable_all ();
  153d64:	e0bffc15 	stw	r2,-16(fp)

  alt_irq_active &= ~(1 << id);
  153d68:	e0bffa17 	ldw	r2,-24(fp)
  153d6c:	00c00044 	movi	r3,1
  153d70:	1884983a 	sll	r2,r3,r2
  153d74:	0084303a 	nor	r2,zero,r2
  153d78:	1007883a 	mov	r3,r2
  153d7c:	00800574 	movhi	r2,21
  153d80:	109c5704 	addi	r2,r2,29020
  153d84:	10800017 	ldw	r2,0(r2)
  153d88:	1886703a 	and	r3,r3,r2
  153d8c:	00800574 	movhi	r2,21
  153d90:	109c5704 	addi	r2,r2,29020
  153d94:	10c00015 	stw	r3,0(r2)
  NIOS2_WRITE_IENABLE (alt_irq_active);
  153d98:	00800574 	movhi	r2,21
  153d9c:	109c5704 	addi	r2,r2,29020
  153da0:	10800017 	ldw	r2,0(r2)
  153da4:	100170fa 	wrctl	ienable,r2
  153da8:	e0bffc17 	ldw	r2,-16(fp)
  153dac:	e0bffd15 	stw	r2,-12(fp)
  status &= ~NIOS2_STATUS_PIE_MSK;
  status |= (context & NIOS2_STATUS_PIE_MSK);
  
  NIOS2_WRITE_STATUS (status);
#else
  NIOS2_WRITE_STATUS (context);
  153db0:	e0bffd17 	ldw	r2,-12(fp)
  153db4:	1001703a 	wrctl	status,r2

  alt_irq_enable_all(status);

  return 0;
  153db8:	0005883a 	mov	r2,zero
    return alt_irq_disable(irq);
}
  153dbc:	e037883a 	mov	sp,fp
  153dc0:	df000017 	ldw	fp,0(sp)
  153dc4:	dec00104 	addi	sp,sp,4
  153dc8:	f800283a 	ret

00153dcc <alt_ic_irq_enabled>:
  * @param irq              IRQ number
  * @return                 Zero if corresponding interrupt is disabled and
  *                         non-zero otherwise.
  */
alt_u32 alt_ic_irq_enabled(alt_u32 ic_id, alt_u32 irq)
{
  153dcc:	defffc04 	addi	sp,sp,-16
  153dd0:	df000315 	stw	fp,12(sp)
  153dd4:	df000304 	addi	fp,sp,12
  153dd8:	e13ffe15 	stw	r4,-8(fp)
  153ddc:	e17fff15 	stw	r5,-4(fp)
    alt_u32 irq_enabled;

    NIOS2_READ_IENABLE(irq_enabled);
  153de0:	000530fa 	rdctl	r2,ienable
  153de4:	e0bffd15 	stw	r2,-12(fp)

    return (irq_enabled & (1 << irq)) ? 1: 0;
  153de8:	e0bfff17 	ldw	r2,-4(fp)
  153dec:	00c00044 	movi	r3,1
  153df0:	1884983a 	sll	r2,r3,r2
  153df4:	1007883a 	mov	r3,r2
  153df8:	e0bffd17 	ldw	r2,-12(fp)
  153dfc:	1884703a 	and	r2,r3,r2
  153e00:	1004c03a 	cmpne	r2,r2,zero
  153e04:	10803fcc 	andi	r2,r2,255
}
  153e08:	e037883a 	mov	sp,fp
  153e0c:	df000017 	ldw	fp,0(sp)
  153e10:	dec00104 	addi	sp,sp,4
  153e14:	f800283a 	ret

00153e18 <alt_iic_isr_register>:
  * @param flags            
  * @return                 0 if successful, else error (-1)
  */
int alt_iic_isr_register(alt_u32 ic_id, alt_u32 irq, alt_isr_func isr, 
  void *isr_context, void *flags)
{
  153e18:	defff504 	addi	sp,sp,-44
  153e1c:	dfc00a15 	stw	ra,40(sp)
  153e20:	df000915 	stw	fp,36(sp)
  153e24:	df000904 	addi	fp,sp,36
  153e28:	e13ffc15 	stw	r4,-16(fp)
  153e2c:	e17ffd15 	stw	r5,-12(fp)
  153e30:	e1bffe15 	stw	r6,-8(fp)
  153e34:	e1ffff15 	stw	r7,-4(fp)
  int rc = -EINVAL;  
  153e38:	00bffa84 	movi	r2,-22
  153e3c:	e0bff715 	stw	r2,-36(fp)
  int id = irq;             /* IRQ interpreted as the interrupt ID. */
  153e40:	e0bffd17 	ldw	r2,-12(fp)
  153e44:	e0bff815 	stw	r2,-32(fp)
  alt_irq_context status;

  if (id < ALT_NIRQ)
  153e48:	e0bff817 	ldw	r2,-32(fp)
  153e4c:	10800808 	cmpgei	r2,r2,32
  153e50:	1000271e 	bne	r2,zero,153ef0 <alt_iic_isr_register+0xd8>
static ALT_INLINE alt_irq_context ALT_ALWAYS_INLINE 
       alt_irq_disable_all (void)
{
  alt_irq_context context;

  NIOS2_READ_STATUS (context);
  153e54:	0005303a 	rdctl	r2,status
  153e58:	e0bffa15 	stw	r2,-24(fp)

  NIOS2_WRITE_STATUS (context & ~NIOS2_STATUS_PIE_MSK);
  153e5c:	e0fffa17 	ldw	r3,-24(fp)
  153e60:	00bfff84 	movi	r2,-2
  153e64:	1884703a 	and	r2,r3,r2
  153e68:	1001703a 	wrctl	status,r2
  
  return context;
  153e6c:	e0bffa17 	ldw	r2,-24(fp)
     * interrupts are disabled while the handler tables are updated to ensure
     * that an interrupt doesn't occur while the tables are in an inconsistant
     * state.
     */

    status = alt_irq_disable_all();
  153e70:	e0bff915 	stw	r2,-28(fp)

    alt_irq[id].handler = isr;
  153e74:	00c00574 	movhi	r3,21
  153e78:	18df5104 	addi	r3,r3,32068
  153e7c:	e0bff817 	ldw	r2,-32(fp)
  153e80:	100490fa 	slli	r2,r2,3
  153e84:	1885883a 	add	r2,r3,r2
  153e88:	e0fffe17 	ldw	r3,-8(fp)
  153e8c:	10c00015 	stw	r3,0(r2)
    alt_irq[id].context = isr_context;
  153e90:	00c00574 	movhi	r3,21
  153e94:	18df5104 	addi	r3,r3,32068
  153e98:	e0bff817 	ldw	r2,-32(fp)
  153e9c:	100490fa 	slli	r2,r2,3
  153ea0:	1885883a 	add	r2,r3,r2
  153ea4:	10800104 	addi	r2,r2,4
  153ea8:	e0ffff17 	ldw	r3,-4(fp)
  153eac:	10c00015 	stw	r3,0(r2)

    rc = (isr) ? alt_ic_irq_enable(ic_id, id) : alt_ic_irq_disable(ic_id, id);
  153eb0:	e0bffe17 	ldw	r2,-8(fp)
  153eb4:	10000526 	beq	r2,zero,153ecc <alt_iic_isr_register+0xb4>
  153eb8:	e0bff817 	ldw	r2,-32(fp)
  153ebc:	e13ffc17 	ldw	r4,-16(fp)
  153ec0:	100b883a 	mov	r5,r2
  153ec4:	0153c900 	call	153c90 <alt_ic_irq_enable>
  153ec8:	00000406 	br	153edc <alt_iic_isr_register+0xc4>
  153ecc:	e0bff817 	ldw	r2,-32(fp)
  153ed0:	e13ffc17 	ldw	r4,-16(fp)
  153ed4:	100b883a 	mov	r5,r2
  153ed8:	0153d2c0 	call	153d2c <alt_ic_irq_disable>
  153edc:	e0bff715 	stw	r2,-36(fp)
  153ee0:	e0bff917 	ldw	r2,-28(fp)
  153ee4:	e0bffb15 	stw	r2,-20(fp)
  status &= ~NIOS2_STATUS_PIE_MSK;
  status |= (context & NIOS2_STATUS_PIE_MSK);
  
  NIOS2_WRITE_STATUS (status);
#else
  NIOS2_WRITE_STATUS (context);
  153ee8:	e0bffb17 	ldw	r2,-20(fp)
  153eec:	1001703a 	wrctl	status,r2

    alt_irq_enable_all(status);
  }

  return rc; 
  153ef0:	e0bff717 	ldw	r2,-36(fp)
}
  153ef4:	e037883a 	mov	sp,fp
  153ef8:	dfc00117 	ldw	ra,4(sp)
  153efc:	df000017 	ldw	fp,0(sp)
  153f00:	dec00204 	addi	sp,sp,8
  153f04:	f800283a 	ret

00153f08 <alt_load_section>:
 */

static void ALT_INLINE alt_load_section (alt_u32* from, 
                                         alt_u32* to, 
                                         alt_u32* end)
{
  153f08:	defffc04 	addi	sp,sp,-16
  153f0c:	df000315 	stw	fp,12(sp)
  153f10:	df000304 	addi	fp,sp,12
  153f14:	e13ffd15 	stw	r4,-12(fp)
  153f18:	e17ffe15 	stw	r5,-8(fp)
  153f1c:	e1bfff15 	stw	r6,-4(fp)
  if (to != from)
  153f20:	e0fffe17 	ldw	r3,-8(fp)
  153f24:	e0bffd17 	ldw	r2,-12(fp)
  153f28:	18800e26 	beq	r3,r2,153f64 <alt_load_section+0x5c>
  {
    while( to != end )
  153f2c:	00000a06 	br	153f58 <alt_load_section+0x50>
    {
      *to++ = *from++;
  153f30:	e0bffd17 	ldw	r2,-12(fp)
  153f34:	10c00017 	ldw	r3,0(r2)
  153f38:	e0bffe17 	ldw	r2,-8(fp)
  153f3c:	10c00015 	stw	r3,0(r2)
  153f40:	e0bffe17 	ldw	r2,-8(fp)
  153f44:	10800104 	addi	r2,r2,4
  153f48:	e0bffe15 	stw	r2,-8(fp)
  153f4c:	e0bffd17 	ldw	r2,-12(fp)
  153f50:	10800104 	addi	r2,r2,4
  153f54:	e0bffd15 	stw	r2,-12(fp)
                                         alt_u32* to, 
                                         alt_u32* end)
{
  if (to != from)
  {
    while( to != end )
  153f58:	e0fffe17 	ldw	r3,-8(fp)
  153f5c:	e0bfff17 	ldw	r2,-4(fp)
  153f60:	18bff31e 	bne	r3,r2,153f30 <alt_load_section+0x28>
    {
      *to++ = *from++;
    }
  }
}
  153f64:	e037883a 	mov	sp,fp
  153f68:	df000017 	ldw	fp,0(sp)
  153f6c:	dec00104 	addi	sp,sp,4
  153f70:	f800283a 	ret

00153f74 <alt_load>:
 * there is no bootloader, so this application is responsible for loading to
 * RAM any sections that are required.
 */  

void alt_load (void)
{
  153f74:	defffe04 	addi	sp,sp,-8
  153f78:	dfc00115 	stw	ra,4(sp)
  153f7c:	df000015 	stw	fp,0(sp)
  153f80:	d839883a 	mov	fp,sp
  /* 
   * Copy the .rwdata section. 
   */

  alt_load_section (&__flash_rwdata_start, 
  153f84:	01000574 	movhi	r4,21
  153f88:	2117fb04 	addi	r4,r4,24556
  153f8c:	01400574 	movhi	r5,21
  153f90:	2953af04 	addi	r5,r5,20156
  153f94:	01800574 	movhi	r6,21
  153f98:	3197fb04 	addi	r6,r6,24556
  153f9c:	0153f080 	call	153f08 <alt_load_section>

  /*
   * Copy the exception handler.
   */

  alt_load_section (&__flash_exceptions_start, 
  153fa0:	01000574 	movhi	r4,21
  153fa4:	21000804 	addi	r4,r4,32
  153fa8:	01400574 	movhi	r5,21
  153fac:	29400804 	addi	r5,r5,32
  153fb0:	01800574 	movhi	r6,21
  153fb4:	31806e04 	addi	r6,r6,440
  153fb8:	0153f080 	call	153f08 <alt_load_section>

  /*
   * Copy the .rodata section.
   */

  alt_load_section (&__flash_rodata_start, 
  153fbc:	01000574 	movhi	r4,21
  153fc0:	2111d404 	addi	r4,r4,18256
  153fc4:	01400574 	movhi	r5,21
  153fc8:	2951d404 	addi	r5,r5,18256
  153fcc:	01800574 	movhi	r6,21
  153fd0:	3193af04 	addi	r6,r6,20156
  153fd4:	0153f080 	call	153f08 <alt_load_section>
  
  /*
   * Now ensure that the caches are in synch.
   */
  
  alt_dcache_flush_all();
  153fd8:	01541bc0 	call	1541bc <alt_dcache_flush_all>
  alt_icache_flush_all();
  153fdc:	01542bc0 	call	1542bc <alt_icache_flush_all>
}
  153fe0:	e037883a 	mov	sp,fp
  153fe4:	dfc00117 	ldw	ra,4(sp)
  153fe8:	df000017 	ldw	fp,0(sp)
  153fec:	dec00204 	addi	sp,sp,8
  153ff0:	f800283a 	ret

00153ff4 <alt_main>:
 * devices/filesystems/components in the system; and call the entry point for
 * the users application, i.e. main().
 */

void alt_main (void)
{
  153ff4:	defffd04 	addi	sp,sp,-12
  153ff8:	dfc00215 	stw	ra,8(sp)
  153ffc:	df000115 	stw	fp,4(sp)
  154000:	df000104 	addi	fp,sp,4
#endif

  /* ALT LOG - please see HAL/sys/alt_log_printf.h for details */
  ALT_LOG_PRINT_BOOT("[alt_main.c] Entering alt_main, calling alt_irq_init.\r\n");
  /* Initialize the interrupt controller. */
  alt_irq_init (NULL);
  154004:	0009883a 	mov	r4,zero
  154008:	01540500 	call	154050 <alt_irq_init>

  /* Initialize the operating system */
  ALT_LOG_PRINT_BOOT("[alt_main.c] Done alt_irq_init, calling alt_os_init.\r\n");
  ALT_OS_INIT();
  15400c:	0001883a 	nop
  ALT_LOG_PRINT_BOOT("[alt_main.c] Done OS Init, calling alt_sem_create.\r\n");
  ALT_SEM_CREATE (&alt_fd_list_lock, 1);

  /* Initialize the device drivers/software components. */
  ALT_LOG_PRINT_BOOT("[alt_main.c] Calling alt_sys_init.\r\n");
  alt_sys_init();
  154010:	01540840 	call	154084 <alt_sys_init>
  /* 
   * Call the C++ constructors 
   */

  ALT_LOG_PRINT_BOOT("[alt_main.c] Calling C++ constructors.\r\n");
  _do_ctors ();
  154014:	01542040 	call	154204 <_do_ctors>
   * redefined as _exit()). This is in the interest of reducing code footprint,
   * in that the atexit() overhead is removed when it's not needed.
   */

  ALT_LOG_PRINT_BOOT("[alt_main.c] Calling atexit.\r\n");
  atexit (_do_dtors);
  154018:	01000574 	movhi	r4,21
  15401c:	21109804 	addi	r4,r4,16992
  154020:	01543f80 	call	1543f8 <atexit>
  ALT_LOG_PRINT_BOOT("[alt_main.c] Calling main.\r\n");

#ifdef ALT_NO_EXIT
  main (alt_argc, alt_argv, alt_envp);
#else
  result = main (alt_argc, alt_argv, alt_envp);
  154024:	d1246617 	ldw	r4,-28264(gp)
  154028:	d0e46717 	ldw	r3,-28260(gp)
  15402c:	d0a46817 	ldw	r2,-28256(gp)
  154030:	180b883a 	mov	r5,r3
  154034:	100d883a 	mov	r6,r2
  154038:	01507280 	call	150728 <main>
  15403c:	e0bfff15 	stw	r2,-4(fp)
  close(STDOUT_FILENO);
  154040:	01000044 	movi	r4,1
  154044:	01540f40 	call	1540f4 <close>
  exit (result);
  154048:	e13fff17 	ldw	r4,-4(fp)
  15404c:	015440c0 	call	15440c <exit>

00154050 <alt_irq_init>:
 * The "base" parameter is ignored and only
 * present for backwards-compatibility.
 */

void alt_irq_init ( const void* base )
{
  154050:	defffd04 	addi	sp,sp,-12
  154054:	dfc00215 	stw	ra,8(sp)
  154058:	df000115 	stw	fp,4(sp)
  15405c:	df000104 	addi	fp,sp,4
  154060:	e13fff15 	stw	r4,-4(fp)
    ALTERA_NIOS2_QSYS_IRQ_INIT ( PROC, PROC);
  154064:	015434c0 	call	15434c <altera_nios2_qsys_irq_init>
 * alt_irq_cpu_enable_interrupts() enables the CPU to start taking interrupts.
 */
static ALT_INLINE void ALT_ALWAYS_INLINE 
       alt_irq_cpu_enable_interrupts ()
{
    NIOS2_WRITE_STATUS(NIOS2_STATUS_PIE_MSK
  154068:	00800044 	movi	r2,1
  15406c:	1001703a 	wrctl	status,r2
    alt_irq_cpu_enable_interrupts();
}
  154070:	e037883a 	mov	sp,fp
  154074:	dfc00117 	ldw	ra,4(sp)
  154078:	df000017 	ldw	fp,0(sp)
  15407c:	dec00204 	addi	sp,sp,8
  154080:	f800283a 	ret

00154084 <alt_sys_init>:
 * Initialize the non-interrupt controller devices.
 * Called after alt_irq_init().
 */

void alt_sys_init( void )
{
  154084:	deffff04 	addi	sp,sp,-4
  154088:	df000015 	stw	fp,0(sp)
  15408c:	d839883a 	mov	fp,sp
    ALTERA_AVALON_SYSID_QSYS_INIT ( SYSID_QSYS_0, sysid_qsys_0);
  154090:	0001883a 	nop
}
  154094:	e037883a 	mov	sp,fp
  154098:	df000017 	ldw	fp,0(sp)
  15409c:	dec00104 	addi	sp,sp,4
  1540a0:	f800283a 	ret

001540a4 <alt_get_errno>:
#undef errno

extern int errno;

static ALT_INLINE int* alt_get_errno(void)
{
  1540a4:	defffe04 	addi	sp,sp,-8
  1540a8:	dfc00115 	stw	ra,4(sp)
  1540ac:	df000015 	stw	fp,0(sp)
  1540b0:	d839883a 	mov	fp,sp
  return ((alt_errno) ? alt_errno() : &errno);
  1540b4:	00800574 	movhi	r2,21
  1540b8:	1097f804 	addi	r2,r2,24544
  1540bc:	10800017 	ldw	r2,0(r2)
  1540c0:	10000526 	beq	r2,zero,1540d8 <alt_get_errno+0x34>
  1540c4:	00800574 	movhi	r2,21
  1540c8:	1097f804 	addi	r2,r2,24544
  1540cc:	10800017 	ldw	r2,0(r2)
  1540d0:	103ee83a 	callr	r2
  1540d4:	00000206 	br	1540e0 <alt_get_errno+0x3c>
  1540d8:	00800574 	movhi	r2,21
  1540dc:	109c5b04 	addi	r2,r2,29036
}
  1540e0:	e037883a 	mov	sp,fp
  1540e4:	dfc00117 	ldw	ra,4(sp)
  1540e8:	df000017 	ldw	fp,0(sp)
  1540ec:	dec00204 	addi	sp,sp,8
  1540f0:	f800283a 	ret

001540f4 <close>:
 *
 * ALT_CLOSE is mapped onto the close() system call in alt_syscall.h
 */
 
int ALT_CLOSE (int fildes)
{
  1540f4:	defffb04 	addi	sp,sp,-20
  1540f8:	dfc00415 	stw	ra,16(sp)
  1540fc:	df000315 	stw	fp,12(sp)
  154100:	df000304 	addi	fp,sp,12
  154104:	e13fff15 	stw	r4,-4(fp)
   * A common error case is that when the file descriptor was created, the call
   * to open() failed resulting in a negative file descriptor. This is trapped
   * below so that we don't try and process an invalid file descriptor.
   */

  fd = (fildes < 0) ? NULL : &alt_fd_list[fildes];
  154108:	e0bfff17 	ldw	r2,-4(fp)
  15410c:	10000616 	blt	r2,zero,154128 <close+0x34>
  154110:	e0bfff17 	ldw	r2,-4(fp)
  154114:	10c00324 	muli	r3,r2,12
  154118:	00800574 	movhi	r2,21
  15411c:	10969204 	addi	r2,r2,23112
  154120:	1885883a 	add	r2,r3,r2
  154124:	00000106 	br	15412c <close+0x38>
  154128:	0005883a 	mov	r2,zero
  15412c:	e0bffd15 	stw	r2,-12(fp)

  if (fd)
  154130:	e0bffd17 	ldw	r2,-12(fp)
  154134:	10001826 	beq	r2,zero,154198 <close+0xa4>
    /*
     * If the associated file system/device has a close function, call it so 
     * that any necessary cleanup code can run.
     */

    rval = (fd->dev->close) ? fd->dev->close(fd) : 0;
  154138:	e0bffd17 	ldw	r2,-12(fp)
  15413c:	10800017 	ldw	r2,0(r2)
  154140:	10800417 	ldw	r2,16(r2)
  154144:	10000626 	beq	r2,zero,154160 <close+0x6c>
  154148:	e0bffd17 	ldw	r2,-12(fp)
  15414c:	10800017 	ldw	r2,0(r2)
  154150:	10800417 	ldw	r2,16(r2)
  154154:	e13ffd17 	ldw	r4,-12(fp)
  154158:	103ee83a 	callr	r2
  15415c:	00000106 	br	154164 <close+0x70>
  154160:	0005883a 	mov	r2,zero
  154164:	e0bffe15 	stw	r2,-8(fp)

    /* Free the file descriptor structure and return. */

    alt_release_fd (fildes);
  154168:	e13fff17 	ldw	r4,-4(fp)
  15416c:	01542ec0 	call	1542ec <alt_release_fd>
    if (rval < 0)
  154170:	e0bffe17 	ldw	r2,-8(fp)
  154174:	1000060e 	bge	r2,zero,154190 <close+0x9c>
    {
      ALT_ERRNO = -rval;
  154178:	01540a40 	call	1540a4 <alt_get_errno>
  15417c:	e0fffe17 	ldw	r3,-8(fp)
  154180:	00c7c83a 	sub	r3,zero,r3
  154184:	10c00015 	stw	r3,0(r2)
      return -1;
  154188:	00bfffc4 	movi	r2,-1
  15418c:	00000606 	br	1541a8 <close+0xb4>
    }
    return 0;
  154190:	0005883a 	mov	r2,zero
  154194:	00000406 	br	1541a8 <close+0xb4>
  }
  else
  {
    ALT_ERRNO = EBADFD;
  154198:	01540a40 	call	1540a4 <alt_get_errno>
  15419c:	00c01444 	movi	r3,81
  1541a0:	10c00015 	stw	r3,0(r2)
    return -1;
  1541a4:	00bfffc4 	movi	r2,-1
  }
}
  1541a8:	e037883a 	mov	sp,fp
  1541ac:	dfc00117 	ldw	ra,4(sp)
  1541b0:	df000017 	ldw	fp,0(sp)
  1541b4:	dec00204 	addi	sp,sp,8
  1541b8:	f800283a 	ret

001541bc <alt_dcache_flush_all>:
/*
 * alt_dcache_flush_all() is called to flush the entire data cache.
 */

void alt_dcache_flush_all (void)
{
  1541bc:	deffff04 	addi	sp,sp,-4
  1541c0:	df000015 	stw	fp,0(sp)
  1541c4:	d839883a 	mov	fp,sp
  for (i = (char*) 0; i < (char*) NIOS2_DCACHE_SIZE; i+= NIOS2_DCACHE_LINE_SIZE)
  { 
    __asm__ volatile ("flushd (%0)" :: "r" (i));
  }
#endif /* NIOS2_DCACHE_SIZE > 0 */
}
  1541c8:	e037883a 	mov	sp,fp
  1541cc:	df000017 	ldw	fp,0(sp)
  1541d0:	dec00104 	addi	sp,sp,4
  1541d4:	f800283a 	ret

001541d8 <alt_dev_null_write>:
 * by the alt_dev_null device. It simple discards all data passed to it, and
 * indicates that the data has been successfully transmitted.
 */

static int alt_dev_null_write (alt_fd* fd, const char* ptr, int len)
{
  1541d8:	defffc04 	addi	sp,sp,-16
  1541dc:	df000315 	stw	fp,12(sp)
  1541e0:	df000304 	addi	fp,sp,12
  1541e4:	e13ffd15 	stw	r4,-12(fp)
  1541e8:	e17ffe15 	stw	r5,-8(fp)
  1541ec:	e1bfff15 	stw	r6,-4(fp)
  return len;
  1541f0:	e0bfff17 	ldw	r2,-4(fp)
}
  1541f4:	e037883a 	mov	sp,fp
  1541f8:	df000017 	ldw	fp,0(sp)
  1541fc:	dec00104 	addi	sp,sp,4
  154200:	f800283a 	ret

00154204 <_do_ctors>:
/*
 * Run the C++ static constructors.
 */

void _do_ctors(void)
{
  154204:	defffd04 	addi	sp,sp,-12
  154208:	dfc00215 	stw	ra,8(sp)
  15420c:	df000115 	stw	fp,4(sp)
  154210:	df000104 	addi	fp,sp,4
  constructor* ctor;

  for (ctor = &__CTOR_END__[-1]; ctor >= __CTOR_LIST__; ctor--)
  154214:	00800574 	movhi	r2,21
  154218:	1091d304 	addi	r2,r2,18252
  15421c:	e0bfff15 	stw	r2,-4(fp)
  154220:	00000606 	br	15423c <_do_ctors+0x38>
        (*ctor) (); 
  154224:	e0bfff17 	ldw	r2,-4(fp)
  154228:	10800017 	ldw	r2,0(r2)
  15422c:	103ee83a 	callr	r2

void _do_ctors(void)
{
  constructor* ctor;

  for (ctor = &__CTOR_END__[-1]; ctor >= __CTOR_LIST__; ctor--)
  154230:	e0bfff17 	ldw	r2,-4(fp)
  154234:	10bfff04 	addi	r2,r2,-4
  154238:	e0bfff15 	stw	r2,-4(fp)
  15423c:	e0ffff17 	ldw	r3,-4(fp)
  154240:	00800574 	movhi	r2,21
  154244:	1091d404 	addi	r2,r2,18256
  154248:	18bff62e 	bgeu	r3,r2,154224 <_do_ctors+0x20>
        (*ctor) (); 
}
  15424c:	e037883a 	mov	sp,fp
  154250:	dfc00117 	ldw	ra,4(sp)
  154254:	df000017 	ldw	fp,0(sp)
  154258:	dec00204 	addi	sp,sp,8
  15425c:	f800283a 	ret

00154260 <_do_dtors>:
/*
 * Run the C++ static destructors.
 */

void _do_dtors(void)
{
  154260:	defffd04 	addi	sp,sp,-12
  154264:	dfc00215 	stw	ra,8(sp)
  154268:	df000115 	stw	fp,4(sp)
  15426c:	df000104 	addi	fp,sp,4
  destructor* dtor;

  for (dtor = &__DTOR_END__[-1]; dtor >= __DTOR_LIST__; dtor--)
  154270:	00800574 	movhi	r2,21
  154274:	1091d304 	addi	r2,r2,18252
  154278:	e0bfff15 	stw	r2,-4(fp)
  15427c:	00000606 	br	154298 <_do_dtors+0x38>
        (*dtor) (); 
  154280:	e0bfff17 	ldw	r2,-4(fp)
  154284:	10800017 	ldw	r2,0(r2)
  154288:	103ee83a 	callr	r2

void _do_dtors(void)
{
  destructor* dtor;

  for (dtor = &__DTOR_END__[-1]; dtor >= __DTOR_LIST__; dtor--)
  15428c:	e0bfff17 	ldw	r2,-4(fp)
  154290:	10bfff04 	addi	r2,r2,-4
  154294:	e0bfff15 	stw	r2,-4(fp)
  154298:	e0ffff17 	ldw	r3,-4(fp)
  15429c:	00800574 	movhi	r2,21
  1542a0:	1091d404 	addi	r2,r2,18256
  1542a4:	18bff62e 	bgeu	r3,r2,154280 <_do_dtors+0x20>
        (*dtor) (); 
}
  1542a8:	e037883a 	mov	sp,fp
  1542ac:	dfc00117 	ldw	ra,4(sp)
  1542b0:	df000017 	ldw	fp,0(sp)
  1542b4:	dec00204 	addi	sp,sp,8
  1542b8:	f800283a 	ret

001542bc <alt_icache_flush_all>:
/*
 * alt_icache_flush_all() is called to flush the entire instruction cache.
 */

void alt_icache_flush_all (void)
{
  1542bc:	defffe04 	addi	sp,sp,-8
  1542c0:	dfc00115 	stw	ra,4(sp)
  1542c4:	df000015 	stw	fp,0(sp)
  1542c8:	d839883a 	mov	fp,sp
#if NIOS2_ICACHE_SIZE > 0
  alt_icache_flush (0, NIOS2_ICACHE_SIZE);
  1542cc:	0009883a 	mov	r4,zero
  1542d0:	01440004 	movi	r5,4096
  1542d4:	015436c0 	call	15436c <alt_icache_flush>
#endif
}
  1542d8:	e037883a 	mov	sp,fp
  1542dc:	dfc00117 	ldw	ra,4(sp)
  1542e0:	df000017 	ldw	fp,0(sp)
  1542e4:	dec00204 	addi	sp,sp,8
  1542e8:	f800283a 	ret

001542ec <alt_release_fd>:
 * File descriptors correcponding to standard in, standard out and standard 
 * error cannont be released backed to the pool. They are always reserved.
 */

void alt_release_fd (int fd)
{
  1542ec:	defffe04 	addi	sp,sp,-8
  1542f0:	df000115 	stw	fp,4(sp)
  1542f4:	df000104 	addi	fp,sp,4
  1542f8:	e13fff15 	stw	r4,-4(fp)
  if (fd > 2)
  1542fc:	e0bfff17 	ldw	r2,-4(fp)
  154300:	108000d0 	cmplti	r2,r2,3
  154304:	10000d1e 	bne	r2,zero,15433c <alt_release_fd+0x50>
  {
    alt_fd_list[fd].fd_flags = 0;
  154308:	00c00574 	movhi	r3,21
  15430c:	18d69204 	addi	r3,r3,23112
  154310:	e0bfff17 	ldw	r2,-4(fp)
  154314:	10800324 	muli	r2,r2,12
  154318:	1885883a 	add	r2,r3,r2
  15431c:	10800204 	addi	r2,r2,8
  154320:	10000015 	stw	zero,0(r2)
    alt_fd_list[fd].dev      = 0;
  154324:	00c00574 	movhi	r3,21
  154328:	18d69204 	addi	r3,r3,23112
  15432c:	e0bfff17 	ldw	r2,-4(fp)
  154330:	10800324 	muli	r2,r2,12
  154334:	1885883a 	add	r2,r3,r2
  154338:	10000015 	stw	zero,0(r2)
  }
}
  15433c:	e037883a 	mov	sp,fp
  154340:	df000017 	ldw	fp,0(sp)
  154344:	dec00104 	addi	sp,sp,4
  154348:	f800283a 	ret

0015434c <altera_nios2_qsys_irq_init>:
/*
 * To initialize the internal interrupt controller, just clear the IENABLE
 * register so that all possible IRQs are disabled.
 */
void altera_nios2_qsys_irq_init(void) 
{
  15434c:	deffff04 	addi	sp,sp,-4
  154350:	df000015 	stw	fp,0(sp)
  154354:	d839883a 	mov	fp,sp
    NIOS2_WRITE_IENABLE(0);
  154358:	000170fa 	wrctl	ienable,zero
}
  15435c:	e037883a 	mov	sp,fp
  154360:	df000017 	ldw	fp,0(sp)
  154364:	dec00104 	addi	sp,sp,4
  154368:	f800283a 	ret

0015436c <alt_icache_flush>:
 * alt_icache_flush() is called to flush the instruction cache for a memory
 * region of length "len" bytes, starting at address "start".
 */

void alt_icache_flush (void* start, alt_u32 len)
{
  15436c:	defffb04 	addi	sp,sp,-20
  154370:	df000415 	stw	fp,16(sp)
  154374:	df000404 	addi	fp,sp,16
  154378:	e13ffe15 	stw	r4,-8(fp)
  15437c:	e17fff15 	stw	r5,-4(fp)

  /*
   * This is the most we would ever need to flush.
   */
 
  if (len > NIOS2_ICACHE_SIZE)
  154380:	e0bfff17 	ldw	r2,-4(fp)
  154384:	10840070 	cmpltui	r2,r2,4097
  154388:	1000021e 	bne	r2,zero,154394 <alt_icache_flush+0x28>
  {
    len = NIOS2_ICACHE_SIZE;
  15438c:	00840004 	movi	r2,4096
  154390:	e0bfff15 	stw	r2,-4(fp)
  }

  end = ((char*) start) + len;
  154394:	e0fffe17 	ldw	r3,-8(fp)
  154398:	e0bfff17 	ldw	r2,-4(fp)
  15439c:	1885883a 	add	r2,r3,r2
  1543a0:	e0bffd15 	stw	r2,-12(fp)

  for (i = start; i < end; i+= NIOS2_ICACHE_LINE_SIZE)
  1543a4:	e0bffe17 	ldw	r2,-8(fp)
  1543a8:	e0bffc15 	stw	r2,-16(fp)
  1543ac:	00000506 	br	1543c4 <alt_icache_flush+0x58>
  { 
    __asm__ volatile ("flushi %0" :: "r" (i)); 
  1543b0:	e0bffc17 	ldw	r2,-16(fp)
  1543b4:	1000603a 	flushi	r2
    len = NIOS2_ICACHE_SIZE;
  }

  end = ((char*) start) + len;

  for (i = start; i < end; i+= NIOS2_ICACHE_LINE_SIZE)
  1543b8:	e0bffc17 	ldw	r2,-16(fp)
  1543bc:	10800804 	addi	r2,r2,32
  1543c0:	e0bffc15 	stw	r2,-16(fp)
  1543c4:	e0fffc17 	ldw	r3,-16(fp)
  1543c8:	e0bffd17 	ldw	r2,-12(fp)
  1543cc:	18bff836 	bltu	r3,r2,1543b0 <alt_icache_flush+0x44>
   * For an unaligned flush request, we've got one more line left.
   * Note that this is dependent on NIOS2_ICACHE_LINE_SIZE to be a 
   * multiple of 2 (which it always is).
   */

  if (((alt_u32) start) & (NIOS2_ICACHE_LINE_SIZE - 1))
  1543d0:	e0bffe17 	ldw	r2,-8(fp)
  1543d4:	108007cc 	andi	r2,r2,31
  1543d8:	10000226 	beq	r2,zero,1543e4 <alt_icache_flush+0x78>
  {
    __asm__ volatile ("flushi %0" :: "r" (i));
  1543dc:	e0bffc17 	ldw	r2,-16(fp)
  1543e0:	1000603a 	flushi	r2
  /* 
   * Having flushed the cache, flush any stale instructions in the 
   * pipeline 
   */

  __asm__ volatile ("flushp");
  1543e4:	0000203a 	flushp

#endif /* NIOS2_ICACHE_SIZE > 0 */
}
  1543e8:	e037883a 	mov	sp,fp
  1543ec:	df000017 	ldw	fp,0(sp)
  1543f0:	dec00104 	addi	sp,sp,4
  1543f4:	f800283a 	ret

001543f8 <atexit>:
  1543f8:	200b883a 	mov	r5,r4
  1543fc:	000d883a 	mov	r6,zero
  154400:	0009883a 	mov	r4,zero
  154404:	000f883a 	mov	r7,zero
  154408:	01544441 	jmpi	154444 <__register_exitproc>

0015440c <exit>:
  15440c:	defffe04 	addi	sp,sp,-8
  154410:	000b883a 	mov	r5,zero
  154414:	dc000015 	stw	r16,0(sp)
  154418:	dfc00115 	stw	ra,4(sp)
  15441c:	2021883a 	mov	r16,r4
  154420:	01545740 	call	154574 <__call_exitprocs>
  154424:	00800574 	movhi	r2,21
  154428:	1097f904 	addi	r2,r2,24548
  15442c:	11000017 	ldw	r4,0(r2)
  154430:	20800f17 	ldw	r2,60(r4)
  154434:	10000126 	beq	r2,zero,15443c <exit+0x30>
  154438:	103ee83a 	callr	r2
  15443c:	8009883a 	mov	r4,r16
  154440:	01547140 	call	154714 <_exit>

00154444 <__register_exitproc>:
  154444:	defffa04 	addi	sp,sp,-24
  154448:	00800574 	movhi	r2,21
  15444c:	1097f904 	addi	r2,r2,24548
  154450:	dc000315 	stw	r16,12(sp)
  154454:	14000017 	ldw	r16,0(r2)
  154458:	dc400415 	stw	r17,16(sp)
  15445c:	dfc00515 	stw	ra,20(sp)
  154460:	80805217 	ldw	r2,328(r16)
  154464:	2023883a 	mov	r17,r4
  154468:	10003e26 	beq	r2,zero,154564 <__register_exitproc+0x120>
  15446c:	10c00117 	ldw	r3,4(r2)
  154470:	020007c4 	movi	r8,31
  154474:	40c0180e 	bge	r8,r3,1544d8 <__register_exitproc+0x94>
  154478:	00800034 	movhi	r2,0
  15447c:	10800004 	addi	r2,r2,0
  154480:	1000061e 	bne	r2,zero,15449c <__register_exitproc+0x58>
  154484:	00bfffc4 	movi	r2,-1
  154488:	dfc00517 	ldw	ra,20(sp)
  15448c:	dc400417 	ldw	r17,16(sp)
  154490:	dc000317 	ldw	r16,12(sp)
  154494:	dec00604 	addi	sp,sp,24
  154498:	f800283a 	ret
  15449c:	01006404 	movi	r4,400
  1544a0:	d9400015 	stw	r5,0(sp)
  1544a4:	d9800115 	stw	r6,4(sp)
  1544a8:	d9c00215 	stw	r7,8(sp)
  1544ac:	00000000 	call	0 <PIO_IRQ_MASK-0x8>
  1544b0:	d9400017 	ldw	r5,0(sp)
  1544b4:	d9800117 	ldw	r6,4(sp)
  1544b8:	d9c00217 	ldw	r7,8(sp)
  1544bc:	103ff126 	beq	r2,zero,154484 <__register_exitproc+0x40>
  1544c0:	80c05217 	ldw	r3,328(r16)
  1544c4:	10000115 	stw	zero,4(r2)
  1544c8:	10c00015 	stw	r3,0(r2)
  1544cc:	80805215 	stw	r2,328(r16)
  1544d0:	10006215 	stw	zero,392(r2)
  1544d4:	10006315 	stw	zero,396(r2)
  1544d8:	10c00117 	ldw	r3,4(r2)
  1544dc:	88000d1e 	bne	r17,zero,154514 <__register_exitproc+0xd0>
  1544e0:	19000084 	addi	r4,r3,2
  1544e4:	2109883a 	add	r4,r4,r4
  1544e8:	18c00044 	addi	r3,r3,1
  1544ec:	2109883a 	add	r4,r4,r4
  1544f0:	1109883a 	add	r4,r2,r4
  1544f4:	10c00115 	stw	r3,4(r2)
  1544f8:	0005883a 	mov	r2,zero
  1544fc:	21400015 	stw	r5,0(r4)
  154500:	dfc00517 	ldw	ra,20(sp)
  154504:	dc400417 	ldw	r17,16(sp)
  154508:	dc000317 	ldw	r16,12(sp)
  15450c:	dec00604 	addi	sp,sp,24
  154510:	f800283a 	ret
  154514:	02400044 	movi	r9,1
  154518:	12806217 	ldw	r10,392(r2)
  15451c:	48d2983a 	sll	r9,r9,r3
  154520:	19000804 	addi	r4,r3,32
  154524:	18d1883a 	add	r8,r3,r3
  154528:	2109883a 	add	r4,r4,r4
  15452c:	4211883a 	add	r8,r8,r8
  154530:	2109883a 	add	r4,r4,r4
  154534:	1109883a 	add	r4,r2,r4
  154538:	1211883a 	add	r8,r2,r8
  15453c:	5254b03a 	or	r10,r10,r9
  154540:	21c02215 	stw	r7,136(r4)
  154544:	41802215 	stw	r6,136(r8)
  154548:	12806215 	stw	r10,392(r2)
  15454c:	01000084 	movi	r4,2
  154550:	893fe31e 	bne	r17,r4,1544e0 <__register_exitproc+0x9c>
  154554:	11006317 	ldw	r4,396(r2)
  154558:	2252b03a 	or	r9,r4,r9
  15455c:	12406315 	stw	r9,396(r2)
  154560:	003fdf06 	br	1544e0 <__register_exitproc+0x9c>
  154564:	00800574 	movhi	r2,21
  154568:	109f9104 	addi	r2,r2,32324
  15456c:	80805215 	stw	r2,328(r16)
  154570:	003fbe06 	br	15446c <__register_exitproc+0x28>

00154574 <__call_exitprocs>:
  154574:	00800574 	movhi	r2,21
  154578:	1097f904 	addi	r2,r2,24548
  15457c:	10800017 	ldw	r2,0(r2)
  154580:	defff304 	addi	sp,sp,-52
  154584:	df000b15 	stw	fp,44(sp)
  154588:	d8800015 	stw	r2,0(sp)
  15458c:	10805204 	addi	r2,r2,328
  154590:	dd400815 	stw	r21,32(sp)
  154594:	dfc00c15 	stw	ra,48(sp)
  154598:	ddc00a15 	stw	r23,40(sp)
  15459c:	dd800915 	stw	r22,36(sp)
  1545a0:	dd000715 	stw	r20,28(sp)
  1545a4:	dcc00615 	stw	r19,24(sp)
  1545a8:	dc800515 	stw	r18,20(sp)
  1545ac:	dc400415 	stw	r17,16(sp)
  1545b0:	dc000315 	stw	r16,12(sp)
  1545b4:	d9000115 	stw	r4,4(sp)
  1545b8:	2839883a 	mov	fp,r5
  1545bc:	d8800215 	stw	r2,8(sp)
  1545c0:	057fffc4 	movi	r21,-1
  1545c4:	d8800017 	ldw	r2,0(sp)
  1545c8:	ddc00217 	ldw	r23,8(sp)
  1545cc:	14805217 	ldw	r18,328(r2)
  1545d0:	90001726 	beq	r18,zero,154630 <__call_exitprocs+0xbc>
  1545d4:	94400117 	ldw	r17,4(r18)
  1545d8:	8c3fffc4 	addi	r16,r17,-1
  1545dc:	80001116 	blt	r16,zero,154624 <__call_exitprocs+0xb0>
  1545e0:	8c400044 	addi	r17,r17,1
  1545e4:	8427883a 	add	r19,r16,r16
  1545e8:	8c63883a 	add	r17,r17,r17
  1545ec:	95802204 	addi	r22,r18,136
  1545f0:	9ce7883a 	add	r19,r19,r19
  1545f4:	8c63883a 	add	r17,r17,r17
  1545f8:	b4e7883a 	add	r19,r22,r19
  1545fc:	9463883a 	add	r17,r18,r17
  154600:	e0001726 	beq	fp,zero,154660 <__call_exitprocs+0xec>
  154604:	8c87c83a 	sub	r3,r17,r18
  154608:	b0c7883a 	add	r3,r22,r3
  15460c:	18c01e17 	ldw	r3,120(r3)
  154610:	1f001326 	beq	r3,fp,154660 <__call_exitprocs+0xec>
  154614:	843fffc4 	addi	r16,r16,-1
  154618:	9cffff04 	addi	r19,r19,-4
  15461c:	8c7fff04 	addi	r17,r17,-4
  154620:	857ff71e 	bne	r16,r21,154600 <__call_exitprocs+0x8c>
  154624:	00800034 	movhi	r2,0
  154628:	10800004 	addi	r2,r2,0
  15462c:	10002a1e 	bne	r2,zero,1546d8 <__call_exitprocs+0x164>
  154630:	dfc00c17 	ldw	ra,48(sp)
  154634:	df000b17 	ldw	fp,44(sp)
  154638:	ddc00a17 	ldw	r23,40(sp)
  15463c:	dd800917 	ldw	r22,36(sp)
  154640:	dd400817 	ldw	r21,32(sp)
  154644:	dd000717 	ldw	r20,28(sp)
  154648:	dcc00617 	ldw	r19,24(sp)
  15464c:	dc800517 	ldw	r18,20(sp)
  154650:	dc400417 	ldw	r17,16(sp)
  154654:	dc000317 	ldw	r16,12(sp)
  154658:	dec00d04 	addi	sp,sp,52
  15465c:	f800283a 	ret
  154660:	91000117 	ldw	r4,4(r18)
  154664:	88c00017 	ldw	r3,0(r17)
  154668:	213fffc4 	addi	r4,r4,-1
  15466c:	24001526 	beq	r4,r16,1546c4 <__call_exitprocs+0x150>
  154670:	88000015 	stw	zero,0(r17)
  154674:	183fe726 	beq	r3,zero,154614 <__call_exitprocs+0xa0>
  154678:	00800044 	movi	r2,1
  15467c:	1408983a 	sll	r4,r2,r16
  154680:	91406217 	ldw	r5,392(r18)
  154684:	95000117 	ldw	r20,4(r18)
  154688:	214a703a 	and	r5,r4,r5
  15468c:	28000b26 	beq	r5,zero,1546bc <__call_exitprocs+0x148>
  154690:	91406317 	ldw	r5,396(r18)
  154694:	2148703a 	and	r4,r4,r5
  154698:	20000c1e 	bne	r4,zero,1546cc <__call_exitprocs+0x158>
  15469c:	99400017 	ldw	r5,0(r19)
  1546a0:	d9000117 	ldw	r4,4(sp)
  1546a4:	183ee83a 	callr	r3
  1546a8:	90c00117 	ldw	r3,4(r18)
  1546ac:	1d3fc51e 	bne	r3,r20,1545c4 <__call_exitprocs+0x50>
  1546b0:	b8c00017 	ldw	r3,0(r23)
  1546b4:	1cbfd726 	beq	r3,r18,154614 <__call_exitprocs+0xa0>
  1546b8:	003fc206 	br	1545c4 <__call_exitprocs+0x50>
  1546bc:	183ee83a 	callr	r3
  1546c0:	003ff906 	br	1546a8 <__call_exitprocs+0x134>
  1546c4:	94000115 	stw	r16,4(r18)
  1546c8:	003fea06 	br	154674 <__call_exitprocs+0x100>
  1546cc:	99000017 	ldw	r4,0(r19)
  1546d0:	183ee83a 	callr	r3
  1546d4:	003ff406 	br	1546a8 <__call_exitprocs+0x134>
  1546d8:	90c00117 	ldw	r3,4(r18)
  1546dc:	1800071e 	bne	r3,zero,1546fc <__call_exitprocs+0x188>
  1546e0:	90c00017 	ldw	r3,0(r18)
  1546e4:	18000926 	beq	r3,zero,15470c <__call_exitprocs+0x198>
  1546e8:	9009883a 	mov	r4,r18
  1546ec:	b8c00015 	stw	r3,0(r23)
  1546f0:	00000000 	call	0 <PIO_IRQ_MASK-0x8>
  1546f4:	bc800017 	ldw	r18,0(r23)
  1546f8:	003fb506 	br	1545d0 <__call_exitprocs+0x5c>
  1546fc:	90c00017 	ldw	r3,0(r18)
  154700:	902f883a 	mov	r23,r18
  154704:	1825883a 	mov	r18,r3
  154708:	003fb106 	br	1545d0 <__call_exitprocs+0x5c>
  15470c:	0007883a 	mov	r3,zero
  154710:	003ffb06 	br	154700 <__call_exitprocs+0x18c>

00154714 <_exit>:
 *
 * ALT_EXIT is mapped onto the _exit() system call in alt_syscall.h
 */

void ALT_EXIT (int exit_code)
{
  154714:	defffc04 	addi	sp,sp,-16
  154718:	df000315 	stw	fp,12(sp)
  15471c:	df000304 	addi	fp,sp,12
  154720:	e13fff15 	stw	r4,-4(fp)
  ALT_LOG_PRINT_BOOT("[alt_exit.c] Entering _exit() function.\r\n");
  ALT_LOG_PRINT_BOOT("[alt_exit.c] Exit code from main was %d.\r\n",exit_code);
  /* Stop all other threads */

  ALT_LOG_PRINT_BOOT("[alt_exit.c] Calling ALT_OS_STOP().\r\n");
  ALT_OS_STOP();
  154724:	0001883a 	nop
  154728:	e0bfff17 	ldw	r2,-4(fp)
  15472c:	e0bffd15 	stw	r2,-12(fp)
/*
 * Routine called on exit.
 */
static ALT_INLINE ALT_ALWAYS_INLINE void alt_sim_halt(int exit_code)
{
  int r2 = exit_code;
  154730:	e0bffd17 	ldw	r2,-12(fp)
  154734:	e0bffe15 	stw	r2,-8(fp)
  __asm__ volatile ("\n0:\n\taddi %0,%0, -1\n\tbgt %0,zero,0b" : : "r" (ALT_CPU_FREQ/100) ); /* Delay for >30ms */

  __asm__ volatile ("break 2" : : "D02"(r2), "D03"(r3) ALT_GMON_DATA );

#else /* !DEBUG_STUB */
  if (r2) {
  154738:	e0bffe17 	ldw	r2,-8(fp)
  15473c:	10000226 	beq	r2,zero,154748 <_exit+0x34>
    ALT_SIM_FAIL();
  154740:	002af070 	cmpltui	zero,zero,43969
  154744:	00000106 	br	15474c <_exit+0x38>
  } else {
    ALT_SIM_PASS();
  154748:	002af0b0 	cmpltui	zero,zero,43970
  ALT_SIM_HALT(exit_code);

  /* spin forever, since there's no where to go back to */

  ALT_LOG_PRINT_BOOT("[alt_exit.c] Spinning forever.\r\n");
  while (1);
  15474c:	003fff06 	br	15474c <_exit+0x38>
